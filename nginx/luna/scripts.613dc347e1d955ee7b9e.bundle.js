function localStorageSupport(){return"localStorage"in window&&null!==window.localStorage}function animationHover(e,t){(e=$(e)).hover(function(){e.addClass("animated "+t)},function(){window.setTimeout(function(){e.removeClass("animated "+t)},2e3)})}function SmoothlyMenu(){!$("body").hasClass("mini-navbar")||$("body").hasClass("body-small")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},200)):$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(400)},100)):$("#side-menu").removeAttr("style")}function WinMove(){$("[class*=col]").sortable({handle:".ibox-title",connectWith:"[class*=col]",tolerance:"pointer",forcePlaceholderSize:!0,opacity:.8}).disableSelection()}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var i=[],n=e.document,r=Object.getPrototypeOf,o=i.slice,s=i.concat,a=i.push,l=i.indexOf,h={},c=h.toString,u=h.hasOwnProperty,d=u.toString,f=d.call(Object),p={};function g(e,t){var i=(t=t||n).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}var m="3.2.1",_=function(e,t){return new _.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,b=/-([a-z])/g,C=function(e,t){return t.toUpperCase()};function w(e){var t=!!e&&"length"in e&&e.length,i=_.type(e);return"function"!==i&&!_.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:m,constructor:_,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},_.extend=_.fn.extend=function(){var e,t,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||_.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=s[t],s!==(n=e[t])&&(h&&n&&(_.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,o=i&&Array.isArray(i)?i:[]):o=i&&_.isPlainObject(i)?i:{},s[t]=_.extend(h,o,n)):void 0!==n&&(s[t]=n));return s},_.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===_.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==c.call(e)||(t=r(e))&&(i=u.call(t,"constructor")&&t.constructor,"function"!=typeof i||d.call(i)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[c.call(e)]||"object":typeof e},globalEval:function(e){g(e)},camelCase:function(e){return e.replace(y,"ms-").replace(b,C)},each:function(e,t){var i,n=0;if(w(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(w(Object(e))?_.merge(i,"string"==typeof e?[e]:e):a.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:l.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,s=!i;r<o;r++)!t(e[r],r)!==s&&n.push(e[r]);return n},map:function(e,t,i){var n,r,o=0,a=[];if(w(e))for(n=e.length;o<n;o++)null!=(r=t(e[o],o,i))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,i))&&a.push(r);return s.apply([],a)},guid:1,proxy:function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),_.isFunction(e))return n=o.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(o.call(arguments)))}).guid=e.guid=e.guid||_.guid++,r},now:Date.now,support:p}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=i[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var E=function(e){var t,i,n,r,o,s,a,l,h,c,u,d,f,p,g,m,_,v,y,b="sizzle"+1*new Date,C=e.document,w=0,E=0,S=se(),T=se(),x=se(),k=function(e,t){return e===t&&(u=!0),0},N={}.hasOwnProperty,A=[],I=A.pop,L=A.push,R=A.push,D=A.slice,M=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+P+"*("+H+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+P+"*\\]",B=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",F=new RegExp(P+"+","g"),W=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),q=new RegExp("^"+P+"*,"+P+"*"),U=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),z=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),V=new RegExp(B),Y=new RegExp("^"+H+"$"),K={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){d()},re=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{R.apply(A=D.call(C.childNodes),C.childNodes)}catch(e){R={apply:A.length?function(e,t){L.apply(e,D.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function oe(e,t,n,r){var o,a,h,c,u,p,_,v=t&&t.ownerDocument,w=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return n;if(!r&&((t?t.ownerDocument||t:C)!==f&&d(t),t=t||f,g)){if(11!==w&&(u=Q.exec(e)))if(o=u[1]){if(9===w){if(!(h=t.getElementById(o)))return n;if(h.id===o)return n.push(h),n}else if(v&&(h=v.getElementById(o))&&y(t,h)&&h.id===o)return n.push(h),n}else{if(u[2])return R.apply(n,t.getElementsByTagName(e)),n;if((o=u[3])&&i.getElementsByClassName&&t.getElementsByClassName)return R.apply(n,t.getElementsByClassName(o)),n}if(i.qsa&&!x[e+" "]&&(!m||!m.test(e))){if(1!==w)v=t,_=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ie):t.setAttribute("id",c=b),a=(p=s(e)).length;a--;)p[a]="#"+c+" "+_e(p[a]);_=p.join(","),v=Z.test(e)&&ge(t.parentNode)||t}if(_)try{return R.apply(n,v.querySelectorAll(_)),n}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return l(e.replace(W,"$1"),t,n,r)}function se(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function ae(e){return e[b]=!0,e}function le(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function ce(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pe(e){return ae(function(t){return t=+t,ae(function(i,n){for(var r,o=e([],i.length,t),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(t in i=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:C;return s!==f&&9===s.nodeType&&s.documentElement?(p=(f=s).documentElement,g=!o(f),C!==f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=G.test(f.getElementsByClassName),i.getById=le(function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var i,n,r,o=t.getElementById(e);if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o];for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},n.find.CLASS=i.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},_=[],m=[],(i.qsa=G.test(f.querySelectorAll))&&(le(function(e){p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+P+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+P+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=G.test(v=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&le(function(e){i.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),_.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),_=_.length&&new RegExp(_.join("|")),t=G.test(p.compareDocumentPosition),y=t||G.test(p.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===f||e.ownerDocument===C&&y(C,e)?-1:t===f||t.ownerDocument===C&&y(C,t)?1:c?M(c,e)-M(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===f?-1:t===f?1:r?-1:o?1:c?M(c,e)-M(c,t):0;if(r===o)return ce(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ce(s[n],a[n]):s[n]===C?-1:a[n]===C?1:0},f):f},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),t=t.replace(z,"='$1']"),i.matchesSelector&&g&&!x[t+" "]&&(!_||!_.test(t))&&(!m||!m.test(t)))try{var n=v.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return oe(t,f,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==f&&d(e);var r=n.attrHandle[t.toLowerCase()],o=r&&N.call(n.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:i.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ie)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,o=0;if(u=!i.detectDuplicates,c=!i.sortStable&&e.slice(0),e.sort(k),u){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return c=null,e},r=oe.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=oe.selectors={cacheLength:50,createPseudo:ae,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&V.test(i)&&(t=s(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=oe.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(F," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var h,c,u,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===_:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&v){for(y=(f=(h=(c=(u=(d=m)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===w&&h[1])&&h[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===t){c[e]=[w,f,y];break}}else if(v&&(y=f=(h=(c=(u=(d=t)[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]||[])[0]===w&&h[1]),!1===y)for(;(d=++f&&d&&d[g]||(y=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==_:1!==d.nodeType)||!++y||(v&&((c=(u=d[b]||(d[b]={}))[d.uniqueID]||(u[d.uniqueID]={}))[e]=[w,y]),d!==t)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,i){for(var n,o=r(e,t),s=o.length;s--;)e[n=M(e,o[s])]=!(i[n]=o[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:ae(function(e){var t=[],i=[],n=a(e.replace(W,"$1"));return n[b]?ae(function(e,t,i,r){for(var o,s=n(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return Y.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var i;do{if(i=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,i){return[i<0?i+t:i]}),even:pe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:pe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:pe(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:pe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=de(t);function me(){}function _e(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ve(e,t,i){var n=t.dir,r=t.next,o=r||n,s=i&&"parentNode"===o,a=E++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||s)return e(t,i,r);return!1}:function(t,i,l){var h,c,u,d=[w,a];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(c=(u=t[b]||(t[b]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((h=c[o])&&h[0]===w&&h[1]===a)return d[2]=h[2];if(c[o]=d,d[2]=e(t,i,l))return!0}return!1}}function ye(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function be(e,t,i,n,r){for(var o,s=[],a=0,l=e.length,h=null!=t;a<l;a++)(o=e[a])&&(i&&!i(o,n,r)||(s.push(o),h&&t.push(a)));return s}function Ce(e,t,i,n,r,o){return n&&!n[b]&&(n=Ce(n)),r&&!r[b]&&(r=Ce(r,o)),ae(function(o,s,a,l){var h,c,u,d=[],f=[],p=s.length,g=o||function(e,t,i){for(var n=0,r=t.length;n<r;n++)oe(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:be(g,d,e,a,l),_=i?r||(o?e:p||n)?[]:s:m;if(i&&i(m,_,a,l),n)for(h=be(_,f),n(h,[],a,l),c=h.length;c--;)(u=h[c])&&(_[f[c]]=!(m[f[c]]=u));if(o){if(r||e){if(r){for(h=[],c=_.length;c--;)(u=_[c])&&h.push(m[c]=u);r(null,_=[],h,l)}for(c=_.length;c--;)(u=_[c])&&(h=r?M(o,u):d[c])>-1&&(o[h]=!(s[h]=u))}}else _=be(_===s?_.splice(p,_.length):_),r?r(null,s,_,l):R.apply(s,_)})}function we(e){for(var t,i,r,o=e.length,s=n.relative[e[0].type],a=s||n.relative[" "],l=s?1:0,c=ve(function(e){return e===t},a,!0),u=ve(function(e){return M(t,e)>-1},a,!0),d=[function(e,i,n){var r=!s&&(n||i!==h)||((t=i).nodeType?c(e,i,n):u(e,i,n));return t=null,r}];l<o;l++)if(i=n.relative[e[l].type])d=[ve(ye(d),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<o&&!n.relative[e[r].type];r++);return Ce(l>1&&ye(d),l>1&&_e(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),i,l<r&&we(e.slice(l,r)),r<o&&we(e=e.slice(r)),r<o&&_e(e))}d.push(i)}return ye(d)}function Ee(e,t){var i=t.length>0,r=e.length>0,o=function(o,s,a,l,c){var u,p,m,_=0,v="0",y=o&&[],b=[],C=h,E=o||r&&n.find.TAG("*",c),S=w+=null==C?1:Math.random()||.1,T=E.length;for(c&&(h=s===f||s||c);v!==T&&null!=(u=E[v]);v++){if(r&&u){for(p=0,s||u.ownerDocument===f||(d(u),a=!g);m=e[p++];)if(m(u,s||f,a)){l.push(u);break}c&&(w=S)}i&&((u=!m&&u)&&_--,o&&y.push(u))}if(_+=v,i&&v!==_){for(p=0;m=t[p++];)m(y,b,s,a);if(o){if(_>0)for(;v--;)y[v]||b[v]||(b[v]=I.call(l));b=be(b)}R.apply(l,b),c&&!o&&b.length>0&&_+t.length>1&&oe.uniqueSort(l)}return c&&(w=S,h=C),y};return i?ae(o):o}return me.prototype=n.filters=n.pseudos,n.setFilters=new me,s=oe.tokenize=function(e,t){var i,r,o,s,a,l,h,c=T[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],h=n.preFilter;a;){for(s in i&&!(r=q.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=U.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(W," ")}),a=a.slice(i.length)),n.filter)!(r=K[s].exec(a))||h[s]&&!(r=h[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?oe.error(e):T(e,l).slice(0)},a=oe.compile=function(e,t){var i,n=[],r=[],o=x[e+" "];if(!o){for(t||(t=s(e)),i=t.length;i--;)(o=we(t[i]))[b]?n.push(o):r.push(o);(o=x(e,Ee(r,n))).selector=e}return o},l=oe.select=function(e,t,i,r){var o,l,h,c,u,d="function"==typeof e&&e,f=!r&&s(e=d.selector||e);if(i=i||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(h=l[0]).type&&9===t.nodeType&&g&&n.relative[l[1].type]){if(!(t=(n.find.ID(h.matches[0].replace(J,ee),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=K.needsContext.test(e)?0:l.length;o--&&!n.relative[c=(h=l[o]).type];)if((u=n.find[c])&&(r=u(h.matches[0].replace(J,ee),Z.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&_e(l)))return R.apply(i,r),i;break}}return(d||a(e,f))(r,t,!g,i,!t||Z.test(e)&&ge(t.parentNode)||t),i},i.sortStable=b.split("").sort(k).join("")===b,i.detectDuplicates=!!u,d(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||he(O,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),oe}(e);_.find=E,_.expr=E.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=E.uniqueSort,_.text=E.getText,_.isXMLDoc=E.isXML,_.contains=E.contains,_.escapeSelector=E.escape;var S=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(i))break;n.push(e)}return n},T=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},x=_.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,A=/^.[^:#\[\.,]*$/;function I(e,t,i){return _.isFunction(t)?_.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?_.grep(e,function(e){return e===t!==i}):"string"!=typeof t?_.grep(e,function(e){return l.call(t,e)>-1!==i}):A.test(t)?_.filter(t,e,i):(t=_.filter(t,e),_.grep(e,function(e){return l.call(t,e)>-1!==i&&1===e.nodeType}))}_.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?_.find.matchesSelector(n,e)?[n]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<n;t++)if(_.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)_.find(e,r[t],i);return n>1?_.uniqueSort(i):i},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&x.test(e)?_(e):e||[],!1).length}});var L,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,i){var r,o;if(!e)return this;if(i=i||L,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(r[1]){if(_.merge(this,_.parseHTML(r[1],(t=t instanceof _?t[0]:t)&&t.nodeType?t.ownerDocument||t:n,!0)),N.test(r[1])&&_.isPlainObject(t))for(r in t)_.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(o=n.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_.isFunction(e)?void 0!==i.ready?i.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,L=_(n);var D=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,o=[],s="string"!=typeof e&&_(e);if(!x.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&_.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?l.call(_(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,i){return S(e,"parentNode",i)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,i){return S(e,"nextSibling",i)},prevUntil:function(e,t,i){return S(e,"previousSibling",i)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return k(e,"iframe")?e.contentDocument:(k(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},function(e,t){_.fn[e]=function(i,n){var r=_.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=_.filter(n,r)),this.length>1&&(M[e]||_.uniqueSort(r),D.test(e)&&r.reverse()),this.pushStack(r)}});var P=/[^\x20\t\r\n\f]+/g;function H(e){return e}function j(e){throw e}function B(e,t,i,n){var r;try{e&&_.isFunction(r=e.promise)?r.call(e).done(t).fail(i):e&&_.isFunction(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return _.each(e.match(P)||[],function(e,i){t[i]=!0}),t}(e):_.extend({},e);var t,i,n,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,n=t=!0;s.length;a=-1)for(i=s.shift();++a<o.length;)!1===o[a].apply(i[0],i[1])&&e.stopOnFalse&&(a=o.length,i=!1);e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},h={add:function(){return o&&(i&&!t&&(a=o.length-1,s.push(i)),function t(i){_.each(i,function(i,n){_.isFunction(n)?e.unique&&h.has(n)||o.push(n):n&&n.length&&"string"!==_.type(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return _.each(arguments,function(e,t){for(var i;(i=_.inArray(t,o,i))>-1;)o.splice(i,1),i<=a&&a--}),this},has:function(e){return e?_.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=s=[],i||t||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],s.push(i),t||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},_.extend({Deferred:function(t){var i=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _.Deferred(function(t){_.each(i,function(i,n){var r=_.isFunction(e[n[4]])&&e[n[4]];o[n[1]](function(){var e=r&&r.apply(this,arguments);e&&_.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,n,r){var o=0;function s(t,i,n,r){return function(){var a=this,l=arguments,h=function(){var e,h;if(!(t<o)){if((e=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");_.isFunction(h=e&&("object"==typeof e||"function"==typeof e)&&e.then)?r?h.call(e,s(o,i,H,r),s(o,i,j,r)):h.call(e,s(++o,i,H,r),s(o,i,j,r),s(o,i,H,i.notifyWith)):(n!==H&&(a=void 0,l=[e]),(r||i.resolveWith)(a,l))}},c=r?h:function(){try{h()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(n!==j&&(a=void 0,l=[e]),i.rejectWith(a,l))}};t?c():(_.Deferred.getStackHook&&(c.stackTrace=_.Deferred.getStackHook()),e.setTimeout(c))}}return _.Deferred(function(e){i[0][3].add(s(0,e,_.isFunction(r)?r:H,e.notifyWith)),i[1][3].add(s(0,e,_.isFunction(t)?t:H)),i[2][3].add(s(0,e,_.isFunction(n)?n:j))}).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},o={};return _.each(i,function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add(function(){n=a},i[3-e][2].disable,i[0][2].lock),s.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,i=t,n=Array(i),r=o.call(arguments),s=_.Deferred(),a=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?o.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(B(e,s.done(a(i)).resolve,s.reject,!t),"pending"===s.state()||_.isFunction(r[i]&&r[i].then)))return s.then();for(;i--;)B(r[i],a(i),s.reject);return s.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},_.readyException=function(t){e.setTimeout(function(){throw t})};var W=_.Deferred();function q(){n.removeEventListener("DOMContentLoaded",q),e.removeEventListener("load",q),_.ready()}_.fn.ready=function(e){return W.then(e).catch(function(e){_.readyException(e)}),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||W.resolveWith(n,[_]))}}),_.ready.then=W.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?e.setTimeout(_.ready):(n.addEventListener("DOMContentLoaded",q),e.addEventListener("load",q));var U=function(e,t,i,n,r,o,s){var a=0,l=e.length,h=null==i;if("object"===_.type(i))for(a in r=!0,i)U(e,t,a,i[a],!0,o,s);else if(void 0!==n&&(r=!0,_.isFunction(n)||(s=!0),h&&(s?(t.call(e,n),t=null):(h=t,t=function(e,t,i){return h.call(_(e),i)})),t))for(;a<l;a++)t(e[a],i,s?n:n.call(e[a],a,t(e[a],i)));return r?e:h?t.call(e):l?t(e[0],i):o},z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function V(){this.expando=_.expando+V.uid++}V.uid=1,V.prototype={cache:function(e){var t=e[this.expando];return t||(t={},z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[_.camelCase(t)]=i;else for(n in t)r[_.camelCase(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][_.camelCase(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(_.camelCase):(t=_.camelCase(t))in n?[t]:t.match(P)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||_.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var Y=new V,K=new V,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function G(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace($,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:X.test(e)?JSON.parse(e):e)}(i)}catch(e){}K.set(e,t,i)}else i=void 0;return i}_.extend({hasData:function(e){return K.hasData(e)||Y.hasData(e)},data:function(e,t,i){return K.access(e,t,i)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,i){return Y.access(e,t,i)},_removeData:function(e,t){Y.remove(e,t)}}),_.fn.extend({data:function(e,t){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=K.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=_.camelCase(n.slice(5)),G(o,n,r[n]));Y.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){K.set(this,e)}):U(this,function(t){var i;if(o&&void 0===t){if(void 0!==(i=K.get(o,e)))return i;if(void 0!==(i=G(o,e)))return i}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),_.extend({queue:function(e,t,i){var n;if(e)return n=Y.get(e,t=(t||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=Y.access(e,t,_.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){var i=_.queue(e,t=t||"fx"),n=i.length,r=i.shift(),o=_._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){_.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Y.get(e,i)||Y.access(e,i,{empty:_.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",i])})})}}),_.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?_.queue(this[0],e):void 0===t?this:this.each(function(){var i=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&_.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=_.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=Y.get(o[s],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Z=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),J=["Top","Right","Bottom","Left"],ee=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&_.contains(e.ownerDocument,e)&&"none"===_.css(e,"display")},te=function(e,t,i,n){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=i.apply(e,n||[]),t)e.style[o]=s[o];return r};function ie(e,t,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return _.css(e,t,"")},l=a(),h=i&&i[3]||(_.cssNumber[t]?"":"px"),c=(_.cssNumber[t]||"px"!==h&&+l)&&Z.exec(_.css(e,t));if(c&&c[3]!==h){h=h||c[3],i=i||[],c=+l||1;do{_.style(e,t,(c/=o=o||".5")+h)}while(o!==(o=a()/l)&&1!==o&&--s)}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=r)),r}var ne={};function re(e){var t,i=e.ownerDocument,n=e.nodeName,r=ne[n];return r||(t=i.body.appendChild(i.createElement(n)),r=_.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ne[n]=r,r)}function oe(e,t){for(var i,n,r=[],o=0,s=e.length;o<s;o++)(n=e[o]).style&&(i=n.style.display,t?("none"===i&&(r[o]=Y.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&ee(n)&&(r[o]=re(n))):"none"!==i&&(r[o]="none",Y.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}_.fn.extend({show:function(){return oe(this,!0)},hide:function(){return oe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ee(this)?_(this).show():_(this).hide()})}});var se=/^(?:checkbox|radio)$/i,ae=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,le=/^$|\/(?:java|ecma)script/i,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){var i;return i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?_.merge([e],i):i}function ue(e,t){for(var i=0,n=e.length;i<n;i++)Y.set(e[i],"globalEval",!t||Y.get(t[i],"globalEval"))}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td;var de=/<|&#?\w+;/;function fe(e,t,i,n,r){for(var o,s,a,l,h,c,u=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===_.type(o))_.merge(d,o.nodeType?[o]:o);else if(de.test(o)){for(s=s||u.appendChild(t.createElement("div")),a=(ae.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=he[a]||he._default)[1]+_.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;_.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(t.createTextNode(o));for(u.textContent="",f=0;o=d[f++];)if(n&&_.inArray(o,n)>-1)r&&r.push(o);else if(h=_.contains(o.ownerDocument,o),s=ce(u.appendChild(o),"script"),h&&ue(s),i)for(c=0;o=s[c++];)le.test(o.type||"")&&i.push(o);return u}!function(){var e=n.createDocumentFragment().appendChild(n.createElement("div")),t=n.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),p.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var pe=n.documentElement,ge=/^key/,me=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_e=/^([^.]*)(?:\.(.+)|)/;function ve(){return!0}function ye(){return!1}function be(){try{return n.activeElement}catch(e){}}function Ce(e,t,i,n,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=void 0),t)Ce(e,a,i,n,t[a],o);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=ye;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return _().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=_.guid++)),e.each(function(){_.event.add(this,t,r,n,i)})}_.event={global:{},add:function(e,t,i,n,r){var o,s,a,l,h,c,u,d,f,p,g,m=Y.get(e);if(m)for(i.handler&&(i=(o=i).handler,r=o.selector),r&&_.find.matchesSelector(pe,r),i.guid||(i.guid=_.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return"undefined"!=typeof _&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match(P)||[""]).length;h--;)f=g=(a=_e.exec(t[h])||[])[1],p=(a[2]||"").split(".").sort(),f&&(u=_.event.special[f]||{},u=_.event.special[f=(r?u.delegateType:u.bindType)||f]||{},c=_.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,s)||e.addEventListener&&e.addEventListener(f,s)),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),_.event.global[f]=!0)},remove:function(e,t,i,n,r){var o,s,a,l,h,c,u,d,f,p,g,m=Y.hasData(e)&&Y.get(e);if(m&&(l=m.events)){for(h=(t=(t||"").match(P)||[""]).length;h--;)if(f=g=(a=_e.exec(t[h])||[])[1],p=(a[2]||"").split(".").sort(),f){for(u=_.event.special[f]||{},d=l[f=(n?u.delegateType:u.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(e,c));s&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,p,m.handle)||_.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)_.event.remove(e,f+t[h],i,n,!0);_.isEmptyObject(l)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,o,s,a=_.event.fix(e),l=new Array(arguments.length),h=(Y.get(this,"events")||{})[a.type]||[],c=_.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=_.event.handlers.call(this,a,h),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(n=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,r,o,s,a=[],l=t.delegateCount,h=e.target;if(l&&h.nodeType&&!("click"===e.type&&e.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==e.type||!0!==h.disabled)){for(o=[],s={},i=0;i<l;i++)void 0===s[r=(n=t[i]).selector+" "]&&(s[r]=n.needsContext?_(r,this).index(h)>-1:_.find(r,this,null,[h]).length),s[r]&&o.push(n);o.length&&a.push({elem:h,handlers:o})}return h=this,l<t.length&&a.push({elem:h,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:_.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==be()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===be()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k(this,"input"))return this.click(),!1},_default:function(e){return k(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},_.Event=function(e,t){return this instanceof _.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ve:ye,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(e,t)},_.Event.prototype={constructor:_.Event,isDefaultPrevented:ye,isPropagationStopped:ye,isImmediatePropagationStopped:ye,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ve,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ve,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ve,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ge.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&me.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||_.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),_.fn.extend({on:function(e,t,i,n){return Ce(this,e,t,i,n)},one:function(e,t,i,n){return Ce(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,_(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=ye),this.each(function(){_.event.remove(this,e,i,t)})}});var we=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,Se=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^true\/(.*)/,xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ke(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&_(">tbody",e)[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ae(e){var t=Te.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ie(e,t){var i,n,r,o,s,a,l,h;if(1===t.nodeType){if(Y.hasData(e)&&(o=Y.access(e),s=Y.set(t,o),h=o.events))for(r in delete s.handle,s.events={},h)for(i=0,n=h[r].length;i<n;i++)_.event.add(t,r,h[r][i]);K.hasData(e)&&(a=K.access(e),l=_.extend({},a),K.set(t,l))}}function Le(e,t){var i=t.nodeName.toLowerCase();"input"===i&&se.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function Re(e,t,i,n){t=s.apply([],t);var r,o,a,l,h,c,u=0,d=e.length,f=d-1,m=t[0],v=_.isFunction(m);if(v||d>1&&"string"==typeof m&&!p.checkClone&&Se.test(m))return e.each(function(r){var o=e.eq(r);v&&(t[0]=m.call(this,r,o.html())),Re(o,t,i,n)});if(d&&(o=(r=fe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=o),o||n)){for(l=(a=_.map(ce(r,"script"),Ne)).length;u<d;u++)h=r,u!==f&&(h=_.clone(h,!0,!0),l&&_.merge(a,ce(h,"script"))),i.call(e[u],h,u);if(l)for(c=a[a.length-1].ownerDocument,_.map(a,Ae),u=0;u<l;u++)le.test((h=a[u]).type||"")&&!Y.access(h,"globalEval")&&_.contains(c,h)&&(h.src?_._evalUrl&&_._evalUrl(h.src):g(h.textContent.replace(xe,""),c))}return e}function De(e,t,i){for(var n,r=t?_.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||_.cleanData(ce(n)),n.parentNode&&(i&&_.contains(n.ownerDocument,n)&&ue(ce(n,"script")),n.parentNode.removeChild(n));return e}_.extend({htmlPrefilter:function(e){return e.replace(we,"<$1></$2>")},clone:function(e,t,i){var n,r,o,s,a=e.cloneNode(!0),l=_.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(s=ce(a),n=0,r=(o=ce(e)).length;n<r;n++)Le(o[n],s[n]);if(t)if(i)for(o=o||ce(e),s=s||ce(a),n=0,r=o.length;n<r;n++)Ie(o[n],s[n]);else Ie(e,a);return(s=ce(a,"script")).length>0&&ue(s,!l&&ce(e,"script")),a},cleanData:function(e){for(var t,i,n,r=_.event.special,o=0;void 0!==(i=e[o]);o++)if(z(i)){if(t=i[Y.expando]){if(t.events)for(n in t.events)r[n]?_.event.remove(i,n):_.removeEvent(i,n,t.handle);i[Y.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),_.fn.extend({detach:function(e){return De(this,e,!0)},remove:function(e){return De(this,e)},text:function(e){return U(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ke(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ke(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(ce(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!he[(ae.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(_.cleanData(ce(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var i=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(ce(this)),i&&i.replaceChild(t,this))},e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_.fn[e]=function(e){for(var i,n=[],r=_(e),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),_(r[s])[t](i),a.apply(n,i.get());return this.pushStack(n)}});var Me=/^margin/,Oe=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),Pe=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)};function He(e,t,i){var n,r,o,s,a=e.style;return(i=i||Pe(e))&&(""!==(s=i.getPropertyValue(t)||i[t])||_.contains(e.ownerDocument,e)||(s=_.style(e,t)),!p.pixelMarginRight()&&Oe.test(s)&&Me.test(t)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function je(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){function t(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",pe.appendChild(a);var t=e.getComputedStyle(l);i="1%"!==t.top,s="2px"===t.marginLeft,r="4px"===t.width,l.style.marginRight="50%",o="4px"===t.marginRight,pe.removeChild(a),l=null}}var i,r,o,s,a=n.createElement("div"),l=n.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===l.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(l),_.extend(p,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),o},reliableMarginLeft:function(){return t(),s}}))}();var Be=/^(none|table(?!-c[ea]).+)/,Fe=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},qe={letterSpacing:"0",fontWeight:"400"},Ue=["Webkit","Moz","ms"],ze=n.createElement("div").style;function Ve(e){var t=_.cssProps[e];return t||(t=_.cssProps[e]=function(e){if(e in ze)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Ue.length;i--;)if((e=Ue[i]+t)in ze)return e}(e)||e),t}function Ye(e,t,i){var n=Z.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Ke(e,t,i,n,r){var o,s=0;for(o=i===(n?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===i&&(s+=_.css(e,i+J[o],!0,r)),n?("content"===i&&(s-=_.css(e,"padding"+J[o],!0,r)),"margin"!==i&&(s-=_.css(e,"border"+J[o]+"Width",!0,r))):(s+=_.css(e,"padding"+J[o],!0,r),"padding"!==i&&(s+=_.css(e,"border"+J[o]+"Width",!0,r)));return s}function Xe(e,t,i){var n,r=Pe(e),o=He(e,t,r),s="border-box"===_.css(e,"boxSizing",!1,r);return Oe.test(o)?o:(n=s&&(p.boxSizingReliable()||o===e.style[t]),"auto"===o&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)]),(o=parseFloat(o)||0)+Ke(e,t,i||(s?"border":"content"),n,r)+"px")}function $e(e,t,i,n,r){return new $e.prototype.init(e,t,i,n,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=He(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=_.camelCase(t),l=Fe.test(t),h=e.style;return l||(t=Ve(a)),s=_.cssHooks[t]||_.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(e,!1,n))?r:h[t]:("string"==(o=typeof i)&&(r=Z.exec(i))&&r[1]&&(i=ie(e,t,r),o="number"),void(null!=i&&i==i&&("number"===o&&(i+=r&&r[3]||(_.cssNumber[a]?"":"px")),p.clearCloneStyle||""!==i||0!==t.indexOf("background")||(h[t]="inherit"),s&&"set"in s&&void 0===(i=s.set(e,i,n))||(l?h.setProperty(t,i):h[t]=i))))}},css:function(e,t,i,n){var r,o,s,a=_.camelCase(t);return Fe.test(t)||(t=Ve(a)),(s=_.cssHooks[t]||_.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,i)),void 0===r&&(r=He(e,t,n)),"normal"===r&&t in qe&&(r=qe[t]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),_.each(["height","width"],function(e,t){_.cssHooks[t]={get:function(e,i,n){if(i)return!Be.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Xe(e,t,n):te(e,We,function(){return Xe(e,t,n)})},set:function(e,i,n){var r,o=n&&Pe(e),s=n&&Ke(e,t,n,"border-box"===_.css(e,"boxSizing",!1,o),o);return s&&(r=Z.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=_.css(e,t)),Ye(0,i,s)}}}),_.cssHooks.marginLeft=je(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-te(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(e,t){_.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+J[n]+t]=o[n]||o[n-2]||o[0];return r}},Me.test(e)||(_.cssHooks[e+t].set=Ye)}),_.fn.extend({css:function(e,t){return U(this,function(e,t,i){var n,r,o={},s=0;if(Array.isArray(t)){for(n=Pe(e),r=t.length;s<r;s++)o[t[s]]=_.css(e,t[s],!1,n);return o}return void 0!==i?_.style(e,t,i):_.css(e,t)},e,t,arguments.length>1)}}),_.Tween=$e,($e.prototype={constructor:$e,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(_.cssNumber[i]?"":"px")},cur:function(){var e=$e.propHooks[this.prop];return e&&e.get?e.get(this):$e.propHooks._default.get(this)},run:function(e){var t,i=$e.propHooks[this.prop];return this.pos=t=this.options.duration?_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$e.propHooks._default.set(this),this}}).init.prototype=$e.prototype,($e.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[_.cssProps[e.prop]]&&!_.cssHooks[e.prop]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=$e.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=$e.prototype.init,_.fx.step={};var Ge,Qe,Ze=/^(?:toggle|show|hide)$/,Je=/queueHooks$/;function et(){Qe&&(!1===n.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(et):e.setTimeout(et,_.fx.interval),_.fx.tick())}function tt(){return e.setTimeout(function(){Ge=void 0}),Ge=_.now()}function it(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=J[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function nt(e,t,i){for(var n,r=(rt.tweeners[t]||[]).concat(rt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,t,e))return n}function rt(e,t,i){var n,r,o=0,s=rt.prefilters.length,a=_.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ge||tt(),i=Math.max(0,h.startTime+h.duration-t),n=1-(i/h.duration||0),o=0,s=h.tweens.length;o<s;o++)h.tweens[o].run(n);return a.notifyWith(e,[h,n,i]),n<1&&s?i:(s||a.notifyWith(e,[h,1,0]),a.resolveWith(e,[h]),!1)},h=a.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},i),originalProperties:t,originalOptions:i,startTime:Ge||tt(),duration:i.duration,tweens:[],createTween:function(t,i){var n=_.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var i=0,n=t?h.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)h.tweens[i].run(1);return t?(a.notifyWith(e,[h,1,0]),a.resolveWith(e,[h,t])):a.rejectWith(e,[h,t]),this}}),c=h.props;for(function(e,t){var i,n,r,o,s;for(i in e)if(r=t[n=_.camelCase(i)],o=e[i],Array.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(s=_.cssHooks[n])&&"expand"in s)for(i in o=s.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r);else t[n]=r}(c,h.opts.specialEasing);o<s;o++)if(n=rt.prefilters[o].call(h,e,c,h.opts))return _.isFunction(n.stop)&&(_._queueHooks(h.elem,h.opts.queue).stop=_.proxy(n.stop,n)),n;return _.map(c,nt,h),_.isFunction(h.opts.start)&&h.opts.start.call(e,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h}_.Animation=_.extend(rt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return ie(i.elem,e,Z.exec(t),i),i}]},tweener:function(e,t){_.isFunction(e)?(t=e,e=["*"]):e=e.match(P);for(var i,n=0,r=e.length;n<r;n++)(rt.tweeners[i=e[n]]=rt.tweeners[i]||[]).unshift(t)},prefilters:[function(e,t,i){var n,r,o,s,a,l,h,c,u="width"in t||"height"in t,d=this,f={},p=e.style,g=e.nodeType&&ee(e),m=Y.get(e,"fxshow");for(n in i.queue||(null==(s=_._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,_.queue(e,"fx").length||s.empty.fire()})})),t)if(Ze.test(r=t[n])){if(delete t[n],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||_.style(e,n)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(f))for(n in u&&1===e.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(h=m&&m.display)&&(h=Y.get(e,"display")),"none"===(c=_.css(e,"display"))&&(h?c=h:(oe([e],!0),h=e.style.display||h,c=_.css(e,"display"),oe([e]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===_.css(e,"float")&&(l||(d.done(function(){p.display=h}),null==h&&(h="none"===(c=p.display)?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=Y.access(e,"fxshow",{display:h}),o&&(m.hidden=!g),g&&oe([e],!0),d.done(function(){for(n in g||oe([e]),Y.remove(e,"fxshow"),f)_.style(e,n,f[n])})),l=nt(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?rt.prefilters.unshift(e):rt.prefilters.push(e)}}),_.speed=function(e,t,i){var n=e&&"object"==typeof e?_.extend({},e):{complete:i||!i&&t||_.isFunction(e)&&e,duration:e,easing:i&&t||t&&!_.isFunction(t)&&t};return _.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration=n.duration in _.fx.speeds?_.fx.speeds[n.duration]:_.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){_.isFunction(n.old)&&n.old.call(this),n.queue&&_.dequeue(this,n.queue)},n},_.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ee).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=_.isEmptyObject(e),o=_.speed(t,i,n),s=function(){var t=rt(this,_.extend({},e),o);(r||Y.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=_.timers,s=Y.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Je.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1));!t&&i||_.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Y.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=_.timers,s=n?n.length:0;for(i.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),_.each(["toggle","show","hide"],function(e,t){var i=_.fn[t];_.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(it(t,!0),e,n,r)}}),_.each({slideDown:it("show"),slideUp:it("hide"),slideToggle:it("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),_.timers=[],_.fx.tick=function(){var e,t=0,i=_.timers;for(Ge=_.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||_.fx.stop(),Ge=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){Qe||(Qe=!0,et())},_.fx.stop=function(){Qe=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,i){return t=_.fx&&_.fx.speeds[t]||t,this.queue(i=i||"fx",function(i,n){var r=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(r)}})},function(){var e=n.createElement("input"),t=n.createElement("select").appendChild(n.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=n.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var ot,st=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return U(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?_.prop(e,t,i):(1===o&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?ot:void 0)),void 0!==i?null===i?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=_.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&k(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(P);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),ot={set:function(e,t,i){return!1===t?_.removeAttr(e,i):e.setAttribute(i,i),i}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var i=st[t]||_.find.attr;st[t]=function(e,t,n){var r,o,s=t.toLowerCase();return n||(o=st[s],st[s]=r,r=null!=i(e,t,n)?s:null,st[s]=o),r}});var at=/^(?:input|select|textarea|button)$/i,lt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function ct(e){return e.getAttribute&&e.getAttribute("class")||""}_.fn.extend({prop:function(e,t){return U(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({prop:function(e,t,i){var n,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(e)||(r=_.propHooks[t=_.propFix[t]||t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):at.test(e.nodeName)||lt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(_.propHooks.selected={get:function(e){return null},set:function(e){}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(e){var t,i,n,r,o,s,a,l=0;if(_.isFunction(e))return this.each(function(t){_(this).addClass(e.call(this,t,ct(this)))});if("string"==typeof e&&e)for(t=e.match(P)||[];i=this[l++];)if(r=ct(i),n=1===i.nodeType&&" "+ht(r)+" "){for(s=0;o=t[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r!==(a=ht(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,r,o,s,a,l=0;if(_.isFunction(e))return this.each(function(t){_(this).removeClass(e.call(this,t,ct(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(P)||[];i=this[l++];)if(r=ct(i),n=1===i.nodeType&&" "+ht(r)+" "){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");r!==(a=ht(n))&&i.setAttribute("class",a)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):_.isFunction(e)?this.each(function(i){_(this).toggleClass(e.call(this,i,ct(this),t),t)}):this.each(function(){var t,n,r,o;if("string"===i)for(n=0,r=_(this),o=e.match(P)||[];t=o[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==i||((t=ct(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+ht(ct(i))+" ").indexOf(t)>-1)return!0;return!1}});var ut=/\r/g;_.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=_.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,_(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,function(e){return null==e?"":e+""})),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(ut,""):null==i?"":i:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:ht(_.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(n=o<0?l:s?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!k(i.parentNode,"optgroup"))){if(t=_(i).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var i,n,r=e.options,o=_.makeArray(t),s=r.length;s--;)((n=r[s]).selected=_.inArray(_.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(e.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},p.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var dt=/^(?:focusinfocus|focusoutblur)$/;_.extend(_.event,{trigger:function(t,i,r,o){var s,a,l,h,c,d,f,p=[r||n],g=u.call(t,"type")?t.type:t,m=u.call(t,"namespace")?t.namespace.split("."):[];if(a=l=r=r||n,3!==r.nodeType&&8!==r.nodeType&&!dt.test(g+_.event.triggered)&&(g.indexOf(".")>-1&&(g=(m=g.split(".")).shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[_.expando]?t:new _.Event(g,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),i=null==i?[t]:_.makeArray(i,[t]),f=_.event.special[g]||{},o||!f.trigger||!1!==f.trigger.apply(r,i))){if(!o&&!f.noBubble&&!_.isWindow(r)){for(dt.test((h=f.delegateType||g)+g)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(r.ownerDocument||n)&&p.push(l.defaultView||l.parentWindow||e)}for(s=0;(a=p[s++])&&!t.isPropagationStopped();)t.type=s>1?h:f.bindType||g,(d=(Y.get(a,"events")||{})[t.type]&&Y.get(a,"handle"))&&d.apply(a,i),(d=c&&a[c])&&d.apply&&z(a)&&(t.result=d.apply(a,i),!1===t.result&&t.preventDefault());return t.type=g,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),i)||!z(r)||c&&_.isFunction(r[g])&&!_.isWindow(r)&&((l=r[c])&&(r[c]=null),_.event.triggered=g,r[g](),_.event.triggered=void 0,l&&(r[c]=l)),t.result}},simulate:function(e,t,i){var n=_.extend(new _.Event,i,{type:e,isSimulated:!0});_.event.trigger(n,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return _.event.trigger(e,t,i,!0)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){_.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),_.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),p.focusin="onfocusin"in e,p.focusin||_.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=Y.access(n,t);r||n.addEventListener(e,i,!0),Y.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Y.access(n,t)-1;r?Y.access(n,t,r):(n.removeEventListener(e,i,!0),Y.remove(n,t))}}});var ft=e.location,pt=_.now(),gt=/\?/;_.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),i};var mt=/\[\]$/,_t=/\r?\n/g,vt=/^(?:submit|button|image|reset|file)$/i,yt=/^(?:input|select|textarea|keygen)/i;function bt(e,t,i,n){var r;if(Array.isArray(t))_.each(t,function(t,r){i||mt.test(e)?n(e,r):bt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==_.type(t))n(e,t);else for(r in t)bt(e+"["+r+"]",t[r],i,n)}_.param=function(e,t){var i,n=[],r=function(e,t){var i=_.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){r(this.name,this.value)});else for(i in e)bt(i,e[i],t,r);return n.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&yt.test(this.nodeName)&&!vt.test(e)&&(this.checked||!se.test(e))}).map(function(e,t){var i=_(this).val();return null==i?null:Array.isArray(i)?_.map(i,function(e){return{name:t.name,value:e.replace(_t,"\r\n")}}):{name:t.name,value:i.replace(_t,"\r\n")}}).get()}});var Ct=/%20/g,wt=/#.*$/,Et=/([?&])_=[^&]*/,St=/^(.*?):[ \t]*([^\r\n]*)$/gm,Tt=/^(?:GET|HEAD)$/,xt=/^\/\//,kt={},Nt={},At="*/".concat("*"),It=n.createElement("a");function Lt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,o=t.toLowerCase().match(P)||[];if(_.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Rt(e,t,i,n){var r={},o=e===Nt;function s(a){var l;return r[a]=!0,_.each(e[a]||[],function(e,a){var h=a(t,i,n);return"string"!=typeof h||o||r[h]?o?!(l=h):void 0:(t.dataTypes.unshift(h),s(h),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Dt(e,t){var i,n,r=_.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&_.extend(!0,e,n),e}It.href=ft.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ft.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Dt(Dt(e,_.ajaxSettings),t):Dt(_.ajaxSettings,e)},ajaxPrefilter:Lt(kt),ajaxTransport:Lt(Nt),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0);var r,o,s,a,l,h,c,u,d,f,p=_.ajaxSetup({},i=i||{}),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?_(g):_.event,v=_.Deferred(),y=_.Callbacks("once memory"),b=p.statusCode||{},C={},w={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=St.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,C[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),T(0,t),this}};if(v.promise(S),p.url=((t||p.url||ft.href)+"").replace(xt,ft.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(P)||[""],null==p.crossDomain){h=n.createElement("a");try{h.href=p.url,h.href=h.href,p.crossDomain=It.protocol+"//"+It.host!=h.protocol+"//"+h.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),Rt(kt,p,i,S),c)return S;for(d in(u=_.event&&p.global)&&0==_.active++&&_.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Tt.test(p.type),o=p.url.replace(wt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ct,"+")):(f=p.url.slice(o.length),p.data&&(o+=(gt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Et,"$1"),f=(gt.test(o)?"&":"?")+"_="+pt+++f),p.url=o+f),p.ifModified&&(_.lastModified[o]&&S.setRequestHeader("If-Modified-Since",_.lastModified[o]),_.etag[o]&&S.setRequestHeader("If-None-Match",_.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+At+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||c))return S.abort();if(E="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),r=Rt(Nt,p,i,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(l=e.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,r.send(C,T)}catch(e){if(c)throw e;T(-1,e)}}else T(-1,"No Transport");function T(t,i,n,a){var h,d,f,C,w,E=i;c||(c=!0,l&&e.clearTimeout(l),r=void 0,s=a||"",S.readyState=t>0?4:0,h=t>=200&&t<300||304===t,n&&(C=function(e,t,i){for(var n,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,S,n)),C=function(e,t,i,n){var r,o,s,a,l,h={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)h[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=h[l+" "+o]||h["* "+o]))for(r in h)if((a=r.split(" "))[1]===o&&(s=h[l+" "+a[0]]||h["* "+a[0]])){!0===s?s=h[r]:!0!==h[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,C,S,h),h?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(_.lastModified[o]=w),(w=S.getResponseHeader("etag"))&&(_.etag[o]=w)),204===t||"HEAD"===p.type?E="nocontent":304===t?E="notmodified":(E=C.state,d=C.data,h=!(f=C.error))):(f=E,!t&&E||(E="error",t<0&&(t=0))),S.status=t,S.statusText=(i||E)+"",h?v.resolveWith(g,[d,E,S]):v.rejectWith(g,[S,E,f]),S.statusCode(b),b=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[S,p,h?d:f]),y.fireWith(g,[S,E]),u&&(m.trigger("ajaxComplete",[S,p]),--_.active||_.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return _.get(e,t,i,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,t){_[t]=function(e,i,n,r){return _.isFunction(i)&&(r=r||n,n=i,i=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:i,success:n},_.isPlainObject(e)&&e))}}),_._evalUrl=function(e){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(_.isFunction(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return _.isFunction(e)?this.each(function(t){_(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=_.isFunction(e);return this.each(function(i){_(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Mt={0:200,1223:204},Ot=_.ajaxSettings.xhr();p.cors=!!Ot&&"withCredentials"in Ot,p.ajax=Ot=!!Ot,_.ajaxTransport(function(t){var i,n;if(p.cors||Ot&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);i=function(e){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Mt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),_.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(r,o){t=_("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),n.head.appendChild(t[0])},abort:function(){i&&i()}}});var Pt=[],Ht=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||_.expando+"_"+pt++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,s,a=!1!==t.jsonp&&(Ht.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=_.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ht,"$1"+r):!1!==t.jsonp&&(t.url+=(gt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||_.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},n.always(function(){void 0===o?_(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,Pt.push(r)),s&&_.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),p.createHTMLDocument=function(){var e=n.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),_.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(p.createHTMLDocument?((r=(t=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,t.head.appendChild(r)):t=n),o=N.exec(e),s=!i&&[],o?[t.createElement(o[1])]:(o=fe([e],t,s),s&&s.length&&_(s).remove(),_.merge([],o.childNodes)));var r,o,s},_.fn.load=function(e,t,i){var n,r,o,s=this,a=e.indexOf(" ");return a>-1&&(n=ht(e.slice(a)),e=e.slice(0,a)),_.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(n?_("<div>").append(_.parseHTML(e)).find(n):e)}).always(i&&function(e,t){s.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.expr.pseudos.animated=function(e){return _.grep(_.timers,function(t){return e===t.elem}).length},_.offset={setOffset:function(e,t,i){var n,r,o,s,a,l,h=_.css(e,"position"),c=_(e),u={};"static"===h&&(e.style.position="relative"),a=c.offset(),o=_.css(e,"top"),l=_.css(e,"left"),("absolute"===h||"fixed"===h)&&(o+l).indexOf("auto")>-1?(s=(n=c.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),_.isFunction(t)&&(t=t.call(e,i,_.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+r),"using"in t?t.using.call(e,u):c.css(u)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_.offset.setOffset(this,e,t)});var t,i,n,r,o=this[0];return o?o.getClientRects().length?{top:(n=o.getBoundingClientRect()).top+(r=(t=o.ownerDocument).defaultView).pageYOffset-(i=t.documentElement).clientTop,left:n.left+r.pageXOffset-i.clientLeft}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===_.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),k(e[0],"html")||(n=e.offset()),n={top:n.top+_.css(e[0],"borderTopWidth",!0),left:n.left+_.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-_.css(i,"marginTop",!0),left:t.left-n.left-_.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||pe})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;_.fn[e]=function(n){return U(this,function(e,n,r){var o;return _.isWindow(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r?o?o[t]:e[n]:void(o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):e[n]=r)},e,n,arguments.length)}}),_.each(["top","left"],function(e,t){_.cssHooks[t]=je(p.pixelPosition,function(e,i){if(i)return i=He(e,t),Oe.test(i)?_(e).position()[t]+"px":i})}),_.each({Height:"height",Width:"width"},function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){_.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(!0===r||!0===o?"margin":"border");return U(this,function(t,i,r){var o;return _.isWindow(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?_.css(t,i,a):_.style(t,i,r,a)},t,s?r:void 0,s)}})}),_.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=k,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var jt=e.jQuery,Bt=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=Bt),t&&e.jQuery===_&&(e.jQuery=jt),_},t||(e.jQuery=e.$=_),_}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):e.metisMenu=t(e.jQuery)}(this,function(e){"use strict";function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(i){t(e,i,n[i])})}return e}var n=function(e){var t={TRANSITION_END:"mmTransitionEnd",triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")}};return e.fn.mmEmulateTransitionEnd=function(i){var n=this,r=!1;return e(this).one(t.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||t.triggerTransitionEnd(n)},i),this},e.event.special[t.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},t}(e=e&&e.hasOwnProperty("default")?e.default:e);return function(e){var t="metisMenu",r=e.fn[t],o={toggle:!0,preventDefault:!0,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing",triggerElement:"a",parentTrigger:"li",subMenu:"ul"},s=function(){function t(e,t){this.element=e,this.config=i({},o,t),this.transitioning=null,this.init()}var r=t.prototype;return r.init=function(){var t=this,i=this.config;e(this.element).find(i.parentTrigger+"."+i.activeClass).has(i.subMenu).children(i.subMenu).addClass(i.collapseClass+" "+i.collapseInClass),e(this.element).find(i.parentTrigger).not("."+i.activeClass).has(i.subMenu).children(i.subMenu).addClass(i.collapseClass),e(this.element).find(i.parentTrigger).has(i.subMenu).children(i.triggerElement).on("click.metisMenu.data-api",function(n){var r=e(this),o=r.parent(i.parentTrigger),s=o.siblings(i.parentTrigger).children(i.triggerElement),a=o.children(i.subMenu);i.preventDefault&&n.preventDefault(),"true"!==r.attr("aria-disabled")&&(o.hasClass(i.activeClass)?(r.attr("aria-expanded",!1),t.hide(a)):(t.show(a),r.attr("aria-expanded",!0),i.toggle&&s.attr("aria-expanded",!1)),i.onTransitionStart&&i.onTransitionStart(n))})},r.show=function(t){var i=this;if(!this.transitioning&&!e(t).hasClass(this.config.collapsingClass)){var r=e(t),o=e.Event("show.metisMenu");r.trigger(o),o.isDefaultPrevented()||(r.parent(this.config.parentTrigger).addClass(this.config.activeClass),this.config.toggle&&this.hide(r.parent(this.config.parentTrigger).siblings().children(this.config.subMenu+"."+this.config.collapseInClass)),r.removeClass(this.config.collapseClass).addClass(this.config.collapsingClass).height(0),this.setTransitioning(!0),r.height(t[0].scrollHeight).one(n.TRANSITION_END,function(){i.config&&i.element&&(r.removeClass(i.config.collapsingClass).addClass(i.config.collapseClass+" "+i.config.collapseInClass).height(""),i.setTransitioning(!1),r.trigger("shown.metisMenu"))}).mmEmulateTransitionEnd(350))}},r.hide=function(t){var i=this;if(!this.transitioning&&e(t).hasClass(this.config.collapseInClass)){var r=e(t),o=e.Event("hide.metisMenu");if(r.trigger(o),!o.isDefaultPrevented()){r.parent(this.config.parentTrigger).removeClass(this.config.activeClass),r.height(r.height()),r.addClass(this.config.collapsingClass).removeClass(this.config.collapseClass).removeClass(this.config.collapseInClass),this.setTransitioning(!0);var s=function(){i.config&&i.element&&(i.transitioning&&i.config.onTransitionEnd&&i.config.onTransitionEnd(),i.setTransitioning(!1),r.trigger("hidden.metisMenu"),r.removeClass(i.config.collapsingClass).addClass(i.config.collapseClass))};0===r.height()||"none"===r.css("display")?s():r.height(0).one(n.TRANSITION_END,s).mmEmulateTransitionEnd(350)}}},r.setTransitioning=function(e){this.transitioning=e},r.dispose=function(){e.removeData(this.element,"metisMenu"),e(this.element).find(this.config.parentTrigger).has(this.config.subMenu).children(this.config.triggerElement).off("click"),this.transitioning=null,this.config=null,this.element=null},t.jQueryInterface=function(n){return this.each(function(){var r=e(this),s=r.data("metisMenu"),a=i({},o,r.data(),"object"==typeof n&&n?n:{});if(!s&&/dispose/.test(n)&&this.dispose(),s||(s=new t(this,a),r.data("metisMenu",s)),"string"==typeof n){if(void 0===s[n])throw new Error('No method named "'+n+'"');s[n]()}})},t}();return e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=function(){return e.fn[t]=r,s.jQueryInterface},s}(e)}),function(e,t,i){var n;n=function(i){"use strict";var n,r,o,s,a,l,h,c,u,d,f,p,g,m,_,v,y,b,C,w,E,S,T,x,k,N,A,I,L,R,D={},M=0;n=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new o("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new o("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new o('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new o("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},k='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',i.SPFormatClass=o=(r=function(){var e,t;return e=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(e.prototype=i.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],arguments.length>2&&((t=Array.prototype.slice.call(arguments,1,-1)).unshift(e.prototype),i.extend.apply(i,t))):e.prototype=arguments[0],e.prototype.cls=e,e})({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,i){var n,r,o,s,a,l=this,h=e;return this.format.replace(this.fre,function(){return o=arguments[3],(n=l.precre.exec(r=arguments[1]))?(a=n[2],r=n[1]):a=!1,void 0===(s=h[r])?"":o&&t&&t[o]?t[o].get?t[o].get(s)||s:t[o][s]||s:(u(s)&&(s=i.get("numberFormatter")?i.get("numberFormatter")(s):g(s,a,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),s)})}}),i.spformat=function(e,t){return new o(e,t)},s=function(e,t,i){return e<t?t:e>i?i:e},a=function(e,i){var n;return 2===i?(n=t.floor(e.length/2),e.length%2?e[n]:(e[n-1]+e[n])/2):e.length%2?(n=(e.length*i+i)/4)%1?(e[t.floor(n)]+e[t.floor(n)-1])/2:e[n-1]:(n=(e.length*i+2)/4)%1?(e[t.floor(n)]+e[t.floor(n)-1])/2:e[n-1]},l=function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:e==(t=parseFloat(e))&&(e=t)}return e},h=function(e){var t,i=[];for(t=e.length;t--;)i[t]=l(e[t]);return i},c=function(e,t){var i,n,r=[];for(i=0,n=e.length;i<n;i++)e[i]!==t&&r.push(e[i]);return r},u=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g=function(e,t,n,r,o){var s,a;for(e=(!1===t?parseFloat(e).toString():e.toFixed(t)).split(""),(s=(s=i.inArray(".",e))<0?e.length:s)<e.length&&(e[s]=o),a=s-n;a>0;a-=n)e.splice(a,0,r);return e.join("")},d=function(e,t,i){var n;for(n=t.length;n--;)if((!i||null!==t[n])&&t[n]!==e)return!1;return!0},p=function(e){return i.isArray(e)?e:[e]},f=function(t){var i,n;if(e.createStyleSheet)try{return void(e.createStyleSheet().cssText=t)}catch(e){n=!0}(i=e.createElement("style")).type="text/css",e.getElementsByTagName("head")[0].appendChild(i),n?e.styleSheets[e.styleSheets.length-1].cssText=t:i["string"==typeof e.body.style.WebkitAppearance?"innerText":"innerHTML"]=t},i.fn.simpledraw=function(t,n,r,o){var s,a;if(r&&(s=this.data("_jqs_vcanvas")))return s;if(!1===i.fn.sparkline.canvas)return!1;if(void 0===i.fn.sparkline.canvas){var l=e.createElement("canvas");if(l.getContext&&l.getContext("2d"))i.fn.sparkline.canvas=function(e,t,i,n){return new I(e,t,i,n)};else{if(!e.namespaces||e.namespaces.v)return i.fn.sparkline.canvas=!1,!1;e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),i.fn.sparkline.canvas=function(e,t,i,n){return new L(e,t,i)}}}return void 0===t&&(t=i(this).innerWidth()),void 0===n&&(n=i(this).innerHeight()),s=i.fn.sparkline.canvas(t,n,this,o),(a=i(this).data("_jqs_mhandler"))&&a.registerCanvas(s),s},i.fn.cleardraw=function(){var e=this.data("_jqs_vcanvas");e&&e.reset()},i.RangeMapClass=m=r({init:function(e){var t,i,n=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&t.indexOf(":")>-1&&((i=t.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=e[t],n.push(i));this.map=e,this.rangelist=n||!1},get:function(e){var t,i,n,r=this.rangelist;if(void 0!==(n=this.map[e]))return n;if(r)for(t=r.length;t--;)if((i=r[t])[0]<=e&&i[1]>=e)return i[2]}}),i.range_map=function(e){return new m(e)},_=r({init:function(e,t){var n=i(e);this.$el=n,this.options=t,this.currentPageX=0,this.currentPageY=0,this.el=e,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!t.get("disableTooltips"),this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(e){this.splist.push(e),this.over&&this.updateDisplay()},registerCanvas:function(e){var t=i(e.canvas);this.canvas=e,this.$canvas=t,t.mouseenter(i.proxy(this.mouseenter,this)),t.mouseleave(i.proxy(this.mouseleave,this)),t.click(i.proxy(this.mouseclick,this))},reset:function(e){this.splist=[],this.tooltip&&e&&(this.tooltip.remove(),this.tooltip=void 0)},mouseclick:function(e){var t=i.Event("sparklineClick");t.originalEvent=e,t.sparklines=this.splist,this.$el.trigger(t)},mouseenter:function(t){i(e.body).unbind("mousemove.jqs"),i(e.body).bind("mousemove.jqs",i.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=t.pageX,this.currentPageY=t.pageY,this.currentEl=t.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new v(this.options),this.tooltip.updatePosition(t.pageX,t.pageY)),this.updateDisplay()},mouseleave:function(){i(e.body).unbind("mousemove.jqs");var t,n=this.splist,r=n.length,o=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<r;t++)n[t].clearRegionHighlight()&&(o=!0);o&&this.canvas.render()},mousemove:function(e){this.currentPageX=e.pageX,this.currentPageY=e.pageY,this.currentEl=e.target,this.tooltip&&this.tooltip.updatePosition(e.pageX,e.pageY),this.updateDisplay()},updateDisplay:function(){var e,t,n,r,o=this.splist,s=o.length,a=!1,l=this.$canvas.offset(),h=this.currentPageX-l.left,c=this.currentPageY-l.top;if(this.over){for(t=0;t<s;t++)(n=o[t].setRegionHighlight(this.currentEl,h,c))&&(a=!0);if(a){if((r=i.Event("sparklineRegionChange")).sparklines=this.splist,this.$el.trigger(r),this.tooltip){for(e="",t=0;t<s;t++)e+=o[t].getCurrentRegionTooltip();this.tooltip.setContent(e)}this.disableHighlight||this.canvas.render()}null===n&&this.mouseleave()}}}),v=r({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var n,r=t.get("tooltipClassname","jqstooltip"),o=this.sizeStyle;this.container=t.get("tooltipContainer")||e.body,this.tooltipOffsetX=t.get("tooltipOffsetX",10),this.tooltipOffsetY=t.get("tooltipOffsetY",12),i("#jqssizetip").remove(),i("#jqstooltip").remove(),this.sizetip=i("<div/>",{id:"jqssizetip",style:o,class:r}),this.tooltip=i("<div/>",{id:"jqstooltip",class:r}).appendTo(this.container),n=this.tooltip.offset(),this.offsetLeft=n.left,this.offsetTop=n.top,this.hidden=!0,i(window).unbind("resize.jqs scroll.jqs"),i(window).bind("resize.jqs scroll.jqs",i.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=i(window).scrollTop(),this.scrollLeft=i(window).scrollLeft(),this.scrollRight=this.scrollLeft+i(window).width(),this.updatePosition()},getSize:function(e){this.sizetip.html(e).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(e){if(!e)return this.tooltip.css("visibility","hidden"),void(this.hidden=!0);this.getSize(e),this.tooltip.html(e).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(e,t){if(void 0===e){if(void 0===this.mousex)return;e=this.mousex-this.offsetLeft,t=this.mousey-this.offsetTop}else this.mousex=e-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(e+=this.tooltipOffsetX,(t-=this.height+this.tooltipOffsetY)<this.scrollTop&&(t=this.scrollTop),e<this.scrollLeft?e=this.scrollLeft:e+this.width>this.scrollRight&&(e=this.scrollRight-this.width),this.tooltip.css({left:e,top:t}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=void 0,i(window).unbind("resize.jqs scroll.jqs")}}),i(function(){f(k)}),R=[],i.fn.sparkline=function(t,n){return this.each(function(){var r,o,s=new i.fn.sparkline.options(this,n),a=i(this);if(r=function(){var n,r,o,l,h,c,u;"html"===t||void 0===t?(void 0!==(u=this.getAttribute(s.get("tagValuesAttribute")))&&null!==u||(u=a.html()),n=u.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):n=t,r="auto"===s.get("width")?n.length*s.get("defaultPixelsPerValue"):s.get("width"),"auto"===s.get("height")?s.get("composite")&&i.data(this,"_jqs_vcanvas")||((l=e.createElement("span")).innerHTML="a",a.html(l),o=i(l).innerHeight()||i(l).height(),i(l).remove(),l=null):o=s.get("height"),s.get("disableInteraction")?h=!1:(h=i.data(this,"_jqs_mhandler"))?s.get("composite")||h.reset():(h=new _(this,s),i.data(this,"_jqs_mhandler",h)),!s.get("composite")||i.data(this,"_jqs_vcanvas")?((c=new(i.fn.sparkline[s.get("type")])(this,n,s,r,o)).render(),h&&h.registerSparkline(c)):i.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),i.data(this,"_jqs_errnotify",!0))},i(this).html()&&!s.get("disableHiddenCheck")&&i(this).is(":hidden")||!i(this).parents("body").length){if(!s.get("composite")&&i.data(this,"_jqs_pending"))for(o=R.length;o;o--)R[o-1][0]==this&&R.splice(o-1,1);R.push([this,r]),i.data(this,"_jqs_pending",!0)}else r.call(this)})},i.fn.sparkline.defaults=n(),i.sparkline_display_visible=function(){var e,t,n,r=[];for(t=0,n=R.length;t<n;t++)i(e=R[t][0]).is(":visible")&&!i(e).parents().is(":hidden")?(R[t][1].call(e),i.data(R[t][0],"_jqs_pending",!1),r.push(t)):i(e).closest("html").length||i.data(e,"_jqs_pending")||(i.data(R[t][0],"_jqs_pending",!1),r.push(t));for(t=r.length;t;t--)R.splice(r[t-1],1)},i.fn.sparkline.options=r({init:function(e,t){var n,r,o;this.userOptions=t=t||{},this.tag=e,this.tagValCache={},r=(n=i.fn.sparkline.defaults).common,this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||r.tagOptionsPrefix),o=this.getTagSetting("type"),this.mergedOptions=i.extend({},r,o===D?n[t.type||r.type]:n[o],t)},getTagSetting:function(e){var t,i,n,r,o=this.tagOptionsPrefix;if(!1===o||void 0===o)return D;if(this.tagValCache.hasOwnProperty(e))t=this.tagValCache.key;else{if(void 0===(t=this.tag.getAttribute(o+e))||null===t)t=D;else if("["===t.substr(0,1))for(i=(t=t.substr(1,t.length-2).split(",")).length;i--;)t[i]=l(t[i].replace(/(^\s*)|(\s*$)/g,""));else if("{"===t.substr(0,1))for(n=t.substr(1,t.length-2).split(","),t={},i=n.length;i--;)t[(r=n[i].split(":",2))[0].replace(/(^\s*)|(\s*$)/g,"")]=l(r[1].replace(/(^\s*)|(\s*$)/g,""));else t=l(t);this.tagValCache.key=t}return t},get:function(e,t){var i,n=this.getTagSetting(e);return n!==D?n:void 0===(i=this.mergedOptions[e])?t:i}}),i.fn.sparkline._base=r({disabled:!1,init:function(e,t,n,r,o){this.el=e,this.$el=i(e),this.values=t,this.options=n,this.width=r,this.height=o,this.currentRegion=void 0},initTarget:function(){var e=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),e))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return!this.disabled||(this.el.innerHTML="",!1)},getRegion:function(e,t){},setRegionHighlight:function(e,t,i){var n,r=this.currentRegion,o=!this.options.get("disableHighlight");return t>this.canvasWidth||i>this.canvasHeight||t<0||i<0?null:r!==(n=this.getRegion(e,t,i))&&(void 0!==r&&o&&this.removeHighlight(),this.currentRegion=n,void 0!==n&&o&&this.renderHighlight(),!0)},clearRegionHighlight:function(){return void 0!==this.currentRegion&&(this.removeHighlight(),this.currentRegion=void 0,!0)},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(e){},getCurrentRegionTooltip:function(){var e,t,n,r,s,a,l,h,c,u,d,f,p,g=this.options,m="",_=[];if(void 0===this.currentRegion)return"";if(e=this.getCurrentRegionFields(),u=g.get("tooltipFormatter"))return u(this,g,e);if(g.get("tooltipChartTitle")&&(m+='<div class="jqs jqstitle">'+g.get("tooltipChartTitle")+"</div>\n"),!(t=this.options.get("tooltipFormat")))return"";if(i.isArray(t)||(t=[t]),i.isArray(e)||(e=[e]),l=this.options.get("tooltipFormatFieldlist"),h=this.options.get("tooltipFormatFieldlistKey"),l&&h){for(c=[],a=e.length;a--;)-1!=(p=i.inArray(e[a][h],l))&&(c[p]=e[a]);e=c}for(n=t.length,f=e.length,a=0;a<n;a++)for("string"==typeof(d=t[a])&&(d=new o(d)),r=d.fclass||"jqsfield",p=0;p<f;p++)e[p].isNull&&g.get("tooltipSkipNull")||(i.extend(e[p],{prefix:g.get("tooltipPrefix"),suffix:g.get("tooltipSuffix")}),s=d.render(e[p],g.get("tooltipValueLookups"),g),_.push('<div class="'+r+'">'+s+"</div>"));return _.length?m+_.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(e,i){var n,r,o,a,l=i.get("highlightColor"),h=i.get("highlightLighten");if(l)return l;if(h&&(n=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e))){for(o=[],r=4===e.length?16:1,a=0;a<3;a++)o[a]=s(t.round(parseInt(n[a+1],16)*r*h),0,255);return"rgb("+o.join(",")+")"}return e}}),y={changeHighlight:function(e){var t,n=this.currentRegion,r=this.target,o=this.regionShapes[n];o&&(t=this.renderRegion(n,e),i.isArray(t)||i.isArray(o)?(r.replaceWithShapes(o,t),this.regionShapes[n]=i.map(t,function(e){return e.id})):(r.replaceWithShape(o,t),this.regionShapes[n]=t.id))},render:function(){var e,t,n,r,o=this.values,s=this.target,a=this.regionShapes;if(this.cls._super.render.call(this)){for(n=o.length;n--;)if(e=this.renderRegion(n))if(i.isArray(e)){for(t=[],r=e.length;r--;)e[r].append(),t.push(e[r].id);a[n]=t}else e.append(),a[n]=e.id;else a[n]=null;s.render()}}},i.fn.sparkline.line=b=r(i.fn.sparkline._base,{type:"line",init:function(e,t,i,n,r){b._super.init.call(this,e,t,i,n,r),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(e,t,i){var n,r=this.regionMap;for(n=r.length;n--;)if(null!==r[n]&&t>=r[n][0]&&t<=r[n][1])return r[n][2]},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:e}},renderHighlight:function(){var e,t,i=this.target,n=this.vertices[this.currentRegion],r=this.options,o=r.get("spotRadius"),s=r.get("highlightSpotColor"),a=r.get("highlightLineColor");n&&(o&&s&&(e=i.drawCircle(n[0],n[1],o,void 0,s),this.highlightSpotId=e.id,i.insertAfterShape(this.lastShapeId,e)),a&&(t=i.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,a),this.highlightLineId=t.id,i.insertAfterShape(this.lastShapeId,t)))},removeHighlight:function(){var e=this.target;this.highlightSpotId&&(e.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(e.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var e,i,n,r,o,s=this.values,a=s.length,l=this.xvalues,h=this.yvalues,c=this.yminmax;for(e=0;e<a;e++)i=s[e],n="string"==typeof s[e],r="object"==typeof s[e]&&s[e]instanceof Array,o=n&&s[e].split(":"),n&&2===o.length?(l.push(Number(o[0])),h.push(Number(o[1])),c.push(Number(o[1]))):r?(l.push(i[0]),h.push(i[1]),c.push(i[1])):(l.push(e),null===s[e]||"null"===s[e]?h.push(null):(h.push(Number(i)),c.push(Number(i))));this.options.get("xvalues")&&(l=this.options.get("xvalues")),this.maxy=this.maxyorg=t.max.apply(t,c),this.miny=this.minyorg=t.min.apply(t,c),this.maxx=t.max.apply(t,l),this.minx=t.min.apply(t,l),this.xvalues=l,this.yvalues=h,this.yminmax=c},processRangeOptions:function(){var e=this.options,t=e.get("normalRangeMin"),i=e.get("normalRangeMax");void 0!==t&&(t<this.miny&&(this.miny=t),i>this.maxy&&(this.maxy=i)),void 0!==e.get("chartRangeMin")&&(e.get("chartRangeClip")||e.get("chartRangeMin")<this.miny)&&(this.miny=e.get("chartRangeMin")),void 0!==e.get("chartRangeMax")&&(e.get("chartRangeClip")||e.get("chartRangeMax")>this.maxy)&&(this.maxy=e.get("chartRangeMax")),void 0!==e.get("chartRangeMinX")&&(e.get("chartRangeClipX")||e.get("chartRangeMinX")<this.minx)&&(this.minx=e.get("chartRangeMinX")),void 0!==e.get("chartRangeMaxX")&&(e.get("chartRangeClipX")||e.get("chartRangeMaxX")>this.maxx)&&(this.maxx=e.get("chartRangeMaxX"))},drawNormalRange:function(e,i,n,r,o){var s=this.options.get("normalRangeMin"),a=this.options.get("normalRangeMax"),l=i+t.round(n-n*((a-this.miny)/o)),h=t.round(n*(a-s)/o);this.target.drawRect(e,l,r,h,void 0,this.options.get("normalRangeColor")).append()},render:function(){var e,n,r,o,s,a,l,h,c,u,d,f,p,g,_,v,y,C,w,E,S,T,x,k,N=this.options,A=this.target,I=this.canvasWidth,L=this.canvasHeight,R=this.vertices,D=N.get("spotRadius"),M=this.regionMap;if(b._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),T=this.xvalues,x=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(o=s=0,e=this.maxx-this.minx==0?1:this.maxx-this.minx,n=this.maxy-this.miny==0?1:this.maxy-this.miny,r=this.yvalues.length-1,D&&(I<4*D||L<4*D)&&(D=0),D&&(((E=N.get("highlightSpotColor")&&!N.get("disableInteraction"))||N.get("minSpotColor")||N.get("spotColor")&&x[r]===this.miny)&&(L-=t.ceil(D)),(E||N.get("maxSpotColor")||N.get("spotColor")&&x[r]===this.maxy)&&(L-=t.ceil(D),o+=t.ceil(D)),(E||(N.get("minSpotColor")||N.get("maxSpotColor"))&&(x[0]===this.miny||x[0]===this.maxy))&&(s+=t.ceil(D),I-=t.ceil(D)),(E||N.get("spotColor")||N.get("minSpotColor")||N.get("maxSpotColor")&&(x[r]===this.miny||x[r]===this.maxy))&&(I-=t.ceil(D))),L--,void 0===N.get("normalRangeMin")||N.get("drawNormalOnTop")||this.drawNormalRange(s,o,L,I,n),h=[l=[]],p=g=null,_=x.length,k=0;k<_;k++)d=T[k+1],u=x[k],g=(f=s+t.round(I/e*((c=T[k])-this.minx)))+((k<_-1?s+t.round(I/e*(d-this.minx)):I)-f)/2,M[k]=[p||0,g,k],p=g,null===u?k&&(null!==x[k-1]&&h.push(l=[]),R.push(null)):(u<this.miny&&(u=this.miny),u>this.maxy&&(u=this.maxy),l.length||l.push([f,o+L]),a=[f,o+t.round(L-L*((u-this.miny)/n))],l.push(a),R.push(a));for(v=[],y=[],C=h.length,k=0;k<C;k++)(l=h[k]).length&&(N.get("fillColor")&&(l.push([l[l.length-1][0],o+L]),y.push(l.slice(0)),l.pop()),l.length>2&&(l[0]=[l[0][0],l[1][1]]),v.push(l));for(C=y.length,k=0;k<C;k++)A.drawShape(y[k],N.get("fillColor"),N.get("fillColor")).append();for(void 0!==N.get("normalRangeMin")&&N.get("drawNormalOnTop")&&this.drawNormalRange(s,o,L,I,n),C=v.length,k=0;k<C;k++)A.drawShape(v[k],N.get("lineColor"),void 0,N.get("lineWidth")).append();if(D&&N.get("valueSpots"))for(void 0===(w=N.get("valueSpots")).get&&(w=new m(w)),k=0;k<_;k++)(S=w.get(x[k]))&&A.drawCircle(s+t.round(I/e*(T[k]-this.minx)),o+t.round(L-L*((x[k]-this.miny)/n)),D,void 0,S).append();D&&N.get("spotColor")&&null!==x[r]&&A.drawCircle(s+t.round(I/e*(T[T.length-1]-this.minx)),o+t.round(L-L*((x[r]-this.miny)/n)),D,void 0,N.get("spotColor")).append(),this.maxy!==this.minyorg&&(D&&N.get("minSpotColor")&&(c=T[i.inArray(this.minyorg,x)],A.drawCircle(s+t.round(I/e*(c-this.minx)),o+t.round(L-L*((this.minyorg-this.miny)/n)),D,void 0,N.get("minSpotColor")).append()),D&&N.get("maxSpotColor")&&(c=T[i.inArray(this.maxyorg,x)],A.drawCircle(s+t.round(I/e*(c-this.minx)),o+t.round(L-L*((this.maxyorg-this.miny)/n)),D,void 0,N.get("maxSpotColor")).append())),this.lastShapeId=A.getLastShapeId(),this.canvasTop=o,A.render()}}}),i.fn.sparkline.bar=C=r(i.fn.sparkline._base,y,{type:"bar",init:function(e,n,r,o,a){var u,d,f,p,g,_,v,y,b,w,E,S,T,x,k,N,A,I,L,R,D,M=parseInt(r.get("barWidth"),10),O=parseInt(r.get("barSpacing"),10),P=r.get("chartRangeMin"),H=r.get("chartRangeMax"),j=r.get("chartRangeClip"),B=1/0,F=-1/0;for(C._super.init.call(this,e,n,r,o,a),_=0,v=n.length;_<v;_++)((u="string"==typeof(R=n[_])&&R.indexOf(":")>-1)||i.isArray(R))&&(k=!0,u&&(R=n[_]=h(R.split(":"))),R=c(R,null),d=t.min.apply(t,R),f=t.max.apply(t,R),d<B&&(B=d),f>F&&(F=f));this.stacked=k,this.regionShapes={},this.barWidth=M,this.barSpacing=O,this.totalBarWidth=M+O,this.width=o=n.length*M+(n.length-1)*O,this.initTarget(),j&&(T=void 0===P?-1/0:P,x=void 0===H?1/0:H),g=[],p=k?[]:g;var W=[],q=[];for(_=0,v=n.length;_<v;_++)if(k)for(N=n[_],n[_]=L=[],W[_]=0,p[_]=q[_]=0,A=0,I=N.length;A<I;A++)null!==(R=L[A]=j?s(N[A],T,x):N[A])&&(R>0&&(W[_]+=R),B<0&&F>0?R<0?q[_]+=t.abs(R):p[_]+=R:p[_]+=t.abs(R-(R<0?F:B)),g.push(R));else R=j?s(n[_],T,x):n[_],null!==(R=n[_]=l(R))&&g.push(R);this.max=S=t.max.apply(t,g),this.min=E=t.min.apply(t,g),this.stackMax=F=k?t.max.apply(t,W):S,this.stackMin=B=k?t.min.apply(t,g):E,void 0!==r.get("chartRangeMin")&&(r.get("chartRangeClip")||r.get("chartRangeMin")<E)&&(E=r.get("chartRangeMin")),void 0!==r.get("chartRangeMax")&&(r.get("chartRangeClip")||r.get("chartRangeMax")>S)&&(S=r.get("chartRangeMax")),this.zeroAxis=b=r.get("zeroAxis",!0),this.xaxisOffset=w=E<=0&&S>=0&&b?0:0==b?E:E>0?E:S,y=k?t.max.apply(t,p)+t.max.apply(t,q):S-E,this.canvasHeightEf=b&&E<0?this.canvasHeight-2:this.canvasHeight-1,E<w?(D=((k&&S>=0?F:S)-w)/y*this.canvasHeight)!==t.ceil(D)&&(this.canvasHeightEf-=2,D=t.ceil(D)):D=this.canvasHeight,this.yoffset=D,i.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.range=y},getRegion:function(e,i,n){var r=t.floor(i/this.totalBarWidth);return r<0||r>=this.values.length?void 0:r},getCurrentRegionFields:function(){var e,t,i=this.currentRegion,n=p(this.values[i]),r=[];for(t=n.length;t--;)r.push({isNull:null===(e=n[t]),value:e,color:this.calcColor(t,e,i),offset:i});return r},calcColor:function(e,t,n){var r,o,s=this.colorMapByIndex,a=this.colorMapByValue,l=this.options;return r=l.get(this.stacked?"stackedBarColor":t<0?"negBarColor":"barColor"),0===t&&void 0!==l.get("zeroColor")&&(r=l.get("zeroColor")),a&&(o=a.get(t))?r=o:s&&s.length>n&&(r=s[n]),i.isArray(r)?r[e%r.length]:r},renderRegion:function(e,n){var r,o,s,a,l,h,c,u,f,p,g=this.values[e],m=this.options,_=this.xaxisOffset,v=[],y=this.range,b=this.stacked,C=this.target,w=e*this.totalBarWidth,E=this.canvasHeightEf,S=this.yoffset;if(c=(g=i.isArray(g)?g:[g]).length,u=g[0],a=d(null,g),p=d(_,g,!0),a)return m.get("nullColor")?(s=n?m.get("nullColor"):this.calcHighlightColor(m.get("nullColor"),m),C.drawRect(w,r=S>0?S-1:S,this.barWidth-1,0,s,s)):void 0;for(l=S,h=0;h<c;h++){if(u=g[h],b&&u===_){if(!p||f)continue;f=!0}o=y>0?t.floor(E*(t.abs(u-_)/y))+1:1,u<_||u===_&&0===S?(r=l,l+=o):(r=S-o,S-=o),s=this.calcColor(h,u,e),n&&(s=this.calcHighlightColor(s,m)),v.push(C.drawRect(w,r,this.barWidth-1,o-1,s,s))}return 1===v.length?v[0]:v}}),i.fn.sparkline.tristate=w=r(i.fn.sparkline._base,y,{type:"tristate",init:function(e,t,n,r,o){var s=parseInt(n.get("barWidth"),10),a=parseInt(n.get("barSpacing"),10);w._super.init.call(this,e,t,n,r,o),this.regionShapes={},this.barWidth=s,this.barSpacing=a,this.totalBarWidth=s+a,this.values=i.map(t,Number),this.width=r=t.length*s+(t.length-1)*a,i.isArray(n.get("colorMap"))?(this.colorMapByIndex=n.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=n.get("colorMap"),this.colorMapByValue&&void 0===this.colorMapByValue.get&&(this.colorMapByValue=new m(this.colorMapByValue))),this.initTarget()},getRegion:function(e,i,n){return t.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var i,n=this.values,r=this.options,o=this.colorMapByIndex,s=this.colorMapByValue;return s&&(i=s.get(e))?i:o&&o.length>t?o[t]:r.get(n[t]<0?"negBarColor":n[t]>0?"posBarColor":"zeroBarColor")},renderRegion:function(e,i){var n,r,o,s,a,l=this.values,h=this.options,c=this.target;if(r=t.round(c.pixelHeight/2),o=e*this.totalBarWidth,l[e]<0?(s=r,n=r-1):l[e]>0?(s=0,n=r-1):(s=r-1,n=2),null!==(a=this.calcColor(l[e],e)))return i&&(a=this.calcHighlightColor(a,h)),c.drawRect(o,s,this.barWidth-1,n-1,a,a)}}),i.fn.sparkline.discrete=E=r(i.fn.sparkline._base,y,{type:"discrete",init:function(e,n,r,o,s){E._super.init.call(this,e,n,r,o,s),this.regionShapes={},this.values=n=i.map(n,Number),this.min=t.min.apply(t,n),this.max=t.max.apply(t,n),this.range=this.max-this.min,this.width=o="auto"===r.get("width")?2*n.length:this.width,this.interval=t.floor(o/n.length),this.itemWidth=o/n.length,void 0!==r.get("chartRangeMin")&&(r.get("chartRangeClip")||r.get("chartRangeMin")<this.min)&&(this.min=r.get("chartRangeMin")),void 0!==r.get("chartRangeMax")&&(r.get("chartRangeClip")||r.get("chartRangeMax")>this.max)&&(this.max=r.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===r.get("lineHeight")?t.round(.3*this.canvasHeight):r.get("lineHeight"))},getRegion:function(e,i,n){return t.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],offset:e}},renderRegion:function(e,i){var n,r,o,a,l=this.options,h=this.min,c=this.range,u=this.interval,d=this.target,f=this.lineHeight,p=this.canvasHeight-f;return r=s(this.values[e],h,this.max),a=e*u,n=t.round(p-p*((r-h)/c)),o=l.get("thresholdColor")&&r<l.get("thresholdValue")?l.get("thresholdColor"):l.get("lineColor"),i&&(o=this.calcHighlightColor(o,l)),d.drawLine(a,n,a,n+f,o)}}),i.fn.sparkline.bullet=S=r(i.fn.sparkline._base,{type:"bullet",init:function(e,i,n,r,o){var s,a,l;S._super.init.call(this,e,i,n,r,o),this.values=i=h(i),(l=i.slice())[0]=null===l[0]?l[2]:l[0],l[1]=null===i[1]?l[2]:l[1],s=t.min.apply(t,i),a=t.max.apply(t,i),s=void 0===n.get("base")?s<0?s:0:n.get("base"),this.min=s,this.max=a,this.range=a-s,this.shapes={},this.valueShapes={},this.regiondata={},this.width=r="auto"===n.get("width")?"4.0em":r,this.target=this.$el.simpledraw(r,o,n.get("composite")),i.length||(this.disabled=!0),this.initTarget()},getRegion:function(e,t,i){var n=this.target.getShapeAt(e,t,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},changeHighlight:function(e){var t,i=this.currentRegion,n=this.valueShapes[i];switch(delete this.shapes[n],i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),e);break;case"p":t=this.renderPerformance(e);break;case"t":t=this.renderTarget(e)}this.valueShapes[i]=t.id,this.shapes[t.id]=i,this.target.replaceWithShape(n,t)},renderRange:function(e,i){var n=t.round(this.canvasWidth*((this.values[e]-this.min)/this.range)),r=this.options.get("rangeColors")[e-2];return i&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,n-1,this.canvasHeight-1,r,r)},renderPerformance:function(e){var i=t.round(this.canvasWidth*((this.values[1]-this.min)/this.range)),n=this.options.get("performanceColor");return e&&(n=this.calcHighlightColor(n,this.options)),this.target.drawRect(0,t.round(.3*this.canvasHeight),i-1,t.round(.4*this.canvasHeight)-1,n,n)},renderTarget:function(e){var i=t.round(this.canvasWidth*((this.values[0]-this.min)/this.range)-this.options.get("targetWidth")/2),n=t.round(.1*this.canvasHeight),r=this.canvasHeight-2*n,o=this.options.get("targetColor");return e&&(o=this.calcHighlightColor(o,this.options)),this.target.drawRect(i,n,this.options.get("targetWidth")-1,r-1,o,o)},render:function(){var e,t,i=this.values.length,n=this.target;if(S._super.render.call(this)){for(e=2;e<i;e++)t=this.renderRange(e).append(),this.shapes[t.id]="r"+e,this.valueShapes["r"+e]=t.id;null!==this.values[1]&&(t=this.renderPerformance().append(),this.shapes[t.id]="p1",this.valueShapes.p1=t.id),null!==this.values[0]&&(t=this.renderTarget().append(),this.shapes[t.id]="t0",this.valueShapes.t0=t.id),n.render()}}}),i.fn.sparkline.pie=T=r(i.fn.sparkline._base,{type:"pie",init:function(e,n,r,o,s){var a,l=0;if(T._super.init.call(this,e,n,r,o,s),this.shapes={},this.valueShapes={},this.values=n=i.map(n,Number),"auto"===r.get("width")&&(this.width=this.height),n.length>0)for(a=n.length;a--;)l+=n[a];this.total=l,this.initTarget(),this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(e,t,i){var n=this.target.getShapeAt(e,t,i);return void 0!==n&&void 0!==this.shapes[n]?this.shapes[n]:void 0},getCurrentRegionFields:function(){var e=this.currentRegion;return{isNull:void 0===this.values[e],value:this.values[e],percent:this.values[e]/this.total*100,color:this.options.get("sliceColors")[e%this.options.get("sliceColors").length],offset:e}},changeHighlight:function(e){var t=this.currentRegion,i=this.renderSlice(t,e),n=this.valueShapes[t];delete this.shapes[n],this.target.replaceWithShape(n,i),this.valueShapes[t]=i.id,this.shapes[i.id]=t},renderSlice:function(e,i){var n,r,o,s,a,l=this.target,h=this.options,c=this.radius,u=h.get("borderWidth"),d=h.get("offset"),f=2*t.PI,p=this.values,g=this.total,m=d?2*t.PI*(d/360):0;for(s=p.length,o=0;o<s;o++){if(n=m,r=m,g>0&&(r=m+f*(p[o]/g)),e===o)return a=h.get("sliceColors")[o%h.get("sliceColors").length],i&&(a=this.calcHighlightColor(a,h)),l.drawPieSlice(c,c,c-u,n,r,void 0,a);m=r}},render:function(){var e,i,n=this.target,r=this.values,o=this.options,s=this.radius,a=o.get("borderWidth"),l=o.get("donutWidth");if(T._super.render.call(this)){for(a&&n.drawCircle(s,s,t.floor(s-a/2),o.get("borderColor"),void 0,a).append(),i=r.length;i--;)r[i]&&(e=this.renderSlice(i).append(),this.valueShapes[i]=e.id,this.shapes[e.id]=i);l&&n.drawCircle(s,s,s-l,o.get("donutColor"),o.get("donutColor"),0).append(),n.render()}}}),i.fn.sparkline.box=x=r(i.fn.sparkline._base,{type:"box",init:function(e,t,n,r,o){x._super.init.call(this,e,t,n,r,o),this.values=i.map(t,Number),this.width="auto"===n.get("width")?"4.0em":r,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&e.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&e.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&e.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&e.push({field:"rw",value:this.rwhisker}),e},render:function(){var e,i,n,r,o,s,l,h,c,u,d,f=this.target,p=this.values,g=p.length,m=this.options,_=this.canvasWidth,v=this.canvasHeight,y=void 0===m.get("chartRangeMin")?t.min.apply(t,p):m.get("chartRangeMin"),b=void 0===m.get("chartRangeMax")?t.max.apply(t,p):m.get("chartRangeMax"),C=0;if(x._super.render.call(this)){if(m.get("raw"))m.get("showOutliers")&&p.length>5?(i=p[0],e=p[1],r=p[2],o=p[3],s=p[4],l=p[5],h=p[6]):(e=p[0],r=p[1],o=p[2],s=p[3],l=p[4]);else if(p.sort(function(e,t){return e-t}),r=a(p,1),o=a(p,2),n=(s=a(p,3))-r,m.get("showOutliers")){for(e=l=void 0,c=0;c<g;c++)void 0===e&&p[c]>r-n*m.get("outlierIQR")&&(e=p[c]),p[c]<s+n*m.get("outlierIQR")&&(l=p[c]);i=p[0],h=p[g-1]}else e=p[0],l=p[g-1];this.quartiles=[r,o,s],this.lwhisker=e,this.rwhisker=l,this.loutlier=i,this.routlier=h,d=_/(b-y+1),m.get("showOutliers")&&(C=t.ceil(m.get("spotRadius")),d=(_-=2*t.ceil(m.get("spotRadius")))/(b-y+1),i<e&&f.drawCircle((i-y)*d+C,v/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append(),h>l&&f.drawCircle((h-y)*d+C,v/2,m.get("spotRadius"),m.get("outlierLineColor"),m.get("outlierFillColor")).append()),f.drawRect(t.round((r-y)*d+C),t.round(.1*v),t.round((s-r)*d),t.round(.8*v),m.get("boxLineColor"),m.get("boxFillColor")).append(),f.drawLine(t.round((e-y)*d+C),t.round(v/2),t.round((r-y)*d+C),t.round(v/2),m.get("lineColor")).append(),f.drawLine(t.round((e-y)*d+C),t.round(v/4),t.round((e-y)*d+C),t.round(v-v/4),m.get("whiskerColor")).append(),f.drawLine(t.round((l-y)*d+C),t.round(v/2),t.round((s-y)*d+C),t.round(v/2),m.get("lineColor")).append(),f.drawLine(t.round((l-y)*d+C),t.round(v/4),t.round((l-y)*d+C),t.round(v-v/4),m.get("whiskerColor")).append(),f.drawLine(t.round((o-y)*d+C),t.round(.1*v),t.round((o-y)*d+C),t.round(.9*v),m.get("medianColor")).append(),m.get("target")&&(u=t.ceil(m.get("spotRadius")),f.drawLine(t.round((m.get("target")-y)*d+C),t.round(v/2-u),t.round((m.get("target")-y)*d+C),t.round(v/2+u),m.get("targetColor")).append(),f.drawLine(t.round((m.get("target")-y)*d+C-u),t.round(v/2),t.round((m.get("target")-y)*d+C+u),t.round(v/2),m.get("targetColor")).append()),f.render()}}}),N=r({init:function(e,t,i,n){this.target=e,this.id=t,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),A=r({_pxregex:/(\d+)(px)?\s*$/i,init:function(e,t,n){e&&(this.width=e,this.height=t,this.target=n,this.lastShapeId=null,n[0]&&(n=n[0]),i.data(n,"_jqs_vcanvas",this))},drawLine:function(e,t,i,n,r,o){return this.drawShape([[e,t],[i,n]],r,o)},drawShape:function(e,t,i,n){return this._genShape("Shape",[e,t,i,n])},drawCircle:function(e,t,i,n,r,o){return this._genShape("Circle",[e,t,i,n,r,o])},drawPieSlice:function(e,t,i,n,r,o,s){return this._genShape("PieSlice",[e,t,i,n,r,o,s])},drawRect:function(e,t,i,n,r,o){return this._genShape("Rect",[e,t,i,n,r,o])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(e,t){i(t).html(e)},_calculatePixelDims:function(e,t,n){var r;r=this._pxregex.exec(t),this.pixelHeight=r?r[1]:i(n).height(),r=this._pxregex.exec(e),this.pixelWidth=r?r[1]:i(n).width()},_genShape:function(e,t){var i=M++;return t.unshift(i),new N(this,i,e,t)},appendShape:function(e){alert("appendShape not implemented")},replaceWithShape:function(e,t){alert("replaceWithShape not implemented")},insertAfterShape:function(e,t){alert("insertAfterShape not implemented")},removeShapeId:function(e){alert("removeShapeId not implemented")},getShapeAt:function(e,t,i){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),I=r(A,{init:function(t,n,r,o){I._super.init.call(this,t,n,r),this.canvas=e.createElement("canvas"),r[0]&&(r=r[0]),i.data(r,"_jqs_vcanvas",this),i(this.canvas).css({display:"inline-block",width:t,height:n,verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=o,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0,i(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(e,t,i){var n=this.canvas.getContext("2d");return void 0!==e&&(n.strokeStyle=e),n.lineWidth=void 0===i?1:i,void 0!==t&&(n.fillStyle=t),n},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=void 0},_drawShape:function(e,t,i,n,r){var o,s,a=this._getContext(i,n,r);for(a.beginPath(),a.moveTo(t[0][0]+.5,t[0][1]+.5),o=1,s=t.length;o<s;o++)a.lineTo(t[o][0]+.5,t[o][1]+.5);void 0!==i&&a.stroke(),void 0!==n&&a.fill(),void 0!==this.targetX&&void 0!==this.targetY&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,i,n,r,o,s,a){var l=this._getContext(o,s,a);l.beginPath(),l.arc(i,n,r,0,2*t.PI,!1),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),void 0!==o&&l.stroke(),void 0!==s&&l.fill()},_drawPieSlice:function(e,t,i,n,r,o,s,a){var l=this._getContext(s,a);l.beginPath(),l.moveTo(t,i),l.arc(t,i,n,r,o,!1),l.lineTo(t,i),l.closePath(),void 0!==s&&l.stroke(),a&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,i,n,r,o,s){return this._drawShape(e,[[t,i],[t+n,i],[t+n,i+r],[t,i+r],[t,i]],o,s)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var i,n=this.shapeseq;for(this.shapes[t.id]=t,i=n.length;i--;)n[i]==e&&(n[i]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){var i,n,r,o=this.shapeseq,s={};for(n=e.length;n--;)s[e[n]]=!0;for(n=o.length;n--;)s[i=o[n]]&&(o.splice(n,1),delete this.shapes[i],r=n);for(n=t.length;n--;)o.splice(r,0,t[n].id),this.shapes[t[n].id]=t[n]},insertAfterShape:function(e,t){var i,n=this.shapeseq;for(i=n.length;i--;)if(n[i]===e)return n.splice(i+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){var t,i=this.shapeseq;for(t=i.length;t--;)if(i[t]===e){i.splice(t,1);break}delete this.shapes[e]},getShapeAt:function(e,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var e,t,i=this.shapeseq,n=this.shapes,r=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),t=0;t<r;t++)this["_draw"+(e=n[i[t]]).type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),L=r(A,{init:function(t,n,r){L._super.init.call(this,t,n,r),r[0]&&(r=r[0]),i.data(r,"_jqs_vcanvas",this),this.canvas=e.createElement("span"),i(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:n,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,r),this._calculatePixelDims(t,n,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.canvas.insertAdjacentHTML("beforeEnd",'<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>'),this.group=i(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(e,t,i,n,r){var o,s,a,l,h=[];for(l=0,a=t.length;l<a;l++)h[l]=t[l][0]+","+t[l][1];return o=h.splice(0,1),r=void 0===r?1:r,s=h[0]===h[h.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+(void 0===i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ')+(void 0===n?' filled="false"':' fillColor="'+n+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+h.join(", ")+" "+s+'e"> </v:shape>'},_drawCircle:function(e,t,i,n,r,o,s){return'<v:oval  id="jqsshape'+e+'" '+(void 0===r?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+r+'" ')+(void 0===o?' filled="false"':' fillColor="'+o+'" filled="true" ')+' style="position:absolute;top:'+(i-=n)+"px; left:"+(t-=n)+"px; width:"+2*n+"px; height:"+2*n+'px"></v:oval>'},_drawPieSlice:function(e,i,n,r,o,s,a,l){var h,c,u,d;if(o===s)return"";if(s-o==2*t.PI&&(o=0,s=2*t.PI),h=i+t.round(t.cos(o)*r),c=n+t.round(t.sin(o)*r),u=i+t.round(t.cos(s)*r),d=n+t.round(t.sin(s)*r),h===u&&c===d){if(s-o<t.PI)return"";h=u=i+r,c=d=n}return h===u&&c===d&&s-o<t.PI?"":'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+e+'" '+(void 0===a?' stroked="false" ':' strokeWeight="1px" strokeColor="'+a+'" ')+(void 0===l?' filled="false"':' fillColor="'+l+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+i+","+n+" wa "+[i-r,n-r,i+r,n+r,h,c,u,d].join(", ")+' x e"> </v:shape>'},_drawRect:function(e,t,i,n,r,o,s){return this._drawShape(e,[[t,i],[t,i+r],[t+n,i+r],[t+n,i],[t,i]],o,s)},reset:function(){this.group.innerHTML=""},appendShape:function(e){var t=this["_draw"+e.type].apply(this,e.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var n=i("#jqsshape"+e),r=this["_draw"+t.type].apply(this,t.args);n[0].outerHTML=r},replaceWithShapes:function(e,t){var n,r=i("#jqsshape"+e[0]),o="",s=t.length;for(n=0;n<s;n++)o+=this["_draw"+t[n].type].apply(this,t[n].args);for(r[0].outerHTML=o,n=1;n<e.length;n++)i("#jqsshape"+e[n]).remove()},insertAfterShape:function(e,t){var n=i("#jqsshape"+e),r=this["_draw"+t.type].apply(this,t.args);n[0].insertAdjacentHTML("afterEnd",r)},removeShapeId:function(e){var t=i("#jqsshape"+e);this.group.removeChild(t[0])},getShapeAt:function(e,t,i){return e.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})},"function"==typeof define&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.sparkline&&n(jQuery)}(document,Math),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Tether=t()}(this,function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e){var i=e.getBoundingClientRect(),n={};for(var r in i)n[r]=i[r];if(e.ownerDocument!==document){var o=e.ownerDocument.defaultView.frameElement;if(o){var s=t(o);n.top+=s.top,n.bottom+=s.top,n.left+=s.left,n.right+=s.left}}return n}function i(e){var t=(getComputedStyle(e)||{}).position,i=[];if("fixed"===t)return[e];for(var n=e;(n=n.parentNode)&&n&&1===n.nodeType;){var r=void 0;try{r=getComputedStyle(n)}catch(e){}if("undefined"==typeof r||null===r)return i.push(n),i;/(auto|scroll|overlay)/.test(r.overflow+r.overflowY+r.overflowX)&&("absolute"!==t||["relative","absolute","fixed"].indexOf(r.position)>=0)&&i.push(n)}return i.push(e.ownerDocument.body),e.ownerDocument!==document&&i.push(e.ownerDocument.defaultView),i}function n(){C&&document.body.removeChild(C),C=null}function r(e){var i=void 0;e===document?(i=document,e=document.documentElement):i=e.ownerDocument;var n=i.documentElement,r=t(e),o=S();return r.top-=o.top,r.left-=o.left,"undefined"==typeof r.width&&(r.width=document.body.scrollWidth-r.left-r.right),"undefined"==typeof r.height&&(r.height=document.body.scrollHeight-r.top-r.bottom),r.top=r.top-n.clientTop,r.left=r.left-n.clientLeft,r.right=i.body.clientWidth-r.width-r.left,r.bottom=i.body.clientHeight-r.height-r.top,r}function o(e){return e.offsetParent||document.documentElement}function s(){if(T)return T;var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");a(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);var i=e.offsetWidth;t.style.overflow="scroll";var n=e.offsetWidth;i===n&&(n=t.clientWidth),document.body.removeChild(t);var r=i-n;return T={width:r,height:r}}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=[];return Array.prototype.push.apply(t,arguments),t.slice(1).forEach(function(t){if(t)for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}),e}function l(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.remove(t)});else{var i=new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi"),n=u(e).replace(i," ");d(e,n)}}function h(e,t){if("undefined"!=typeof e.classList)t.split(" ").forEach(function(t){t.trim()&&e.classList.add(t)});else{l(e,t);var i=u(e)+" "+t;d(e,i)}}function c(e,t){if("undefined"!=typeof e.classList)return e.classList.contains(t);var i=u(e);return new RegExp("(^| )"+t+"( |$)","gi").test(i)}function u(e){return e.className instanceof e.ownerDocument.defaultView.SVGAnimatedString?e.className.baseVal:e.className}function d(e,t){e.setAttribute("class",t)}function f(e,t,i){i.forEach(function(i){-1===t.indexOf(i)&&c(e,i)&&l(e,i)}),t.forEach(function(t){c(e,t)||h(e,t)})}function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return e+i>=t&&t>=e-i}function g(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():+new Date}function m(){for(var e={top:0,left:0},t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.forEach(function(t){var i=t.top,n=t.left;"string"==typeof i&&(i=parseFloat(i,10)),"string"==typeof n&&(n=parseFloat(n,10)),e.top+=i,e.left+=n}),e}function _(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e}function v(e,t){return"scrollParent"===t?t=e.scrollParents[0]:"window"===t&&(t=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),t===document&&(t=t.documentElement),"undefined"!=typeof t.nodeType&&function(){var e=t,i=r(t),n=i,o=getComputedStyle(t);if(t=[n.left,n.top,i.width+n.left,i.height+n.top],e.ownerDocument!==document){var s=e.ownerDocument.defaultView;t[0]+=s.pageXOffset,t[1]+=s.pageYOffset,t[2]+=s.pageXOffset,t[3]+=s.pageYOffset}U.forEach(function(e,i){"Top"===(e=e[0].toUpperCase()+e.substr(1))||"Left"===e?t[i]+=parseFloat(o["border"+e+"Width"]):t[i]-=parseFloat(o["border"+e+"Width"])})}(),t}var y=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),b=void 0;"undefined"==typeof b&&(b={modules:[]});var C=null,w=function(){var e=0;return function(){return++e}}(),E={},S=function(){var e=C;e&&document.body.contains(e)||((e=document.createElement("div")).setAttribute("data-tether-id",w()),a(e.style,{top:0,left:0,position:"absolute"}),document.body.appendChild(e),C=e);var i=e.getAttribute("data-tether-id");return"undefined"==typeof E[i]&&(E[i]=t(e),k(function(){delete E[i]})),E[i]},T=null,x=[],k=function(e){x.push(e)},N=function(){for(var e=void 0;e=x.pop();)e()},A=function(){function t(){e(this,t)}return y(t,[{key:"on",value:function(e,t,i){var n=!(arguments.length<=3||void 0===arguments[3])&&arguments[3];"undefined"==typeof this.bindings&&(this.bindings={}),"undefined"==typeof this.bindings[e]&&(this.bindings[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:n})}},{key:"once",value:function(e,t,i){this.on(e,t,i,!0)}},{key:"off",value:function(e,t){if("undefined"!=typeof this.bindings&&"undefined"!=typeof this.bindings[e])if("undefined"==typeof t)delete this.bindings[e];else for(var i=0;i<this.bindings[e].length;)this.bindings[e][i].handler===t?this.bindings[e].splice(i,1):++i}},{key:"trigger",value:function(e){if("undefined"!=typeof this.bindings&&this.bindings[e]){for(var t=0,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(;t<this.bindings[e].length;){var o=this.bindings[e][t],s=o.once,a=o.ctx;"undefined"==typeof a&&(a=this),o.handler.apply(a,n),s?this.bindings[e].splice(t,1):++t}}}}]),t}();b.Utils={getActualBoundingClientRect:t,getScrollParents:i,getBounds:r,getOffsetParent:o,extend:a,addClass:h,removeClass:l,hasClass:c,updateClasses:f,defer:k,flush:N,uniqueId:w,Evented:A,getScrollBarSize:s,removeUtilElements:n};var I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},L=(y=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),function(e,t,i){for(var n=!0;n;){var r=e,o=t,s=i;n=!1,null===r&&(r=Function.prototype);var a=Object.getOwnPropertyDescriptor(r,o);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(s)}var h=Object.getPrototypeOf(r);if(null===h)return;e=h,t=o,i=s,n=!0,a=h=void 0}});if("undefined"==typeof b)throw new Error("You must include the utils.js file before tether.js");var i=(z=b.Utils).getScrollParents,o=(r=z.getBounds,z.getOffsetParent),h=(a=z.extend,z.addClass),l=z.removeClass,s=(f=z.updateClasses,k=z.defer,N=z.flush,z.getScrollBarSize),n=z.removeUtilElements,R=function(){if("undefined"==typeof document)return"";for(var e=document.createElement("div"),t=["transform","WebkitTransform","OTransform","MozTransform","msTransform"],i=0;i<t.length;++i){var n=t[i];if(void 0!==e.style[n])return n}}(),D=[],M=function(){D.forEach(function(e){e.position(!1)}),N()};!function(){var e=null,t=null,i=null,n=function n(){return"undefined"!=typeof t&&t>16?(t=Math.min(t-16,250),void(i=setTimeout(n,250))):void("undefined"!=typeof e&&g()-e<10||(null!=i&&(clearTimeout(i),i=null),e=g(),M(),t=g()-e))};"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener&&["resize","scroll","touchmove"].forEach(function(e){window.addEventListener(e,n)})}();var O={center:"center",left:"right",right:"left"},P={middle:"middle",top:"bottom",bottom:"top"},H={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},j=function(e){var t=e.left,i=e.top;return"undefined"!=typeof H[e.left]&&(t=H[e.left]),"undefined"!=typeof H[e.top]&&(i=H[e.top]),{left:t,top:i}},B=function(e){var t=e.split(" "),i=I(t,2);return{top:i[0],left:i[1]}},F=B,W=function(t){function c(t){var i=this;e(this,c),L(Object.getPrototypeOf(c.prototype),"constructor",this).call(this),this.position=this.position.bind(this),D.push(this),this.history=[],this.setOptions(t,!1),b.modules.forEach(function(e){"undefined"!=typeof e.initialize&&e.initialize.call(i)}),this.position()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,A),y(c,[{key:"getClass",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.options.classes;return"undefined"!=typeof t&&t[e]?this.options.classes[e]:this.options.classPrefix?this.options.classPrefix+"-"+e:e}},{key:"setOptions",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]||arguments[1];this.options=a({offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},e);var r=this.options,o=r.target,s=r.targetModifier;if(this.element=r.element,this.target=o,this.targetModifier=s,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),["element","target"].forEach(function(e){if("undefined"==typeof t[e])throw new Error("Tether Error: Both element and target must be defined");"undefined"!=typeof t[e].jquery?t[e]=t[e][0]:"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),h(this.element,this.getClass("element")),!1!==this.options.addTargetClasses&&h(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");this.targetAttachment=F(this.options.targetAttachment),this.attachment=F(this.options.attachment),this.offset=B(this.options.offset),this.targetOffset=B(this.options.targetOffset),"undefined"!=typeof this.scrollParents&&this.disable(),this.scrollParents="scroll-handle"===this.targetModifier?[this.target]:i(this.target),!1!==this.options.enabled&&this.enable(n)}},{key:"getTargetBounds",value:function(){if("undefined"==typeof this.targetModifier)return r(this.target);if("visible"===this.targetModifier)return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((s={height:(e=r(this.target)).height,width:e.width,top:e.top,left:e.left}).height=Math.min(s.height,e.height-(pageYOffset-e.top)),s.height=Math.min(s.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),s.height=Math.min(innerHeight,s.height),s.height-=2,s.width=Math.min(s.width,e.width-(pageXOffset-e.left)),s.width=Math.min(s.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),s.width=Math.min(innerWidth,s.width),s.width-=2,s.top<pageYOffset&&(s.top=pageYOffset),s.left<pageXOffset&&(s.left=pageXOffset),s);if("scroll-handle"===this.targetModifier){var e=void 0,t=this.target;t===document.body?(t=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=r(t);var i=getComputedStyle(t),n=0;(t.scrollWidth>t.clientWidth||[i.overflow,i.overflowX].indexOf("scroll")>=0||this.target!==document.body)&&(n=15);var o=e.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-n,s={width:15,height:.975*o*(o/t.scrollHeight),left:e.left+e.width-parseFloat(i.borderLeftWidth)-15},a=0;return o<408&&this.target===document.body&&(a=-11e-5*Math.pow(o,2)-.00727*o+22.58),this.target!==document.body&&(s.height=Math.max(s.height,24)),s.top=this.target.scrollTop/(t.scrollHeight-o)*(o-s.height-a)+e.top+parseFloat(i.borderTopWidth),this.target===document.body&&(s.height=Math.max(s.height,24)),s}}},{key:"clearCache",value:function(){this._cache={}}},{key:"cache",value:function(e,t){return"undefined"==typeof this._cache&&(this._cache={}),"undefined"==typeof this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]}},{key:"enable",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];!1!==this.options.addTargetClasses&&h(this.target,this.getClass("enabled")),h(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParents.forEach(function(t){t!==e.target.ownerDocument&&t.addEventListener("scroll",e.position)}),t&&this.position()}},{key:"disable",value:function(){var e=this;l(this.target,this.getClass("enabled")),l(this.element,this.getClass("enabled")),this.enabled=!1,"undefined"!=typeof this.scrollParents&&this.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.position)})}},{key:"destroy",value:function(){var e=this;this.disable(),D.forEach(function(t,i){t===e&&D.splice(i,1)}),0===D.length&&n()}},{key:"updateAttachClasses",value:function(e,t){var i=this;e=e||this.attachment,t=t||this.targetAttachment,"undefined"!=typeof this._addAttachClasses&&this._addAttachClasses.length&&this._addAttachClasses.splice(0,this._addAttachClasses.length),"undefined"==typeof this._addAttachClasses&&(this._addAttachClasses=[]);var n=this._addAttachClasses;e.top&&n.push(this.getClass("element-attached")+"-"+e.top),e.left&&n.push(this.getClass("element-attached")+"-"+e.left),t.top&&n.push(this.getClass("target-attached")+"-"+t.top),t.left&&n.push(this.getClass("target-attached")+"-"+t.left);var r=[];["left","top","bottom","right","middle","center"].forEach(function(e){r.push(i.getClass("element-attached")+"-"+e),r.push(i.getClass("target-attached")+"-"+e)}),k(function(){"undefined"!=typeof i._addAttachClasses&&(f(i.element,i._addAttachClasses,r),!1!==i.options.addTargetClasses&&f(i.target,i._addAttachClasses,r),delete i._addAttachClasses)})}},{key:"position",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]||arguments[0];if(this.enabled){this.clearCache();var i=function(e,t){var i=e.left,n=e.top;return"auto"===i&&(i=O[t.left]),"auto"===n&&(n=P[t.top]),{left:i,top:n}}(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);var n=this.cache("element-bounds",function(){return r(e.element)}),a=n.width,l=n.height;if(0===a&&0===l&&"undefined"!=typeof this.lastSize){var h=this.lastSize;a=h.width,l=h.height}else this.lastSize={width:a,height:l};var c=this.cache("target-bounds",function(){return e.getTargetBounds()}),u=c,d=_(j(this.attachment),{width:a,height:l}),f=_(j(i),u),p=_(this.offset,{width:a,height:l}),g=_(this.targetOffset,u);d=m(d,p),f=m(f,g);for(var v=c.left+f.left-d.left,y=c.top+f.top-d.top,C=0;C<b.modules.length;++C){var w=b.modules[C].position.call(this,{left:v,top:y,targetAttachment:i,targetPos:c,elementPos:n,offset:d,targetOffset:f,manualOffset:p,manualTargetOffset:g,scrollbarSize:x,attachment:this.attachment});if(!1===w)return!1;"undefined"!=typeof w&&"object"==typeof w&&(y=w.top,v=w.left)}var E={page:{top:y,left:v},viewport:{top:y-pageYOffset,bottom:pageYOffset-y-l+innerHeight,left:v-pageXOffset,right:pageXOffset-v-a+innerWidth}},S=this.target.ownerDocument,T=S.defaultView,x=void 0;return T.innerHeight>S.documentElement.clientHeight&&(x=this.cache("scrollbar-size",s),E.viewport.bottom-=x.height),T.innerWidth>S.documentElement.clientWidth&&(x=this.cache("scrollbar-size",s),E.viewport.right-=x.width),-1!==["","static"].indexOf(S.body.style.position)&&-1!==["","static"].indexOf(S.body.parentElement.style.position)||(E.page.bottom=S.body.scrollHeight-y-l,E.page.right=S.body.scrollWidth-v-a),"undefined"!=typeof this.options.optimizations&&!1!==this.options.optimizations.moveElement&&"undefined"==typeof this.targetModifier&&function(){var t=e.cache("target-offsetparent",function(){return o(e.target)}),i=e.cache("target-offsetparent-bounds",function(){return r(t)}),n=getComputedStyle(t),s=i,a={};["Top","Left","Bottom","Right"].forEach(function(e){a[e.toLowerCase()]=parseFloat(n["border"+e+"Width"])}),i.right=S.body.scrollWidth-i.left-s.width+a.right,i.bottom=S.body.scrollHeight-i.top-s.height+a.bottom,E.page.top>=i.top+a.top&&E.page.bottom>=i.bottom&&E.page.left>=i.left+a.left&&E.page.right>=i.right&&(E.offset={top:E.page.top-i.top+t.scrollTop-a.top,left:E.page.left-i.left+t.scrollLeft-a.left})}(),this.move(E),this.history.unshift(E),this.history.length>3&&this.history.pop(),t&&N(),!0}}},{key:"move",value:function(e){var t=this;if("undefined"!=typeof this.element.parentNode){var i={};for(var n in e)for(var r in i[n]={},e[n]){for(var s=!1,l=0;l<this.history.length;++l){var h=this.history[l];if("undefined"!=typeof h[n]&&!p(h[n][r],e[n][r])){s=!0;break}}s||(i[n][r]=!0)}var c={top:"",left:"",right:"",bottom:""},u=function(e,i){if(!1!==("undefined"!=typeof t.options.optimizations?t.options.optimizations.gpu:null)){var n=void 0,r=void 0;e.top?(c.top=0,n=i.top):(c.bottom=0,n=-i.bottom),e.left?(c.left=0,r=i.left):(c.right=0,r=-i.right),window.matchMedia&&(window.matchMedia("only screen and (min-resolution: 1.3dppx)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.3)").matches||(r=Math.round(r),n=Math.round(n))),c[R]="translateX("+r+"px) translateY("+n+"px)","msTransform"!==R&&(c[R]+=" translateZ(0)")}else e.top?c.top=i.top+"px":c.bottom=i.bottom+"px",e.left?c.left=i.left+"px":c.right=i.right+"px"},d=!1;if((i.page.top||i.page.bottom)&&(i.page.left||i.page.right)?(c.position="absolute",u(i.page,e.page)):(i.viewport.top||i.viewport.bottom)&&(i.viewport.left||i.viewport.right)?(c.position="fixed",u(i.viewport,e.viewport)):"undefined"!=typeof i.offset&&i.offset.top&&i.offset.left?function(){c.position="absolute";var n=t.cache("target-offsetparent",function(){return o(t.target)});o(t.element)!==n&&k(function(){t.element.parentNode.removeChild(t.element),n.appendChild(t.element)}),u(i.offset,e.offset),d=!0}():(c.position="absolute",u({top:!0,left:!0},e.page)),!d)if(this.options.bodyElement)this.element.parentNode!==this.options.bodyElement&&this.options.bodyElement.appendChild(this.element);else{for(var f=!0,g=this.element.parentNode;g&&1===g.nodeType&&"BODY"!==g.tagName;){if("static"!==getComputedStyle(g).position){f=!1;break}g=g.parentNode}f||(this.element.parentNode.removeChild(this.element),this.element.ownerDocument.body.appendChild(this.element))}var m={},_=!1;for(var r in c){var v=c[r];this.element.style[r]!==v&&(_=!0,m[r]=v)}_&&k(function(){a(t.element.style,m),t.trigger("repositioned")})}}}]),c}();W.modules=[],b.position=M;var q=a(W,b),a=(I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=(z=b.Utils).getBounds,z.extend),U=(f=z.updateClasses,k=z.defer,["left","top","right","bottom"]);b.modules.push({position:function(e){var t=this,i=e.top,n=e.left,o=e.targetAttachment;if(!this.options.constraints)return!0;var s=this.cache("element-bounds",function(){return r(t.element)}),l=s.height,h=s.width;if(0===h&&0===l&&"undefined"!=typeof this.lastSize){var c=this.lastSize;h=c.width,l=c.height}var u=this.cache("target-bounds",function(){return t.getTargetBounds()}),d=u.height,p=u.width,g=[this.getClass("pinned"),this.getClass("out-of-bounds")];this.options.constraints.forEach(function(e){var t=e.outOfBoundsClass,i=e.pinnedClass;t&&g.push(t),i&&g.push(i)}),g.forEach(function(e){["left","top","right","bottom"].forEach(function(t){g.push(e+"-"+t)})});var m=[],_=a({},o),y=a({},this.attachment);return this.options.constraints.forEach(function(e){var r=e.to,s=e.attachment,a=e.pin;"undefined"==typeof s&&(s="");var c=void 0,u=void 0;if(s.indexOf(" ")>=0){var f=s.split(" "),g=I(f,2);u=g[0],c=g[1]}else c=u=s;var b=v(t,r);"target"!==u&&"both"!==u||(i<b[1]&&"top"===_.top&&(i+=d,_.top="bottom"),i+l>b[3]&&"bottom"===_.top&&(i-=d,_.top="top")),"together"===u&&("top"===_.top&&("bottom"===y.top&&i<b[1]?(i+=d,_.top="bottom",i+=l,y.top="top"):"top"===y.top&&i+l>b[3]&&i-(l-d)>=b[1]&&(i-=l-d,_.top="bottom",y.top="bottom")),"bottom"===_.top&&("top"===y.top&&i+l>b[3]?(i-=d,_.top="top",i-=l,y.top="bottom"):"bottom"===y.top&&i<b[1]&&i+(2*l-d)<=b[3]&&(i+=l-d,_.top="top",y.top="top")),"middle"===_.top&&(i+l>b[3]&&"top"===y.top?(i-=l,y.top="bottom"):i<b[1]&&"bottom"===y.top&&(i+=l,y.top="top"))),"target"!==c&&"both"!==c||(n<b[0]&&"left"===_.left&&(n+=p,_.left="right"),n+h>b[2]&&"right"===_.left&&(n-=p,_.left="left")),"together"===c&&(n<b[0]&&"left"===_.left?"right"===y.left?(n+=p,_.left="right",n+=h,y.left="left"):"left"===y.left&&(n+=p,_.left="right",n-=h,y.left="right"):n+h>b[2]&&"right"===_.left?"left"===y.left?(n-=p,_.left="left",n-=h,y.left="right"):"right"===y.left&&(n-=p,_.left="left",n+=h,y.left="left"):"center"===_.left&&(n+h>b[2]&&"left"===y.left?(n-=h,y.left="right"):n<b[0]&&"right"===y.left&&(n+=h,y.left="left"))),"element"!==u&&"both"!==u||(i<b[1]&&"bottom"===y.top&&(i+=l,y.top="top"),i+l>b[3]&&"top"===y.top&&(i-=l,y.top="bottom")),"element"!==c&&"both"!==c||(n<b[0]&&("right"===y.left?(n+=h,y.left="left"):"center"===y.left&&(n+=h/2,y.left="left")),n+h>b[2]&&("left"===y.left?(n-=h,y.left="right"):"center"===y.left&&(n-=h/2,y.left="right"))),"string"==typeof a?a=a.split(",").map(function(e){return e.trim()}):!0===a&&(a=["top","left","right","bottom"]),a=a||[];var C=[],w=[];i<b[1]&&(a.indexOf("top")>=0?(i=b[1],C.push("top")):w.push("top")),i+l>b[3]&&(a.indexOf("bottom")>=0?(i=b[3]-l,C.push("bottom")):w.push("bottom")),n<b[0]&&(a.indexOf("left")>=0?(n=b[0],C.push("left")):w.push("left")),n+h>b[2]&&(a.indexOf("right")>=0?(n=b[2]-h,C.push("right")):w.push("right")),C.length&&function(){var e;e="undefined"!=typeof t.options.pinnedClass?t.options.pinnedClass:t.getClass("pinned"),m.push(e),C.forEach(function(t){m.push(e+"-"+t)})}(),w.length&&function(){var e;e="undefined"!=typeof t.options.outOfBoundsClass?t.options.outOfBoundsClass:t.getClass("out-of-bounds"),m.push(e),w.forEach(function(t){m.push(e+"-"+t)})}(),(C.indexOf("left")>=0||C.indexOf("right")>=0)&&(y.left=_.left=!1),(C.indexOf("top")>=0||C.indexOf("bottom")>=0)&&(y.top=_.top=!1),_.top===o.top&&_.left===o.left&&y.top===t.attachment.top&&y.left===t.attachment.left||(t.updateAttachClasses(y,_),t.trigger("update",{attachment:y,targetAttachment:_}))}),k(function(){!1!==t.options.addTargetClasses&&f(t.target,m,g),f(t.element,m,g)}),{top:i,left:n}}});var z,r=(z=b.Utils).getBounds,f=z.updateClasses;return k=z.defer,b.modules.push({position:function(e){var t=this,i=e.top,n=e.left,o=this.cache("element-bounds",function(){return r(t.element)}),s=o.height,a=o.width,l=this.getTargetBounds(),h=i+s,c=n+a,u=[];i<=l.bottom&&h>=l.top&&["left","right"].forEach(function(e){var t=l[e];t!==n&&t!==c||u.push(e)}),n<=l.right&&c>=l.left&&["top","bottom"].forEach(function(e){var t=l[e];t!==i&&t!==h||u.push(e)});var d=[],p=[];return d.push(this.getClass("abutted")),["left","top","right","bottom"].forEach(function(e){d.push(t.getClass("abutted")+"-"+e)}),u.length&&p.push(this.getClass("abutted")),u.forEach(function(e){p.push(t.getClass("abutted")+"-"+e)}),k(function(){!1!==t.options.addTargetClasses&&f(t.target,p,d),f(t.element,p,d)}),!0}}),I=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b.modules.push({position:function(e){var t=e.top,i=e.left;if(this.options.shift){var n=this.options.shift;"function"==typeof this.options.shift&&(n=this.options.shift.call(this,{top:t,left:i}));var r=void 0,o=void 0;if("string"==typeof n){(n=n.split(" "))[1]=n[1]||n[0];var s=I(n,2);r=s[0],o=s[1],r=parseFloat(r,10),o=parseFloat(o,10)}else r=n.top,o=n.left;return{top:t+=r,left:i+=o}}}}),q}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t(e.bootstrap={},e.jQuery,e.Popper)}(this,function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){var n,r,o;o=i[r=t],r in(n=e)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o})}return e}t=t&&t.hasOwnProperty("default")?t.default:t,i=i&&i.hasOwnProperty("default")?i.default:i;var s,a,l,h,c,u,d,f,p,g,m,_,v,y,b,C,w,E,S,T,x,k,N,A,I,L,R,D,M,O,P,H,j,B,F,W,q,U,z,V,Y,K,X,$,G,Q,Z,J,ee,te,ie,ne,re,oe,se,ae,le,he,ce,ue,de,fe,pe,ge,me,_e,ve,ye,be,Ce,we,Ee,Se,Te,xe,ke,Ne,Ae,Ie,Le,Re,De,Me,Oe,Pe,He,je,Be,Fe,We,qe,Ue,ze,Ve,Ye,Ke,Xe,$e,Ge,Qe,Ze,Je,et,tt,it,nt,rt,ot,st,at,lt,ht,ct,ut,dt,ft,pt,gt,mt,_t,vt,yt,bt,Ct,wt,Et,St,Tt,xt,kt,Nt,At,It,Lt,Rt,Dt,Mt,Ot,Pt,Ht,jt,Bt,Ft,Wt,qt,Ut,zt,Vt,Yt,Kt,Xt,$t,Gt,Qt,Zt,Jt,ei,ti,ii,ni,ri,oi,si,ai,li,hi,ci,ui,di,fi,pi,gi,mi,_i,vi,yi,bi,Ci,wi,Ei,Si,Ti,xi,ki,Ni,Ai,Ii=function(e){var t="transitionend",i={TRANSITION_END:"bsTransitionEnd",getUID:function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var i=e(t).css("transition-duration");return parseFloat(i)?(i=i.split(",")[0],1e3*parseFloat(i)):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(i){e(i).trigger(t)},supportsTransitionEnd:function(){return Boolean(t)},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r],s=t[r],a=s&&i.isElement(s)?"element":{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(e.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}}};return e.fn.emulateTransitionEnd=function(t){var n=this,r=!1;return e(this).one(i.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||i.triggerTransitionEnd(n)},t),this},e.event.special[i.TRANSITION_END]={bindType:t,delegateType:t,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}},i}(t),Li=(h="."+(l="bs.alert"),c=(s=t).fn[a="alert"],u={CLOSE:"close"+h,CLOSED:"closed"+h,CLICK_DATA_API:"click"+h+".data-api"},d="alert",f="fade",p="show",g=function(){function e(e){this._element=e}var t=e.prototype;return t.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){s.removeData(this._element,l),this._element=null},t._getRootElement=function(e){var t=Ii.getSelectorFromElement(e),i=!1;return t&&(i=document.querySelector(t)),i||(i=s(e).closest("."+d)[0]),i},t._triggerCloseEvent=function(e){var t=s.Event(u.CLOSE);return s(e).trigger(t),t},t._removeElement=function(e){var t=this;if(s(e).removeClass(p),s(e).hasClass(f)){var i=Ii.getTransitionDurationFromElement(e);s(e).one(Ii.TRANSITION_END,function(i){return t._destroyElement(e,i)}).emulateTransitionEnd(i)}else this._destroyElement(e)},t._destroyElement=function(e){s(e).detach().trigger(u.CLOSED).remove()},e._jQueryInterface=function(t){return this.each(function(){var i=s(this),n=i.data(l);n||(n=new e(this),i.data(l,n)),"close"===t&&n[t](this)})},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),e}(),s(document).on(u.CLICK_DATA_API,'[data-dismiss="alert"]',g._handleDismiss(new g)),s.fn[a]=g._jQueryInterface,s.fn[a].Constructor=g,s.fn[a].noConflict=function(){return s.fn[a]=c,g._jQueryInterface},g),Ri=(y="."+(v="bs.button"),C=(m=t).fn[_="button"],w="active",S='[data-toggle^="button"]',T='[data-toggle="buttons"]',x="input",k=".active",N=".btn",A={CLICK_DATA_API:"click"+y+(b=".data-api"),FOCUS_BLUR_DATA_API:(E="focus")+y+b+" blur"+y+b},I=function(){function e(e){this._element=e}var t=e.prototype;return t.toggle=function(){var e=!0,t=!0,i=m(this._element).closest(T)[0];if(i){var n=this._element.querySelector(x);if(n){if("radio"===n.type)if(n.checked&&this._element.classList.contains(w))e=!1;else{var r=i.querySelector(k);r&&m(r).removeClass(w)}if(e){if(n.hasAttribute("disabled")||i.hasAttribute("disabled")||n.classList.contains("disabled")||i.classList.contains("disabled"))return;n.checked=!this._element.classList.contains(w),m(n).trigger("change")}n.focus(),t=!1}}t&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(w)),e&&m(this._element).toggleClass(w)},t.dispose=function(){m.removeData(this._element,v),this._element=null},e._jQueryInterface=function(t){return this.each(function(){var i=m(this).data(v);i||(i=new e(this),m(this).data(v,i)),"toggle"===t&&i[t]()})},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),e}(),m(document).on(A.CLICK_DATA_API,S,function(e){e.preventDefault();var t=e.target;m(t).hasClass("btn")||(t=m(t).closest(N)),I._jQueryInterface.call(m(t),"toggle")}).on(A.FOCUS_BLUR_DATA_API,S,function(e){var t=m(e.target).closest(N)[0];m(t).toggleClass(E,/^focus(in)?$/.test(e.type))}),m.fn[_]=I._jQueryInterface,m.fn[_].Constructor=I,m.fn[_].noConflict=function(){return m.fn[_]=C,I._jQueryInterface},I),Di=(M="."+(D="bs.carousel"),P=(L=t).fn[R="carousel"],H={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},j={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},B="next",F="prev",W="left",q="right",U={SLIDE:"slide"+M,SLID:"slid"+M,KEYDOWN:"keydown"+M,MOUSEENTER:"mouseenter"+M,MOUSELEAVE:"mouseleave"+M,TOUCHEND:"touchend"+M,LOAD_DATA_API:"load"+M+(O=".data-api"),CLICK_DATA_API:"click"+M+O},z="carousel",V="active",Y="slide",K="carousel-item-right",X="carousel-item-left",$="carousel-item-next",G="carousel-item-prev",Q=".active",Z=".active.carousel-item",J=".carousel-item",ee=".carousel-item-next, .carousel-item-prev",te=".carousel-indicators",ie="[data-slide], [data-slide-to]",ne='[data-ride="carousel"]',re=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(t),this._element=L(e)[0],this._indicatorsElement=this._element.querySelector(te),this._addEventListeners()}var t=e.prototype;return t.next=function(){this._isSliding||this._slide(B)},t.nextWhenVisible=function(){!document.hidden&&L(this._element).is(":visible")&&"hidden"!==L(this._element).css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(F)},t.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(ee)&&(Ii.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(e){var t=this;this._activeElement=this._element.querySelector(Z);var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)L(this._element).one(U.SLID,function(){return t.to(e)});else{if(i===e)return this.pause(),void this.cycle();this._slide(i<e?B:F,this._items[e])}},t.dispose=function(){L(this._element).off(M),L.removeData(this._element,D),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(e){return e=o({},H,e),Ii.typeCheckConfig(R,e,j),e},t._addEventListeners=function(){var e=this;this._config.keyboard&&L(this._element).on(U.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(L(this._element).on(U.MOUSEENTER,function(t){return e.pause(t)}).on(U.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&L(this._element).on(U.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},t._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},t._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(J)):[],this._items.indexOf(e)},t._getItemByDirection=function(e,t){var i=e===B,n=e===F,r=this._getItemIndex(t);if((n&&0===r||i&&r===this._items.length-1)&&!this._config.wrap)return t;var o=(r+(e===F?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},t._triggerSlideEvent=function(e,t){var i=this._getItemIndex(e),n=this._getItemIndex(this._element.querySelector(Z)),r=L.Event(U.SLIDE,{relatedTarget:e,direction:t,from:n,to:i});return L(this._element).trigger(r),r},t._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var t=[].slice.call(this._indicatorsElement.querySelectorAll(Q));L(t).removeClass(V);var i=this._indicatorsElement.children[this._getItemIndex(e)];i&&L(i).addClass(V)}},t._slide=function(e,t){var i,n,r,o=this,s=this._element.querySelector(Z),a=this._getItemIndex(s),l=t||s&&this._getItemByDirection(e,s),h=this._getItemIndex(l),c=Boolean(this._interval);if(e===B?(i=X,n=$,r=W):(i=K,n=G,r=q),l&&L(l).hasClass(V))this._isSliding=!1;else if(!this._triggerSlideEvent(l,r).isDefaultPrevented()&&s&&l){this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(l);var u=L.Event(U.SLID,{relatedTarget:l,direction:r,from:a,to:h});if(L(this._element).hasClass(Y)){L(l).addClass(n),Ii.reflow(l),L(s).addClass(i),L(l).addClass(i);var d=Ii.getTransitionDurationFromElement(s);L(s).one(Ii.TRANSITION_END,function(){L(l).removeClass(i+" "+n).addClass(V),L(s).removeClass(V+" "+n+" "+i),o._isSliding=!1,setTimeout(function(){return L(o._element).trigger(u)},0)}).emulateTransitionEnd(d)}else L(s).removeClass(V),L(l).addClass(V),this._isSliding=!1,L(this._element).trigger(u);c&&this.cycle()}},e._jQueryInterface=function(t){return this.each(function(){var i=L(this).data(D),n=o({},H,L(this).data());"object"==typeof t&&(n=o({},n,t));var r="string"==typeof t?t:n.slide;if(i||(i=new e(this,n),L(this).data(D,i)),"number"==typeof t)i.to(t);else if("string"==typeof r){if("undefined"==typeof i[r])throw new TypeError('No method named "'+r+'"');i[r]()}else n.interval&&(i.pause(),i.cycle())})},e._dataApiClickHandler=function(t){var i=Ii.getSelectorFromElement(this);if(i){var n=L(i)[0];if(n&&L(n).hasClass(z)){var r=o({},L(n).data(),L(this).data()),s=this.getAttribute("data-slide-to");s&&(r.interval=!1),e._jQueryInterface.call(L(n),r),s&&L(n).data(D).to(s),t.preventDefault()}}},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return H}}]),e}(),L(document).on(U.CLICK_DATA_API,ie,re._dataApiClickHandler),L(window).on(U.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(ne)),t=0,i=e.length;t<i;t++){var n=L(e[t]);re._jQueryInterface.call(n,n.data())}}),L.fn[R]=re._jQueryInterface,L.fn[R].Constructor=re,L.fn[R].noConflict=function(){return L.fn[R]=P,re._jQueryInterface},re),Mi=(le="."+(ae="bs.collapse"),he=(oe=t).fn[se="collapse"],ce={toggle:!0,parent:""},ue={toggle:"boolean",parent:"(string|element)"},de={SHOW:"show"+le,SHOWN:"shown"+le,HIDE:"hide"+le,HIDDEN:"hidden"+le,CLICK_DATA_API:"click"+le+".data-api"},fe="show",pe="collapse",ge="collapsing",me="collapsed",_e="width",ve=".show, .collapsing",ye='[data-toggle="collapse"]',be=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=oe.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(ye)),n=0,r=i.length;n<r;n++){var o=i[n],s=Ii.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(t){return t===e});null!==s&&0<a.length&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=e.prototype;return t.toggle=function(){oe(this._element).hasClass(fe)?this.hide():this.show()},t.show=function(){var t,i,n=this;if(!(this._isTransitioning||oe(this._element).hasClass(fe)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(ve)).filter(function(e){return e.getAttribute("data-parent")===n._config.parent})).length&&(t=null),t&&(i=oe(t).not(this._selector).data(ae))&&i._isTransitioning))){var r=oe.Event(de.SHOW);if(oe(this._element).trigger(r),!r.isDefaultPrevented()){t&&(e._jQueryInterface.call(oe(t).not(this._selector),"hide"),i||oe(t).data(ae,null));var o=this._getDimension();oe(this._element).removeClass(pe).addClass(ge),this._element.style[o]=0,this._triggerArray.length&&oe(this._triggerArray).removeClass(me).attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(o[0].toUpperCase()+o.slice(1)),a=Ii.getTransitionDurationFromElement(this._element);oe(this._element).one(Ii.TRANSITION_END,function(){oe(n._element).removeClass(ge).addClass(pe).addClass(fe),n._element.style[o]="",n.setTransitioning(!1),oe(n._element).trigger(de.SHOWN)}).emulateTransitionEnd(a),this._element.style[o]=this._element[s]+"px"}}},t.hide=function(){var e=this;if(!this._isTransitioning&&oe(this._element).hasClass(fe)){var t=oe.Event(de.HIDE);if(oe(this._element).trigger(t),!t.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",Ii.reflow(this._element),oe(this._element).addClass(ge).removeClass(pe).removeClass(fe);var n=this._triggerArray.length;if(0<n)for(var r=0;r<n;r++){var o=this._triggerArray[r],s=Ii.getSelectorFromElement(o);null!==s&&(oe([].slice.call(document.querySelectorAll(s))).hasClass(fe)||oe(o).addClass(me).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var a=Ii.getTransitionDurationFromElement(this._element);oe(this._element).one(Ii.TRANSITION_END,function(){e.setTransitioning(!1),oe(e._element).removeClass(ge).addClass(pe).trigger(de.HIDDEN)}).emulateTransitionEnd(a)}}},t.setTransitioning=function(e){this._isTransitioning=e},t.dispose=function(){oe.removeData(this._element,ae),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(e){return(e=o({},ce,e)).toggle=Boolean(e.toggle),Ii.typeCheckConfig(se,e,ue),e},t._getDimension=function(){return oe(this._element).hasClass(_e)?_e:"height"},t._getParent=function(){var t=this,i=null;Ii.isElement(this._config.parent)?(i=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(i=this._config.parent[0])):i=document.querySelector(this._config.parent);var n=[].slice.call(i.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return oe(n).each(function(i,n){t._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])}),i},t._addAriaAndCollapsedClass=function(e,t){if(e){var i=oe(e).hasClass(fe);t.length&&oe(t).toggleClass(me,!i).attr("aria-expanded",i)}},e._getTargetFromElement=function(e){var t=Ii.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(t){return this.each(function(){var i=oe(this),n=i.data(ae),r=o({},ce,i.data(),"object"==typeof t&&t?t:{});if(!n&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),n||(n=new e(this,r),i.data(ae,n)),"string"==typeof t){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return ce}}]),e}(),oe(document).on(de.CLICK_DATA_API,ye,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var t=oe(this),i=Ii.getSelectorFromElement(this),n=[].slice.call(document.querySelectorAll(i));oe(n).each(function(){var e=oe(this),i=e.data(ae)?"toggle":t.data();be._jQueryInterface.call(e,i)})}),oe.fn[se]=be._jQueryInterface,oe.fn[se].Constructor=be,oe.fn[se].noConflict=function(){return oe.fn[se]=he,be._jQueryInterface},be),Oi=(Se="."+(Ee="bs.dropdown"),Te=".data-api",xe=(Ce=t).fn[we="dropdown"],ke=new RegExp("38|40|27"),Ne={HIDE:"hide"+Se,HIDDEN:"hidden"+Se,SHOW:"show"+Se,SHOWN:"shown"+Se,CLICK:"click"+Se,CLICK_DATA_API:"click"+Se+Te,KEYDOWN_DATA_API:"keydown"+Se+Te,KEYUP_DATA_API:"keyup"+Se+Te},Ae="disabled",Ie="show",Le="dropright",Re="dropleft",De="dropdown-menu-right",Me="position-static",Oe='[data-toggle="dropdown"]',Pe=".dropdown form",He=".dropdown-menu",je=".navbar-nav",Be=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Fe="top-start",We="top-end",qe="bottom-start",Ue="bottom-end",ze="right-start",Ve="left-start",Ye={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Ke={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Xe=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=e.prototype;return t.toggle=function(){if(!this._element.disabled&&!Ce(this._element).hasClass(Ae)){var t=e._getParentFromElement(this._element),n=Ce(this._menu).hasClass(Ie);if(e._clearMenus(),!n){var r={relatedTarget:this._element},o=Ce.Event(Ne.SHOW,r);if(Ce(t).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof i)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=t:Ii.isElement(this._config.reference)&&(s=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&Ce(t).addClass(Me),this._popper=new i(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===Ce(t).closest(je).length&&Ce(document.body).children().on("mouseover",null,Ce.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),Ce(this._menu).toggleClass(Ie),Ce(t).toggleClass(Ie).trigger(Ce.Event(Ne.SHOWN,r))}}}},t.dispose=function(){Ce.removeData(this._element,Ee),Ce(this._element).off(Se),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;Ce(this._element).on(Ne.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},t._getConfig=function(e){return e=o({},this.constructor.Default,Ce(this._element).data(),e),Ii.typeCheckConfig(we,e,this.constructor.DefaultType),e},t._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(He))}return this._menu},t._getPlacement=function(){var e=Ce(this._element.parentNode),t=qe;return e.hasClass("dropup")?(t=Fe,Ce(this._menu).hasClass(De)&&(t=We)):e.hasClass(Le)?t=ze:e.hasClass(Re)?t=Ve:Ce(this._menu).hasClass(De)&&(t=Ue),t},t._detectNavbar=function(){return 0<Ce(this._element).closest(".navbar").length},t._getPopperConfig=function(){var e=this,t={};"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=o({},t.offsets,e._config.offset(t.offsets)||{}),t}:t.offset=this._config.offset;var i={placement:this._getPlacement(),modifiers:{offset:t,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(i.modifiers.applyStyle={enabled:!1}),i},e._jQueryInterface=function(t){return this.each(function(){var i=Ce(this).data(Ee);if(i||(i=new e(this,"object"==typeof t?t:null),Ce(this).data(Ee,i)),"string"==typeof t){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},e._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var i=[].slice.call(document.querySelectorAll(Oe)),n=0,r=i.length;n<r;n++){var o=e._getParentFromElement(i[n]),s=Ce(i[n]).data(Ee),a={relatedTarget:i[n]};if(t&&"click"===t.type&&(a.clickEvent=t),s){var l=s._menu;if(Ce(o).hasClass(Ie)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&Ce.contains(o,t.target))){var h=Ce.Event(Ne.HIDE,a);Ce(o).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&Ce(document.body).children().off("mouseover",null,Ce.noop),i[n].setAttribute("aria-expanded","false"),Ce(l).removeClass(Ie),Ce(o).removeClass(Ie).trigger(Ce.Event(Ne.HIDDEN,a)))}}}},e._getParentFromElement=function(e){var t,i=Ii.getSelectorFromElement(e);return i&&(t=document.querySelector(i)),t||e.parentNode},e._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||Ce(t.target).closest(He).length)):ke.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!Ce(this).hasClass(Ae))){var i=e._getParentFromElement(this),n=Ce(i).hasClass(Ie);if((n||27===t.which&&32===t.which)&&(!n||27!==t.which&&32!==t.which)){var r=[].slice.call(i.querySelectorAll(Be));if(0!==r.length){var o=r.indexOf(t.target);38===t.which&&0<o&&o--,40===t.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}else{if(27===t.which){var s=i.querySelector(Oe);Ce(s).trigger("focus")}Ce(this).trigger("click")}}},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Ye}},{key:"DefaultType",get:function(){return Ke}}]),e}(),Ce(document).on(Ne.KEYDOWN_DATA_API,Oe,Xe._dataApiKeydownHandler).on(Ne.KEYDOWN_DATA_API,He,Xe._dataApiKeydownHandler).on(Ne.CLICK_DATA_API+" "+Ne.KEYUP_DATA_API,Xe._clearMenus).on(Ne.CLICK_DATA_API,Oe,function(e){e.preventDefault(),e.stopPropagation(),Xe._jQueryInterface.call(Ce(this),"toggle")}).on(Ne.CLICK_DATA_API,Pe,function(e){e.stopPropagation()}),Ce.fn[we]=Xe._jQueryInterface,Ce.fn[we].Constructor=Xe,Ce.fn[we].noConflict=function(){return Ce.fn[we]=xe,Xe._jQueryInterface},Xe),Pi=(Ze="."+(Qe="bs.modal"),Je=($e=t).fn[Ge="modal"],et={backdrop:!0,keyboard:!0,focus:!0,show:!0},tt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},it={HIDE:"hide"+Ze,HIDDEN:"hidden"+Ze,SHOW:"show"+Ze,SHOWN:"shown"+Ze,FOCUSIN:"focusin"+Ze,RESIZE:"resize"+Ze,CLICK_DISMISS:"click.dismiss"+Ze,KEYDOWN_DISMISS:"keydown.dismiss"+Ze,MOUSEUP_DISMISS:"mouseup.dismiss"+Ze,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Ze,CLICK_DATA_API:"click"+Ze+".data-api"},nt="modal-scrollbar-measure",rt="modal-backdrop",ot="modal-open",st="fade",at="show",lt=".modal-dialog",ht='[data-toggle="modal"]',ct='[data-dismiss="modal"]',ut=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",dt=".sticky-top",ft=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(lt),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var t=e.prototype;return t.toggle=function(e){return this._isShown?this.hide():this.show(e)},t.show=function(e){var t=this;if(!this._isTransitioning&&!this._isShown){$e(this._element).hasClass(st)&&(this._isTransitioning=!0);var i=$e.Event(it.SHOW,{relatedTarget:e});$e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),$e(document.body).addClass(ot),this._setEscapeEvent(),this._setResizeEvent(),$e(this._element).on(it.CLICK_DISMISS,ct,function(e){return t.hide(e)}),$e(this._dialog).on(it.MOUSEDOWN_DISMISS,function(){$e(t._element).one(it.MOUSEUP_DISMISS,function(e){$e(e.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(e)}))}},t.hide=function(e){var t=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=$e.Event(it.HIDE);if($e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var n=$e(this._element).hasClass(st);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),$e(document).off(it.FOCUSIN),$e(this._element).removeClass(at),$e(this._element).off(it.CLICK_DISMISS),$e(this._dialog).off(it.MOUSEDOWN_DISMISS),n){var r=Ii.getTransitionDurationFromElement(this._element);$e(this._element).one(Ii.TRANSITION_END,function(e){return t._hideModal(e)}).emulateTransitionEnd(r)}else this._hideModal()}}},t.dispose=function(){$e.removeData(this._element,Qe),$e(window,document,this._element,this._backdrop).off(Ze),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(e){return e=o({},et,e),Ii.typeCheckConfig(Ge,e,tt),e},t._showElement=function(e){var t=this,i=$e(this._element).hasClass(st);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&Ii.reflow(this._element),$e(this._element).addClass(at),this._config.focus&&this._enforceFocus();var n=$e.Event(it.SHOWN,{relatedTarget:e}),r=function(){t._config.focus&&t._element.focus(),t._isTransitioning=!1,$e(t._element).trigger(n)};if(i){var o=Ii.getTransitionDurationFromElement(this._element);$e(this._dialog).one(Ii.TRANSITION_END,r).emulateTransitionEnd(o)}else r()},t._enforceFocus=function(){var e=this;$e(document).off(it.FOCUSIN).on(it.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===$e(e._element).has(t.target).length&&e._element.focus()})},t._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?$e(this._element).on(it.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||$e(this._element).off(it.KEYDOWN_DISMISS)},t._setResizeEvent=function(){var e=this;this._isShown?$e(window).on(it.RESIZE,function(t){return e.handleUpdate(t)}):$e(window).off(it.RESIZE)},t._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){$e(document.body).removeClass(ot),e._resetAdjustments(),e._resetScrollbar(),$e(e._element).trigger(it.HIDDEN)})},t._removeBackdrop=function(){this._backdrop&&($e(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(e){var t=this,i=$e(this._element).hasClass(st)?st:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=rt,i&&this._backdrop.classList.add(i),$e(this._backdrop).appendTo(document.body),$e(this._element).on(it.CLICK_DISMISS,function(e){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"===t._config.backdrop?t._element.focus():t.hide())}),i&&Ii.reflow(this._backdrop),$e(this._backdrop).addClass(at),!e)return;if(!i)return void e();var n=Ii.getTransitionDurationFromElement(this._backdrop);$e(this._backdrop).one(Ii.TRANSITION_END,e).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){$e(this._backdrop).removeClass(at);var r=function(){t._removeBackdrop(),e&&e()};if($e(this._element).hasClass(st)){var o=Ii.getTransitionDurationFromElement(this._backdrop);$e(this._backdrop).one(Ii.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else e&&e()},t._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=e.left+e.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(ut)),i=[].slice.call(document.querySelectorAll(dt));$e(t).each(function(t,i){var n=i.style.paddingRight,r=$e(i).css("padding-right");$e(i).data("padding-right",n).css("padding-right",parseFloat(r)+e._scrollbarWidth+"px")}),$e(i).each(function(t,i){var n=i.style.marginRight,r=$e(i).css("margin-right");$e(i).data("margin-right",n).css("margin-right",parseFloat(r)-e._scrollbarWidth+"px")});var n=document.body.style.paddingRight,r=$e(document.body).css("padding-right");$e(document.body).data("padding-right",n).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},t._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(ut));$e(e).each(function(e,t){var i=$e(t).data("padding-right");$e(t).removeData("padding-right"),t.style.paddingRight=i||""});var t=[].slice.call(document.querySelectorAll(""+dt));$e(t).each(function(e,t){var i=$e(t).data("margin-right");"undefined"!=typeof i&&$e(t).css("margin-right",i).removeData("margin-right")});var i=$e(document.body).data("padding-right");$e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},t._getScrollbarWidth=function(){var e=document.createElement("div");e.className=nt,document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(t,i){return this.each(function(){var n=$e(this).data(Qe),r=o({},et,$e(this).data(),"object"==typeof t&&t?t:{});if(n||(n=new e(this,r),$e(this).data(Qe,n)),"string"==typeof t){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t](i)}else r.show&&n.show(i)})},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return et}}]),e}(),$e(document).on(it.CLICK_DATA_API,ht,function(e){var t,i=this,n=Ii.getSelectorFromElement(this);n&&(t=document.querySelector(n));var r=$e(t).data(Qe)?"toggle":o({},$e(t).data(),$e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=$e(t).one(it.SHOW,function(e){e.isDefaultPrevented()||s.one(it.HIDDEN,function(){$e(i).is(":visible")&&i.focus()})});ft._jQueryInterface.call($e(t),r,this)}),$e.fn[Ge]=ft._jQueryInterface,$e.fn[Ge].Constructor=ft,$e.fn[Ge].noConflict=function(){return $e.fn[Ge]=Je,ft._jQueryInterface},ft),Hi=(_t="."+(mt="bs.tooltip"),vt=(pt=t).fn[gt="tooltip"],yt="bs-tooltip",bt=new RegExp("(^|\\s)"+yt+"\\S+","g"),Et={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!(wt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"}),selector:!(Ct={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"}),placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},Tt="out",xt={HIDE:"hide"+_t,HIDDEN:"hidden"+_t,SHOW:(St="show")+_t,SHOWN:"shown"+_t,INSERTED:"inserted"+_t,CLICK:"click"+_t,FOCUSIN:"focusin"+_t,FOCUSOUT:"focusout"+_t,MOUSEENTER:"mouseenter"+_t,MOUSELEAVE:"mouseleave"+_t},kt="fade",Nt="show",At=".tooltip-inner",It="hover",Lt="focus",Rt=function(){function e(e,t){if("undefined"==typeof i)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var t=e.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(e){if(this._isEnabled)if(e){var t=this.constructor.DATA_KEY,i=pt(e.currentTarget).data(t);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),pt(e.currentTarget).data(t,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(pt(this.getTipElement()).hasClass(Nt))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),pt.removeData(this.element,this.constructor.DATA_KEY),pt(this.element).off(this.constructor.EVENT_KEY),pt(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&pt(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,(this._activeTrigger=null)!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===pt(this.element).css("display"))throw new Error("Please use show on visible elements");var t=pt.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){pt(this.element).trigger(t);var n=pt.contains(this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!n)return;var r=this.getTipElement(),o=Ii.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&pt(r).addClass(kt);var s="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,a=this._getAttachment(s);this.addAttachmentClass(a);var l=!1===this.config.container?document.body:pt(document).find(this.config.container);pt(r).data(this.constructor.DATA_KEY,this),pt.contains(this.element.ownerDocument.documentElement,this.tip)||pt(r).appendTo(l),pt(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,r,{placement:a,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),pt(r).addClass(Nt),"ontouchstart"in document.documentElement&&pt(document.body).children().on("mouseover",null,pt.noop);var h=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,pt(e.element).trigger(e.constructor.Event.SHOWN),t===Tt&&e._leave(null,e)};if(pt(this.tip).hasClass(kt)){var c=Ii.getTransitionDurationFromElement(this.tip);pt(this.tip).one(Ii.TRANSITION_END,h).emulateTransitionEnd(c)}else h()}},t.hide=function(e){var t=this,i=this.getTipElement(),n=pt.Event(this.constructor.Event.HIDE),r=function(){t._hoverState!==St&&i.parentNode&&i.parentNode.removeChild(i),t._cleanTipClass(),t.element.removeAttribute("aria-describedby"),pt(t.element).trigger(t.constructor.Event.HIDDEN),null!==t._popper&&t._popper.destroy(),e&&e()};if(pt(this.element).trigger(n),!n.isDefaultPrevented()){if(pt(i).removeClass(Nt),"ontouchstart"in document.documentElement&&pt(document.body).children().off("mouseover",null,pt.noop),this._activeTrigger.click=!1,this._activeTrigger[Lt]=!1,this._activeTrigger[It]=!1,pt(this.tip).hasClass(kt)){var o=Ii.getTransitionDurationFromElement(i);pt(i).one(Ii.TRANSITION_END,r).emulateTransitionEnd(o)}else r();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(e){pt(this.getTipElement()).addClass(yt+"-"+e)},t.getTipElement=function(){return this.tip=this.tip||pt(this.config.template)[0],this.tip},t.setContent=function(){var e=this.getTipElement();this.setElementContent(pt(e.querySelectorAll(At)),this.getTitle()),pt(e).removeClass(kt+" "+Nt)},t.setElementContent=function(e,t){var i=this.config.html;"object"==typeof t&&(t.nodeType||t.jquery)?i?pt(t).parent().is(e)||e.empty().append(t):e.text(pt(t).text()):e[i?"html":"text"](t)},t.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},t._getAttachment=function(e){return wt[e.toUpperCase()]},t._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)pt(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if("manual"!==t){var i=t===It?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,n=t===It?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;pt(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(n,e.config.selector,function(t){return e._leave(t)})}pt(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(e,t){var i=this.constructor.DATA_KEY;(t=t||pt(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),pt(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusin"===e.type?Lt:It]=!0),pt(t.getTipElement()).hasClass(Nt)||t._hoverState===St?t._hoverState=St:(clearTimeout(t._timeout),t._hoverState=St,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===St&&t.show()},t.config.delay.show):t.show())},t._leave=function(e,t){var i=this.constructor.DATA_KEY;(t=t||pt(e.currentTarget).data(i))||(t=new this.constructor(e.currentTarget,this._getDelegateConfig()),pt(e.currentTarget).data(i,t)),e&&(t._activeTrigger["focusout"===e.type?Lt:It]=!1),t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=Tt,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){t._hoverState===Tt&&t.hide()},t.config.delay.hide):t.hide())},t._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},t._getConfig=function(e){return"number"==typeof(e=o({},this.constructor.Default,pt(this.element).data(),"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),Ii.typeCheckConfig(gt,e,this.constructor.DefaultType),e},t._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},t._cleanTipClass=function(){var e=pt(this.getTipElement()),t=e.attr("class").match(bt);null!==t&&t.length&&e.removeClass(t.join(""))},t._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},t._fixTransition=function(){var e=this.getTipElement(),t=this.config.animation;null===e.getAttribute("x-placement")&&(pt(e).removeClass(kt),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},e._jQueryInterface=function(t){return this.each(function(){var i=pt(this).data(mt),n="object"==typeof t&&t;if((i||!/dispose|hide/.test(t))&&(i||(i=new e(this,n),pt(this).data(mt,i)),"string"==typeof t)){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Et}},{key:"NAME",get:function(){return gt}},{key:"DATA_KEY",get:function(){return mt}},{key:"Event",get:function(){return xt}},{key:"EVENT_KEY",get:function(){return _t}},{key:"DefaultType",get:function(){return Ct}}]),e}(),pt.fn[gt]=Rt._jQueryInterface,pt.fn[gt].Constructor=Rt,pt.fn[gt].noConflict=function(){return pt.fn[gt]=vt,Rt._jQueryInterface},Rt),ji=(Pt="."+(Ot="bs.popover"),Ht=(Dt=t).fn[Mt="popover"],jt="bs-popover",Bt=new RegExp("(^|\\s)"+jt+"\\S+","g"),Ft=o({},Hi.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Wt=o({},Hi.DefaultType,{content:"(string|element|function)"}),qt=".popover-header",Ut=".popover-body",zt={HIDE:"hide"+Pt,HIDDEN:"hidden"+Pt,SHOW:"show"+Pt,SHOWN:"shown"+Pt,INSERTED:"inserted"+Pt,CLICK:"click"+Pt,FOCUSIN:"focusin"+Pt,FOCUSOUT:"focusout"+Pt,MOUSEENTER:"mouseenter"+Pt,MOUSELEAVE:"mouseleave"+Pt},Vt=function(e){var t,i;function n(){return e.apply(this,arguments)||this}i=e,(t=n).prototype=Object.create(i.prototype),(t.prototype.constructor=t).__proto__=i;var o=n.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(e){Dt(this.getTipElement()).addClass(jt+"-"+e)},o.getTipElement=function(){return this.tip=this.tip||Dt(this.config.template)[0],this.tip},o.setContent=function(){var e=Dt(this.getTipElement());this.setElementContent(e.find(qt),this.getTitle());var t=this._getContent();"function"==typeof t&&(t=t.call(this.element)),this.setElementContent(e.find(Ut),t),e.removeClass("fade show")},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var e=Dt(this.getTipElement()),t=e.attr("class").match(Bt);null!==t&&0<t.length&&e.removeClass(t.join(""))},n._jQueryInterface=function(e){return this.each(function(){var t=Dt(this).data(Ot),i="object"==typeof e?e:null;if((t||!/destroy|hide/.test(e))&&(t||(t=new n(this,i),Dt(this).data(Ot,t)),"string"==typeof e)){if("undefined"==typeof t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},r(n,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Ft}},{key:"NAME",get:function(){return Mt}},{key:"DATA_KEY",get:function(){return Ot}},{key:"Event",get:function(){return zt}},{key:"EVENT_KEY",get:function(){return Pt}},{key:"DefaultType",get:function(){return Wt}}]),n}(Hi),Dt.fn[Mt]=Vt._jQueryInterface,Dt.fn[Mt].Constructor=Vt,Dt.fn[Mt].noConflict=function(){return Dt.fn[Mt]=Ht,Vt._jQueryInterface},Vt),Bi=($t="."+(Xt="bs.scrollspy"),Gt=(Yt=t).fn[Kt="scrollspy"],Qt={offset:10,method:"auto",target:""},Zt={offset:"number",method:"string",target:"(string|element)"},Jt={ACTIVATE:"activate"+$t,SCROLL:"scroll"+$t,LOAD_DATA_API:"load"+$t+".data-api"},ei="dropdown-item",ti="active",ii='[data-spy="scroll"]',ni=".active",ri=".nav, .list-group",oi=".nav-link",si=".nav-item",ai=".list-group-item",li=".dropdown",hi=".dropdown-item",ci=".dropdown-toggle",ui="position",di=function(){function e(e,t){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(t),this._selector=this._config.target+" "+oi+","+this._config.target+" "+ai+","+this._config.target+" "+hi,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,Yt(this._scrollElement).on(Jt.SCROLL,function(e){return i._process(e)}),this.refresh(),this._process()}var t=e.prototype;return t.refresh=function(){var e=this,t="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":ui:this._config.method,i=t===ui?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(e){var n,r=Ii.getSelectorFromElement(e);if(r&&(n=document.querySelector(r)),n){var o=n.getBoundingClientRect();if(o.width||o.height)return[Yt(n)[t]().top+i,r]}return null}).filter(function(e){return e}).sort(function(e,t){return e[0]-t[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},t.dispose=function(){Yt.removeData(this._element,Xt),Yt(this._scrollElement).off($t),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(e){if("string"!=typeof(e=o({},Qt,"object"==typeof e&&e?e:{})).target){var t=Yt(e.target).attr("id");t||(t=Ii.getUID(Kt),Yt(e.target).attr("id",t)),e.target="#"+t}return Ii.typeCheckConfig(Kt,e,Zt),e},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),i=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),i<=e){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&e<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&("undefined"==typeof this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",");t=t.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var i=Yt([].slice.call(document.querySelectorAll(t.join(","))));i.hasClass(ei)?(i.closest(li).find(ci).addClass(ti),i.addClass(ti)):(i.addClass(ti),i.parents(ri).prev(oi+", "+ai).addClass(ti),i.parents(ri).prev(si).children(oi).addClass(ti)),Yt(this._scrollElement).trigger(Jt.ACTIVATE,{relatedTarget:e})},t._clear=function(){var e=[].slice.call(document.querySelectorAll(this._selector));Yt(e).filter(ni).removeClass(ti)},e._jQueryInterface=function(t){return this.each(function(){var i=Yt(this).data(Xt);if(i||(i=new e(this,"object"==typeof t&&t),Yt(this).data(Xt,i)),"string"==typeof t){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}},{key:"Default",get:function(){return Qt}}]),e}(),Yt(window).on(Jt.LOAD_DATA_API,function(){for(var e=[].slice.call(document.querySelectorAll(ii)),t=e.length;t--;){var i=Yt(e[t]);di._jQueryInterface.call(i,i.data())}}),Yt.fn[Kt]=di._jQueryInterface,Yt.fn[Kt].Constructor=di,Yt.fn[Kt].noConflict=function(){return Yt.fn[Kt]=Gt,di._jQueryInterface},di),Fi=(gi="."+(pi="bs.tab"),mi=(fi=t).fn.tab,_i={HIDE:"hide"+gi,HIDDEN:"hidden"+gi,SHOW:"show"+gi,SHOWN:"shown"+gi,CLICK_DATA_API:"click"+gi+".data-api"},vi="dropdown-menu",yi="active",bi="disabled",Ci="show",wi=".dropdown",Ei=".nav, .list-group",Si=".active",Ti="> li > .active",xi='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',ki=".dropdown-toggle",Ni="> .dropdown-menu .active",Ai=function(){function e(e){this._element=e}var t=e.prototype;return t.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&fi(this._element).hasClass(yi)||fi(this._element).hasClass(bi))){var t,i,n=fi(this._element).closest(Ei)[0],r=Ii.getSelectorFromElement(this._element);if(n){var o="UL"===n.nodeName?Ti:Si;i=(i=fi.makeArray(fi(n).find(o)))[i.length-1]}var s=fi.Event(_i.HIDE,{relatedTarget:this._element}),a=fi.Event(_i.SHOW,{relatedTarget:i});if(i&&fi(i).trigger(s),fi(this._element).trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(t=document.querySelector(r)),this._activate(this._element,n);var l=function(){var t=fi.Event(_i.HIDDEN,{relatedTarget:e._element}),n=fi.Event(_i.SHOWN,{relatedTarget:i});fi(i).trigger(t),fi(e._element).trigger(n)};t?this._activate(t,t.parentNode,l):l()}}},t.dispose=function(){fi.removeData(this._element,pi),this._element=null},t._activate=function(e,t,i){var n=this,r=("UL"===t.nodeName?fi(t).find(Ti):fi(t).children(Si))[0],o=i&&r&&fi(r).hasClass("fade"),s=function(){return n._transitionComplete(e,r,i)};if(r&&o){var a=Ii.getTransitionDurationFromElement(r);fi(r).one(Ii.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},t._transitionComplete=function(e,t,i){if(t){fi(t).removeClass(Ci+" "+yi);var n=fi(t.parentNode).find(Ni)[0];n&&fi(n).removeClass(yi),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1)}if(fi(e).addClass(yi),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),Ii.reflow(e),fi(e).addClass(Ci),e.parentNode&&fi(e.parentNode).hasClass(vi)){var r=fi(e).closest(wi)[0];if(r){var o=[].slice.call(r.querySelectorAll(ki));fi(o).addClass(yi)}e.setAttribute("aria-expanded",!0)}i&&i()},e._jQueryInterface=function(t){return this.each(function(){var i=fi(this),n=i.data(pi);if(n||(n=new e(this),i.data(pi,n)),"string"==typeof t){if("undefined"==typeof n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(e,null,[{key:"VERSION",get:function(){return"4.1.3"}}]),e}(),fi(document).on(_i.CLICK_DATA_API,xi,function(e){e.preventDefault(),Ai._jQueryInterface.call(fi(this),"show")}),fi.fn.tab=Ai._jQueryInterface,fi.fn.tab.Constructor=Ai,fi.fn.tab.noConflict=function(){return fi.fn.tab=mi,Ai._jQueryInterface},Ai);!function(e){if("undefined"==typeof e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(t),e.Util=Ii,e.Alert=Li,e.Button=Ri,e.Carousel=Di,e.Collapse=Mi,e.Dropdown=Oi,e.Modal=Pi,e.Popover=ji,e.Scrollspy=Bi,e.Tab=Fi,e.Tooltip=Hi,Object.defineProperty(e,"__esModule",{value:!0})}),$(document).ready(function(){function e(){var e=$("body > #wrapper").height()-61;$(".sidebar-panel").css("min-height",e+"px");var t=$("nav.navbar-default").height(),i=$("#page-wrapper").height();t>i&&$("#page-wrapper").css("min-height",t+"px"),t<i&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&(t>i?$("#page-wrapper").css("min-height",t+"px"):$("#page-wrapper").css("min-height",$(window).height()-60+"px"))}$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small"),$("#side-menu").metisMenu(),$(".collapse-link").on("click",function(){var e=$(this).closest("div.ibox"),t=$(this).find("i");e.children(".ibox-content").slideToggle(200),t.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout(function(){e.resize(),e.find("[id^=map-]").resize()},50)}),$(".close-link").on("click",function(){$(this).closest("div.ibox").remove()}),$(".fullscreen-link").on("click",function(){var e=$(this).closest("div.ibox"),t=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),t.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout(function(){$(window).trigger("resize")},100)}),$(".close-canvas-menu").on("click",function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$("body.canvas-menu .sidebar-collapse").slimScroll({height:"100%",railOpacity:.9}),$(".right-sidebar-toggle").on("click",function(){$("#right-sidebar").toggleClass("sidebar-open")}),$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10}),$(".open-small-chat").on("click",function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")}),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4}),$(".check-link").on("click",function(){var e=$(this).find("i"),t=$(this).next("span");return e.toggleClass("fa-check-square").toggleClass("fa-square-o"),t.toggleClass("todo-completed"),!1}),$(".navbar-minimalize").on("click",function(e){e.preventDefault(),$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),e(),$(window).bind("load",function(){$("body").hasClass("fixed-sidebar")&&$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})}),$(window).scroll(function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")}),$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||e()}),$("[data-toggle=popover]").popover(),$(".full-height-scroll").slimscroll({height:"100%"})}),$(window).bind("resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")}),$(document).ready(function(){if(localStorageSupport()){var e=localStorage.getItem("collapse_menu"),t=localStorage.getItem("fixedsidebar"),i=localStorage.getItem("fixednavbar"),n=localStorage.getItem("boxedlayout"),r=localStorage.getItem("fixedfooter"),o=$("body");"on"==t&&(o.addClass("fixed-sidebar"),$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})),"on"==e&&(o.hasClass("fixed-sidebar"),o.hasClass("body-small")||o.addClass("mini-navbar")),"on"==i&&($(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top"),o.addClass("fixed-nav")),"on"==n&&o.addClass("boxed-layout"),"on"==r&&$(".footer").addClass("fixed")}}),function(e){e.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function r(t){if(h){var i=0;(t=t||window.event).wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(v.parent())&&o(i,!0),t.preventDefault&&!_&&t.preventDefault(),_||(t.returnValue=!1)}}function o(e,t,i){_=!1;var r=e,o=v.outerHeight()-b.outerHeight();t&&(r=parseInt(b.css("top"))+e*parseInt(n.wheelStep)/100*b.outerHeight(),r=Math.min(Math.max(r,0),o),r=0<e?Math.ceil(r):Math.floor(r),b.css({top:r+"px"})),r=(g=parseInt(b.css("top"))/(v.outerHeight()-b.outerHeight()))*(v[0].scrollHeight-v.outerHeight()),i&&(e=(r=e)/v[0].scrollHeight*v.outerHeight(),e=Math.min(Math.max(e,0),o),b.css({top:e+"px"})),v.scrollTop(r),v.trigger("slimscrolling",~~r),a(),l()}function s(){p=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),30),b.css({height:p+"px"});var e=p==v.outerHeight()?"none":"block";b.css({display:e})}function a(){s(),clearTimeout(d),g==~~g?(_=n.allowPageScroll,m!=g&&v.trigger("slimscroll",0==~~g?"top":"bottom")):_=!1,m=g,p>=v.outerHeight()?_=!0:(b.stop(!0,!0).fadeIn("fast"),n.railVisible&&C.stop(!0,!0).fadeIn("fast"))}function l(){n.alwaysVisible||(d=setTimeout(function(){n.disableFadeOut&&h||c||u||(b.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var h,c,u,d,f,p,g,m,_=!1,v=e(this);if(v.parent().hasClass(n.wrapperClass)){var y=v.scrollTop(),b=v.closest("."+n.barClass),C=v.closest("."+n.railClass);if(s(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){v.parent().css("height","auto"),v.css("height","auto");var w=v.parent().parent().height();v.parent().css("height",w),v.css("height",w)}if("scrollTo"in i)y=parseInt(n.scrollTo);else if("scrollBy"in i)y+=parseInt(n.scrollBy);else if("destroy"in i)return b.remove(),C.remove(),void v.unwrap();o(y,!1,!0)}}else e.isPlainObject(i)&&"destroy"in i||(n.height="auto"==n.height?v.parent().height():n.height,y=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),v.css({overflow:"hidden",width:n.width,height:n.height}),C=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),b=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),C.css(w="right"==n.position?{right:n.distance}:{left:n.distance}),b.css(w),v.wrap(y),v.parent().append(b),v.parent().append(C),n.railDraggable&&b.bind("mousedown",function(i){var n=e(document);return u=!0,t=parseFloat(b.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,b.css("top",currTop),o(0,b.position().top,!1)}),n.bind("mouseup.slimscroll",function(e){u=!1,l(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),C.hover(function(){a()},function(){l()}),b.hover(function(){c=!0},function(){c=!1}),v.hover(function(){h=!0,a(),l()},function(){h=!1,l()}),v.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(f=e.originalEvent.touches[0].pageY)}),v.bind("touchmove",function(e){_||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(o((f-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),f=e.originalEvent.touches[0].pageY)}),s(),"bottom"===n.start?(b.css({top:v.outerHeight()-b.outerHeight()}),o(0,!0)):"top"!==n.start&&(o(e(n.start).position().top,null,!0),n.alwaysVisible||b.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",r,!1),this.addEventListener("mousewheel",r,!1)):document.attachEvent("onmousewheel",r))}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Terminal=e()}(function(){return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return r(t[s][1][e]||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=e("./Strings"),o=e("./shared/utils/Browser"),s=e("./utils/RenderDebouncer"),a=e("./utils/Dom");!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom"}(n||(n={}));var l=function(){function e(e){var t=this;this._terminal=e,this._liveRegionLineCount=0,this._disposables=[],this._charsToConsume=[],this._accessibilityTreeRoot=document.createElement("div"),this._accessibilityTreeRoot.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(var i=0;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);this._topBoundaryFocusListener=function(e){return t._onBoundaryFocus(e,n.Top)},this._bottomBoundaryFocusListener=function(e){return t._onBoundaryFocus(e,n.Bottom)},this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityTreeRoot.appendChild(this._rowContainer),this._renderRowsDebouncer=new s.RenderDebouncer(this._terminal,this._renderRows.bind(this)),this._refreshRows(),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityTreeRoot.appendChild(this._liveRegion),this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityTreeRoot),this._disposables.push(this._renderRowsDebouncer),this._disposables.push(this._terminal.addDisposableListener("resize",function(e){return t._onResize(e.cols,e.rows)})),this._disposables.push(this._terminal.addDisposableListener("refresh",function(e){return t._refreshRows(e.start,e.end)})),this._disposables.push(this._terminal.addDisposableListener("scroll",function(e){return t._refreshRows()})),this._disposables.push(this._terminal.addDisposableListener("a11y.char",function(e){return t._onChar(e)})),this._disposables.push(this._terminal.addDisposableListener("linefeed",function(){return t._onChar("\n")})),this._disposables.push(this._terminal.addDisposableListener("a11y.tab",function(e){return t._onTab(e)})),this._disposables.push(this._terminal.addDisposableListener("key",function(e){return t._onKey(e)})),this._disposables.push(this._terminal.addDisposableListener("blur",function(){return t._clearLiveRegion()})),this._disposables.push(this._terminal.addDisposableListener("dprchange",function(){return t._refreshRowsDimensions()})),this._disposables.push(this._terminal.renderer.addDisposableListener("resize",function(){return t._refreshRowsDimensions()})),this._disposables.push(a.addDisposableListener(window,"resize",function(){return t._refreshRowsDimensions()}))}return e.prototype.dispose=function(){this._disposables.forEach(function(e){return e.dispose()}),this._disposables.length=0,this._terminal.element.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},e.prototype._onBoundaryFocus=function(e,t){var i=e.target,r=this._rowElements[t===n.Top?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")!==(t===n.Top?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===r){var o,s;if(t===n.Top?(o=i,s=this._rowElements.pop(),this._rowContainer.removeChild(s)):(o=this._rowElements.shift(),s=i,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),s.removeEventListener("focus",this._bottomBoundaryFocusListener),t===n.Top){var a=this._createAccessibilityTreeNode();this._rowElements.unshift(a),this._rowContainer.insertAdjacentElement("afterbegin",a)}else a=this._createAccessibilityTreeNode(),this._rowElements.push(a),this._rowContainer.appendChild(a);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(t===n.Top?-1:1),this._rowElements[t===n.Top?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},e.prototype._onResize=function(e,t){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var i=this._rowContainer.children.length;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},e.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},e.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},e.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&this._announceCharacter(e):this._announceCharacter(e),"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=r.tooMuchOutput)),o.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)},0))},e.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,o.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},e.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},e.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t)},e.prototype._renderRows=function(e,t){for(var i=this._terminal.buffer,n=i.lines.length.toString(),o=e;o<=t;o++){var s=i.translateBufferLineToString(i.ydisp+o,!0),a=(i.ydisp+o+1).toString(),l=this._rowElements[o];l.textContent=0===s.length?r.blankLine:s,l.setAttribute("aria-posinset",a),l.setAttribute("aria-setsize",n)}},e.prototype._refreshRowsDimensions=function(){if(this._terminal.renderer.dimensions.actualCellHeight)for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])},e.prototype._refreshRowDimensions=function(e){e.style.height=this._terminal.renderer.dimensions.actualCellHeight+"px"},e.prototype._announceCharacter=function(e){" "===e?this._liveRegion.innerHTML+="&nbsp;":this._liveRegion.textContent+=e},e}();i.AccessibilityManager=l},{"./Strings":15,"./shared/utils/Browser":36,"./utils/Dom":40,"./utils/RenderDebouncer":42}],2:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils/CircularList"),s=e("./EventEmitter");i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.MAX_BUFFER_SIZE=4294967295;var a=function(){function e(e,t){this._terminal=e,this._hasScrollback=t,this.markers=[],this.clear()}return Object.defineProperty(e.prototype,"lines",{get:function(){return this._lines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._terminal.rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._terminal.rows},enumerable:!0,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var t=e+this._terminal.options.scrollback;return t>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:t},e.prototype.fillViewportRows=function(){if(0===this._lines.length)for(var e=this._terminal.rows;e--;)this.lines.push(this._terminal.blankLine())},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this._lines=new o.CircularList(this._getCorrectBufferLength(this._terminal.rows)),this.scrollTop=0,this.scrollBottom=this._terminal.rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var i=this._getCorrectBufferLength(t);if(i>this._lines.maxLength&&(this._lines.maxLength=i),this._lines.length>0){if(this._terminal.cols<e)for(var n=[this._terminal.defAttr," ",1,32],r=0;r<this._lines.length;r++)for(;this._lines.get(r).length<e;)this._lines.get(r).push(n);var o=0;if(this._terminal.rows<t)for(var s=this._terminal.rows;s<t;s++)this._lines.length<t+this.ybase&&(this.ybase>0&&this._lines.length<=this.ybase+this.y+o+1?(this.ybase--,o++,this.ydisp>0&&this.ydisp--):this._lines.push(this._terminal.blankLine(void 0,void 0,e)));else for(s=this._terminal.rows;s>t;s--)this._lines.length>t+this.ybase&&(this._lines.length>this.ybase+this.y+1?this._lines.pop():(this.ybase++,this.ydisp++));if(i<this._lines.maxLength){var a=this._lines.length-i;a>0&&(this._lines.trimStart(a),this.ybase=Math.max(this.ybase-a,0),this.ydisp=Math.max(this.ydisp-a,0)),this._lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),o&&(this.y+=o),this.savedY=Math.min(this.savedY,t-1),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}this.scrollBottom=t-1},e.prototype.translateBufferLineToString=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=null);var o="",s=this.lines.get(e);if(!s)return"";var a=n;null===r&&(r=s.length);for(var l=r,h=0;h<s.length;h++){var c=s[h];o+=c[i.CHAR_DATA_CHAR_INDEX],0===c[i.CHAR_DATA_WIDTH_INDEX]?(n>=h&&a--,r>=h&&l--):c[i.CHAR_DATA_CHAR_INDEX].length>1&&(n>h&&(a+=c[i.CHAR_DATA_CHAR_INDEX].length-1),r>h&&(l+=c[i.CHAR_DATA_CHAR_INDEX].length-1))}if(t){var u=o.search(/\s+$/);if(-1!==u&&(l=Math.min(l,u)),l<=a)return""}return o.substring(a,l)},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._terminal.cols;e+=this._terminal.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._terminal.cols?this._terminal.cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._terminal.cols;);return e>=this._terminal.cols?this._terminal.cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,i=new l(e);return this.markers.push(i),i.disposables.push(this._lines.addDisposableListener("trim",function(e){i.line-=e,i.line<0&&i.dispose()})),i.on("dispose",function(){return t._removeMarker(i)}),i},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e}();i.Buffer=a;var l=function(e){function t(i){var n=e.call(this)||this;return n.line=i,n._id=t.NEXT_ID++,n.isDisposed=!1,n.disposables=[],n}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.disposables.forEach(function(e){return e.dispose()}),this.disposables.length=0,this.emit("dispose"))},t.NEXT_ID=1,t}(s.EventEmitter);i.Marker=l},{"./EventEmitter":8,"./utils/CircularList":38}],3:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Buffer"),s=function(e){function t(t){var i=e.call(this)||this;return i._terminal=t,i._normal=new o.Buffer(i._terminal,!0),i._normal.fillViewportRows(),i._alt=new o.Buffer(i._terminal,!1),i._activeBuffer=i._normal,i.setupTabStops(),i}return r(t,e),Object.defineProperty(t.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),t.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._alt.clear(),this._activeBuffer=this._normal,this.emit("activate",{activeBuffer:this._normal,inactiveBuffer:this._alt}))},t.prototype.activateAltBuffer=function(){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(),this._activeBuffer=this._alt,this.emit("activate",{activeBuffer:this._alt,inactiveBuffer:this._normal}))},t.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},t.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},t}(e("./EventEmitter").EventEmitter);i.BufferSet=s},{"./Buffer":2,"./EventEmitter":8}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.wcwidth=function(e){var t=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],i=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];function n(e,t){var i,n=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=n;)if(e>t[i=n+r>>1][1])n=i+1;else{if(!(e<t[i][0]))return!0;r=i-1}return!1}var r=0|e.control,o=null;return function(s){if((s|=0)<32)return 0|r;if(s<127)return 1;var a,l=o||function(){var i;o="undefined"==typeof Uint32Array?new Array(4096):new Uint32Array(4096);for(var r=0;r<4096;++r){for(var s=0,a=16;a--;)s=s<<2|(0===(i=16*r+a)?e.nul:i<32||i>=127&&i<160?e.control:n(i,t)?0:function(e){return e>=4352&&(e<=4447||9001===e||9002===e||e>=11904&&e<=42191&&12351!==e||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510)}(i)?2:1);o[r]=s}return o}();return s<65536?l[s>>4]>>((15&s)<<1)&3:n(a=s,i)?0:a>=131072&&a<=196605||a>=196608&&a<=262141?2:1}}({nul:0,control:0})},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\t",c:"\f",d:"\r",e:"\n",f:"\xb0",g:"\xb1",h:"\u2424",i:"\v",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},i.CHARSETS.A={"#":"\xa3"},i.CHARSETS.B=null,i.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},i.CHARSETS.C=i.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},i.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},i.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},i.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},i.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},i.CHARSETS.E=i.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},i.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},i.CHARSETS.H=i.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},i.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t,i){this._textarea=e,this._compositionView=t,this._terminal=i,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:null,end:null}}return e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(function(){t._compositionPosition.end=t._textarea.value.length},0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),e){var i={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(function(){var e;t._isSendingComposition&&(t._isSendingComposition=!1,e=t._isComposing?t._textarea.value.substring(i.start,i.end):t._textarea.value.substring(i.start),t._terminal.handler(e))},0)}else{this._isSendingComposition=!1;var n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._terminal.handler(n)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout(function(){if(!e._isComposing){var i=e._textarea.value.replace(t,"");i.length>0&&e._terminal.handler(i)}},0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._terminal.buffer.isCursorInViewport){var i=Math.ceil(this._terminal.charMeasure.height*this._terminal.options.lineHeight),n=this._terminal.buffer.y*i,r=this._terminal.buffer.x*this._terminal.charMeasure.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=n+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout(function(){return t.updateCompositionElements(!0)},0)}},e.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},e}();i.CompositionHelper=n},{}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.NUL="\0",e.SOH="\x01",e.STX="\x02",e.ETX="\x03",e.EOT="\x04",e.ENQ="\x05",e.ACK="\x06",e.BEL="\x07",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="\x0e",e.SI="\x0f",e.DLE="\x10",e.DC1="\x11",e.DC2="\x12",e.DC3="\x13",e.DC4="\x14",e.NAK="\x15",e.SYN="\x16",e.ETB="\x17",e.CAN="\x18",e.EM="\x19",e.SUB="\x1a",e.ESC="\x1b",e.FS="\x1c",e.GS="\x1d",e.RS="\x1e",e.US="\x1f",e.SP=" ",e.DEL="\x7f"}(i.C0||(i.C0={}))},{}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){this._events=this._events||{}}return e.prototype.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},e.prototype.addDisposableListener=function(e,t){var i=this;return this.on(e,t),{dispose:function(){t&&(i.off(e,t),t=null)}}},e.prototype.off=function(e,t){if(this._events[e])for(var i=this._events[e],n=i.length;n--;)if(i[n]===t)return void i.splice(n,1)},e.prototype.removeAllListeners=function(e){this._events[e]&&delete this._events[e]},e.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(this._events[e])for(var n=this._events[e],r=0;r<n.length;r++)n[r].apply(this,t)},e.prototype.listeners=function(e){return this._events[e]||[]},e.prototype.destroy=function(){this._events={}},e}();i.EventEmitter=n},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./EscapeSequences"),r=e("./Charsets"),o=e("./Buffer"),s=e("./renderer/Types"),a=e("./CharWidth"),l=function(){function e(e){this._terminal=e}return e.prototype.addChar=function(e,t){if(e>=" "){var i=a.wcwidth(t);this._terminal.charset&&this._terminal.charset[e]&&(e=this._terminal.charset[e]),this._terminal.options.screenReaderMode&&this._terminal.emit("a11y.char",e);var n=this._terminal.buffer.y+this._terminal.buffer.ybase;if(!i&&this._terminal.buffer.x)return void(this._terminal.buffer.lines.get(n)[this._terminal.buffer.x-1]&&(this._terminal.buffer.lines.get(n)[this._terminal.buffer.x-1][o.CHAR_DATA_WIDTH_INDEX]?(this._terminal.buffer.lines.get(n)[this._terminal.buffer.x-1][o.CHAR_DATA_CHAR_INDEX]+=e,this._terminal.buffer.lines.get(n)[this._terminal.buffer.x-1][3]=e.charCodeAt(0)):this._terminal.buffer.lines.get(n)[this._terminal.buffer.x-2]&&(this._terminal.buffer.lines.get(n)[this._terminal.buffer.x-2][o.CHAR_DATA_CHAR_INDEX]+=e,this._terminal.buffer.lines.get(n)[this._terminal.buffer.x-2][3]=e.charCodeAt(0)),this._terminal.updateRange(this._terminal.buffer.y)));if(this._terminal.buffer.x+i-1>=this._terminal.cols)if(this._terminal.wraparoundMode)this._terminal.buffer.x=0,this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom?(this._terminal.buffer.y--,this._terminal.scroll(!0)):this._terminal.buffer.lines.get(this._terminal.buffer.y).isWrapped=!0;else if(2===i)return;if(n=this._terminal.buffer.y+this._terminal.buffer.ybase,this._terminal.insertMode)for(var r=0;r<i;++r)0===this._terminal.buffer.lines.get(this._terminal.buffer.y+this._terminal.buffer.ybase).pop()[o.CHAR_DATA_WIDTH_INDEX]&&this._terminal.buffer.lines.get(n)[this._terminal.cols-2]&&2===this._terminal.buffer.lines.get(n)[this._terminal.cols-2][o.CHAR_DATA_WIDTH_INDEX]&&(this._terminal.buffer.lines.get(n)[this._terminal.cols-2]=[this._terminal.curAttr," ",1," ".charCodeAt(0)]),this._terminal.buffer.lines.get(n).splice(this._terminal.buffer.x,0,[this._terminal.curAttr," ",1," ".charCodeAt(0)]);this._terminal.buffer.lines.get(n)[this._terminal.buffer.x]=[this._terminal.curAttr,e,i,e.charCodeAt(0)],this._terminal.buffer.x++,this._terminal.updateRange(this._terminal.buffer.y),2===i&&(this._terminal.buffer.lines.get(n)[this._terminal.buffer.x]=[this._terminal.curAttr,"",0,void 0],this._terminal.buffer.x++)}},e.prototype.bell=function(){this._terminal.bell()},e.prototype.lineFeed=function(){this._terminal.convertEol&&(this._terminal.buffer.x=0),this._terminal.buffer.y++,this._terminal.buffer.y>this._terminal.buffer.scrollBottom&&(this._terminal.buffer.y--,this._terminal.scroll()),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.emit("linefeed")},e.prototype.carriageReturn=function(){this._terminal.buffer.x=0},e.prototype.backspace=function(){this._terminal.buffer.x>0&&this._terminal.buffer.x--},e.prototype.tab=function(){var e=this._terminal.buffer.x;this._terminal.buffer.x=this._terminal.buffer.nextStop(),this._terminal.options.screenReaderMode&&this._terminal.emit("a11y.tab",this._terminal.buffer.x-e)},e.prototype.shiftOut=function(){this._terminal.setgLevel(1)},e.prototype.shiftIn=function(){this._terminal.setgLevel(0)},e.prototype.insertChars=function(e){var t=e[0];t<1&&(t=1);for(var i=this._terminal.buffer.y+this._terminal.buffer.ybase,n=this._terminal.buffer.x,r=[this._terminal.eraseAttr()," ",1,32];t--&&n<this._terminal.cols;)this._terminal.buffer.lines.get(i).splice(n++,0,r),this._terminal.buffer.lines.get(i).pop()},e.prototype.cursorUp=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y-=t,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0)},e.prototype.cursorDown=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.cursorForward=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x+=t,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.cursorBackward=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--,this._terminal.buffer.x-=t,this._terminal.buffer.x<0&&(this._terminal.buffer.x=0)},e.prototype.cursorNextLine=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=0},e.prototype.cursorPrecedingLine=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y-=t,this._terminal.buffer.y<0&&(this._terminal.buffer.y=0),this._terminal.buffer.x=0},e.prototype.cursorCharAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x=t-1},e.prototype.cursorPosition=function(e){var t,i=e[0]-1;t=e.length>=2?e[1]-1:0,i<0?i=0:i>=this._terminal.rows&&(i=this._terminal.rows-1),t<0?t=0:t>=this._terminal.cols&&(t=this._terminal.cols-1),this._terminal.buffer.x=t,this._terminal.buffer.y=i},e.prototype.cursorForwardTab=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.x=this._terminal.buffer.nextStop()},e.prototype.eraseInDisplay=function(e){var t;switch(e[0]){case 0:for(this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y),t=this._terminal.buffer.y+1;t<this._terminal.rows;t++)this._terminal.eraseLine(t);break;case 1:for(this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y),t=this._terminal.buffer.y;t--;)this._terminal.eraseLine(t);break;case 2:for(t=this._terminal.rows;t--;)this._terminal.eraseLine(t);break;case 3:var i=this._terminal.buffer.lines.length-this._terminal.rows;i>0&&(this._terminal.buffer.lines.trimStart(i),this._terminal.buffer.ybase=Math.max(this._terminal.buffer.ybase-i,0),this._terminal.buffer.ydisp=Math.max(this._terminal.buffer.ydisp-i,0),this._terminal.emit("scroll",0))}},e.prototype.eraseInLine=function(e){switch(e[0]){case 0:this._terminal.eraseRight(this._terminal.buffer.x,this._terminal.buffer.y);break;case 1:this._terminal.eraseLeft(this._terminal.buffer.x,this._terminal.buffer.y);break;case 2:this._terminal.eraseLine(this._terminal.buffer.y)}},e.prototype.insertLines=function(e){var t=e[0];t<1&&(t=1);for(var i=this._terminal.buffer.y+this._terminal.buffer.ybase,n=this._terminal.rows-1+this._terminal.buffer.ybase-(this._terminal.rows-1-this._terminal.buffer.scrollBottom)+1;t--;)this._terminal.buffer.lines.splice(n-1,1),this._terminal.buffer.lines.splice(i,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.deleteLines=function(e){var t=e[0];t<1&&(t=1);var i,n=this._terminal.buffer.y+this._terminal.buffer.ybase;for(i=this._terminal.rows-1+this._terminal.buffer.ybase-(i=this._terminal.rows-1-this._terminal.buffer.scrollBottom);t--;)this._terminal.buffer.lines.splice(n,1),this._terminal.buffer.lines.splice(i,0,this._terminal.blankLine(!0));this._terminal.updateRange(this._terminal.buffer.y),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.deleteChars=function(e){var t=e[0];t<1&&(t=1);for(var i=this._terminal.buffer.y+this._terminal.buffer.ybase,n=[this._terminal.eraseAttr()," ",1,32];t--;)this._terminal.buffer.lines.get(i).splice(this._terminal.buffer.x,1),this._terminal.buffer.lines.get(i).push(n);this._terminal.updateRange(this._terminal.buffer.y)},e.prototype.scrollUp=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.scrollDown=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollBottom,1),this._terminal.buffer.lines.splice(this._terminal.buffer.ybase+this._terminal.buffer.scrollTop,0,this._terminal.blankLine());this._terminal.updateRange(this._terminal.buffer.scrollTop),this._terminal.updateRange(this._terminal.buffer.scrollBottom)},e.prototype.eraseChars=function(e){var t=e[0];t<1&&(t=1);for(var i=this._terminal.buffer.y+this._terminal.buffer.ybase,n=this._terminal.buffer.x,r=[this._terminal.eraseAttr()," ",1,32];t--&&n<this._terminal.cols;)this._terminal.buffer.lines.get(i)[n++]=r},e.prototype.cursorBackwardTab=function(e){for(var t=e[0]||1;t--;)this._terminal.buffer.x=this._terminal.buffer.prevStop()},e.prototype.charPosAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x=t-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.HPositionRelative=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.x+=t,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.repeatPrecedingCharacter=function(e){for(var t=e[0]||1,i=this._terminal.buffer.lines.get(this._terminal.buffer.ybase+this._terminal.buffer.y),n=i[this._terminal.buffer.x-1]||[this._terminal.defAttr," ",1,32];t--;)i[this._terminal.buffer.x++]=n},e.prototype.sendDeviceAttributes=function(e){e[0]>0||(this._terminal.prefix?">"===this._terminal.prefix&&(this._terminal.is("xterm")?this._terminal.send(n.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._terminal.send(n.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._terminal.send(e[0]+"c"):this._terminal.is("screen")&&this._terminal.send(n.C0.ESC+"[>83;40003;0c")):this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._terminal.send(n.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._terminal.send(n.C0.ESC+"[?6c"))},e.prototype.linePosAbsolute=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y=t-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1)},e.prototype.VPositionRelative=function(e){var t=e[0];t<1&&(t=1),this._terminal.buffer.y+=t,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x>=this._terminal.cols&&this._terminal.buffer.x--},e.prototype.HVPosition=function(e){e[0]<1&&(e[0]=1),e[1]<1&&(e[1]=1),this._terminal.buffer.y=e[0]-1,this._terminal.buffer.y>=this._terminal.rows&&(this._terminal.buffer.y=this._terminal.rows-1),this._terminal.buffer.x=e[1]-1,this._terminal.buffer.x>=this._terminal.cols&&(this._terminal.buffer.x=this._terminal.cols-1)},e.prototype.tabClear=function(e){var t=e[0];t<=0?delete this._terminal.buffer.tabs[this._terminal.buffer.x]:3===t&&(this._terminal.buffer.tabs={})},e.prototype.setMode=function(e){if(e.length>1)for(var t=0;t<e.length;t++)this.setMode([e[t]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(e[0]){case 1:this._terminal.applicationCursor=!0;break;case 2:this._terminal.setgCharset(0,r.DEFAULT_CHARSET),this._terminal.setgCharset(1,r.DEFAULT_CHARSET),this._terminal.setgCharset(2,r.DEFAULT_CHARSET),this._terminal.setgCharset(3,r.DEFAULT_CHARSET);break;case 3:this._terminal.savedCols=this._terminal.cols,this._terminal.resize(132,this._terminal.rows);break;case 6:this._terminal.originMode=!0;break;case 7:this._terminal.wraparoundMode=!0;break;case 12:break;case 66:this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=9===e[0],this._terminal.vt200Mouse=1e3===e[0],this._terminal.normalMouse=e[0]>1e3,this._terminal.mouseEvents=!0,this._terminal.element.classList.add("enable-mouse-events"),this._terminal.selectionManager.disable(),this._terminal.log("Binding to mouse events.");break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._terminal.utfMouse=!0;break;case 1006:this._terminal.sgrMouse=!0;break;case 1015:this._terminal.urxvtMouse=!0;break;case 25:this._terminal.cursorHidden=!1;break;case 1049:case 47:case 1047:this._terminal.buffers.activateAltBuffer(),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}}else switch(e[0]){case 4:this._terminal.insertMode=!0}},e.prototype.resetMode=function(e){if(e.length>1)for(var t=0;t<e.length;t++)this.resetMode([e[t]]);else if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(e[0]){case 1:this._terminal.applicationCursor=!1;break;case 3:132===this._terminal.cols&&this._terminal.savedCols&&this._terminal.resize(this._terminal.savedCols,this._terminal.rows),delete this._terminal.savedCols;break;case 6:this._terminal.originMode=!1;break;case 7:this._terminal.wraparoundMode=!1;break;case 12:break;case 66:this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._terminal.x10Mouse=!1,this._terminal.vt200Mouse=!1,this._terminal.normalMouse=!1,this._terminal.mouseEvents=!1,this._terminal.element.classList.remove("enable-mouse-events"),this._terminal.selectionManager.enable();break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._terminal.utfMouse=!1;break;case 1006:this._terminal.sgrMouse=!1;break;case 1015:this._terminal.urxvtMouse=!1;break;case 25:this._terminal.cursorHidden=!0;break;case 1049:case 47:case 1047:this._terminal.buffers.activateNormalBuffer(),this._terminal.refresh(0,this._terminal.rows-1),this._terminal.viewport.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}}else switch(e[0]){case 4:this._terminal.insertMode=!1}},e.prototype.charAttributes=function(e){if(1!==e.length||0!==e[0]){for(var t,i=e.length,n=this._terminal.curAttr>>18,r=this._terminal.curAttr>>9&511,o=511&this._terminal.curAttr,a=0;a<i;a++)(t=e[a])>=30&&t<=37?r=t-30:t>=40&&t<=47?o=t-40:t>=90&&t<=97?r=(t+=8)-90:t>=100&&t<=107?o=(t+=8)-100:0===t?(n=this._terminal.defAttr>>18,r=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):1===t?n|=s.FLAGS.BOLD:4===t?n|=s.FLAGS.UNDERLINE:5===t?n|=s.FLAGS.BLINK:7===t?n|=s.FLAGS.INVERSE:8===t?n|=s.FLAGS.INVISIBLE:2===t?n|=s.FLAGS.DIM:22===t?(n&=~s.FLAGS.BOLD,n&=~s.FLAGS.DIM):24===t?n&=~s.FLAGS.UNDERLINE:25===t?n&=~s.FLAGS.BLINK:27===t?n&=~s.FLAGS.INVERSE:28===t?n&=~s.FLAGS.INVISIBLE:39===t?r=this._terminal.defAttr>>9&511:49===t?o=511&this._terminal.defAttr:38===t?2===e[a+1]?(-1===(r=this._terminal.matchColor(255&e[a+=2],255&e[a+1],255&e[a+2]))&&(r=511),a+=2):5===e[a+1]&&(r=t=255&e[a+=2]):48===t?2===e[a+1]?(-1===(o=this._terminal.matchColor(255&e[a+=2],255&e[a+1],255&e[a+2]))&&(o=511),a+=2):5===e[a+1]&&(o=t=255&e[a+=2]):100===t?(r=this._terminal.defAttr>>9&511,o=511&this._terminal.defAttr):this._terminal.error("Unknown SGR attribute: %d.",t);this._terminal.curAttr=n<<18|r<<9|o}else this._terminal.curAttr=this._terminal.defAttr},e.prototype.deviceStatus=function(e){if(this._terminal.prefix){if("?"===this._terminal.prefix)switch(e[0]){case 6:this._terminal.send(n.C0.ESC+"[?"+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}}else switch(e[0]){case 5:this._terminal.send(n.C0.ESC+"[0n");break;case 6:this._terminal.send(n.C0.ESC+"["+(this._terminal.buffer.y+1)+";"+(this._terminal.buffer.x+1)+"R")}},e.prototype.softReset=function(e){this._terminal.cursorHidden=!1,this._terminal.insertMode=!1,this._terminal.originMode=!1,this._terminal.wraparoundMode=!0,this._terminal.applicationKeypad=!1,this._terminal.viewport.syncScrollArea(),this._terminal.applicationCursor=!1,this._terminal.buffer.scrollTop=0,this._terminal.buffer.scrollBottom=this._terminal.rows-1,this._terminal.curAttr=this._terminal.defAttr,this._terminal.buffer.x=this._terminal.buffer.y=0,this._terminal.charset=null,this._terminal.glevel=0,this._terminal.charsets=[null]},e.prototype.setCursorStyle=function(e){var t=e[0]<1?1:e[0];switch(t){case 1:case 2:this._terminal.setOption("cursorStyle","block");break;case 3:case 4:this._terminal.setOption("cursorStyle","underline");break;case 5:case 6:this._terminal.setOption("cursorStyle","bar")}this._terminal.setOption("cursorBlink",t%2==1)},e.prototype.setScrollRegion=function(e){this._terminal.prefix||(this._terminal.buffer.scrollTop=(e[0]||1)-1,this._terminal.buffer.scrollBottom=(e[1]&&e[1]<=this._terminal.rows?e[1]:this._terminal.rows)-1,this._terminal.buffer.x=0,this._terminal.buffer.y=0)},e.prototype.saveCursor=function(e){this._terminal.buffer.savedX=this._terminal.buffer.x,this._terminal.buffer.savedY=this._terminal.buffer.y},e.prototype.restoreCursor=function(e){this._terminal.buffer.x=this._terminal.buffer.savedX||0,this._terminal.buffer.y=this._terminal.buffer.savedY||0},e}();i.InputHandler=l},{"./Buffer":2,"./CharWidth":4,"./Charsets":5,"./EscapeSequences":7,"./renderer/Types":30}],10:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Types"),s=e("./input/MouseZoneManager"),a=function(e){function t(t){var i=e.call(this)||this;return i._terminal=t,i._linkMatchers=[],i._nextLinkMatcherId=0,i._rowsToLinkify={start:null,end:null},i}return r(t,e),t.prototype.attachToDom=function(e){this._mouseZoneManager=e},t.prototype.linkifyRows=function(e,i){var n=this;this._mouseZoneManager&&(null===this._rowsToLinkify.start?(this._rowsToLinkify.start=e,this._rowsToLinkify.end=i):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,e),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,i)),this._mouseZoneManager.clearAll(e,i),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout(function(){return n._linkifyRows()},t.TIME_BEFORE_LINKIFY))},t.prototype._linkifyRows=function(){this._rowsTimeoutId=null;for(var e=this._rowsToLinkify.start;e<=this._rowsToLinkify.end;e++)this._linkifyRow(e);this._rowsToLinkify.start=null,this._rowsToLinkify.end=null},t.prototype.registerLinkMatcher=function(e,t,i){if(void 0===i&&(i={}),!t)throw new Error("handler must be defined");var n={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:i.matchIndex,validationCallback:i.validationCallback,hoverTooltipCallback:i.tooltipCallback,hoverLeaveCallback:i.leaveCallback,willLinkActivate:i.willLinkActivate,priority:i.priority||0};return this._addLinkMatcherToList(n),n.id},t.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},t.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},t.prototype._linkifyRow=function(e){var t=this._terminal.buffer.ydisp+e;if(!(t>=this._terminal.buffer.lines.length)){if(this._terminal.buffer.lines.get(t).isWrapped){if(0!==e)return;do{e--,t--}while(this._terminal.buffer.lines.get(t).isWrapped)}for(var i=this._terminal.buffer.translateBufferLineToString(t,!1),n=t+1;n<this._terminal.buffer.lines.length&&this._terminal.buffer.lines.get(n).isWrapped;)i+=this._terminal.buffer.translateBufferLineToString(n++,!1);for(var r=0;r<this._linkMatchers.length;r++)this._doLinkifyRow(e,i,this._linkMatchers[r])}},t.prototype._doLinkifyRow=function(e,t,i,n){var r=this;void 0===n&&(n=0);var o=t.match(i.regex);if(o&&0!==o.length){var s=o["number"!=typeof i.matchIndex?0:i.matchIndex],a=t.indexOf(s);i.validationCallback?i.validationCallback(s,function(t){r._rowsTimeoutId||t&&r._addLink(n+a,e,s,i)}):this._addLink(n+a,e,s,i);var l=a+s.length,h=t.substr(l);h.length>0&&this._doLinkifyRow(e,h,i,n+l)}},t.prototype._addLink=function(e,t,i,n){var r=this,a=e%this._terminal.cols,l=t+Math.floor(e/this._terminal.cols),h=(a+i.length)%this._terminal.cols,c=l+Math.floor((a+i.length)/this._terminal.cols);0===h&&(h=this._terminal.cols,c--),this._mouseZoneManager.add(new s.MouseZone(a+1,l+1,h+1,c+1,function(e){if(n.handler)return n.handler(e,i);window.open(i,"_blank")},function(e){r.emit(o.LinkHoverEventTypes.HOVER,r._createLinkHoverEvent(a,l,h,c)),r._terminal.element.classList.add("xterm-cursor-pointer")},function(e){r.emit(o.LinkHoverEventTypes.TOOLTIP,r._createLinkHoverEvent(a,l,h,c)),n.hoverTooltipCallback&&n.hoverTooltipCallback(e,i)},function(){r.emit(o.LinkHoverEventTypes.LEAVE,r._createLinkHoverEvent(a,l,h,c)),r._terminal.element.classList.remove("xterm-cursor-pointer"),n.hoverLeaveCallback&&n.hoverLeaveCallback()},function(e){return!n.willLinkActivate||n.willLinkActivate(e,i)}))},t.prototype._createLinkHoverEvent=function(e,t,i,n){return{x1:e,y1:t,x2:i,y2:n,cols:this._terminal.cols}},t.TIME_BEFORE_LINKIFY=200,t}(e("./EventEmitter").EventEmitter);i.Linkifier=a},{"./EventEmitter":8,"./Types":17,"./input/MouseZoneManager":21}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./EscapeSequences"),r=e("./Charsets"),o={};o[n.C0.BEL]=function(e,t){return t.bell()},o[n.C0.LF]=function(e,t){return t.lineFeed()},o[n.C0.VT]=o[n.C0.LF],o[n.C0.FF]=o[n.C0.LF],o[n.C0.CR]=function(e,t){return t.carriageReturn()},o[n.C0.BS]=function(e,t){return t.backspace()},o[n.C0.HT]=function(e,t){return t.tab()},o[n.C0.SO]=function(e,t){return t.shiftOut()},o[n.C0.SI]=function(e,t){return t.shiftIn()},o[n.C0.ESC]=function(e,t){return e.setState(l.ESCAPED)};var s={"[":function(e,t){t.params=[],t.currentParam=0,e.setState(l.CSI_PARAM)},"]":function(e,t){t.params=[],t.currentParam=0,e.setState(l.OSC)},P:function(e,t){t.params=[],t.currentParam=0,e.setState(l.DCS)},_:function(e,t){e.setState(l.IGNORE)},"^":function(e,t){e.setState(l.IGNORE)},c:function(e,t){t.reset()},E:function(e,t){t.buffer.x=0,t.index(),e.setState(l.NORMAL)},D:function(e,t){t.index(),e.setState(l.NORMAL)},M:function(e,t){t.reverseIndex(),e.setState(l.NORMAL)},"%":function(e,t){t.setgLevel(0),t.setgCharset(0,r.DEFAULT_CHARSET),e.setState(l.NORMAL),e.skipNextChar()}};s[n.C0.CAN]=function(e){return e.setState(l.NORMAL)};var a={"?":function(e){return e.setPrefix("?")},">":function(e){return e.setPrefix(">")},"!":function(e){return e.setPrefix("!")},0:function(e){return e.setParam(10*e.getParam())},1:function(e){return e.setParam(10*e.getParam()+1)},2:function(e){return e.setParam(10*e.getParam()+2)},3:function(e){return e.setParam(10*e.getParam()+3)},4:function(e){return e.setParam(10*e.getParam()+4)},5:function(e){return e.setParam(10*e.getParam()+5)},6:function(e){return e.setParam(10*e.getParam()+6)},7:function(e){return e.setParam(10*e.getParam()+7)},8:function(e){return e.setParam(10*e.getParam()+8)},9:function(e){return e.setParam(10*e.getParam()+9)},$:function(e){return e.setPostfix("$")},'"':function(e){return e.setPostfix('"')}," ":function(e){return e.setPostfix(" ")},"'":function(e){return e.setPostfix("'")},";":function(e){return e.finalizeParam()}};a[n.C0.CAN]=function(e){return e.setState(l.NORMAL)};var l,h={"@":function(e,t,i){return e.insertChars(t)},A:function(e,t,i){return e.cursorUp(t)},B:function(e,t,i){return e.cursorDown(t)},C:function(e,t,i){return e.cursorForward(t)},D:function(e,t,i){return e.cursorBackward(t)},E:function(e,t,i){return e.cursorNextLine(t)},F:function(e,t,i){return e.cursorPrecedingLine(t)},G:function(e,t,i){return e.cursorCharAbsolute(t)},H:function(e,t,i){return e.cursorPosition(t)},I:function(e,t,i){return e.cursorForwardTab(t)},J:function(e,t,i){return e.eraseInDisplay(t)},K:function(e,t,i){return e.eraseInLine(t)},L:function(e,t,i){return e.insertLines(t)},M:function(e,t,i){return e.deleteLines(t)},P:function(e,t,i){return e.deleteChars(t)},S:function(e,t,i){return e.scrollUp(t)},T:function(e,t,i){t.length<2&&!i&&e.scrollDown(t)},X:function(e,t,i){return e.eraseChars(t)},Z:function(e,t,i){return e.cursorBackwardTab(t)},"`":function(e,t,i){return e.charPosAbsolute(t)},a:function(e,t,i){return e.HPositionRelative(t)},b:function(e,t,i){return e.repeatPrecedingCharacter(t)},c:function(e,t,i){return e.sendDeviceAttributes(t)},d:function(e,t,i){return e.linePosAbsolute(t)},e:function(e,t,i){return e.VPositionRelative(t)},f:function(e,t,i){return e.HVPosition(t)},g:function(e,t,i){return e.tabClear(t)},h:function(e,t,i){return e.setMode(t)},l:function(e,t,i){return e.resetMode(t)},m:function(e,t,i){return e.charAttributes(t)},n:function(e,t,i){return e.deviceStatus(t)},p:function(e,t,i){switch(i){case"!":e.softReset(t)}},q:function(e,t,i,n){" "===n&&e.setCursorStyle(t)},r:function(e,t){return e.setScrollRegion(t)},s:function(e,t){return e.saveCursor(t)},u:function(e,t){return e.restoreCursor(t)}};h[n.C0.CAN]=function(e,t,i,n,r){return r.setState(l.NORMAL)},function(e){e[e.NORMAL=0]="NORMAL",e[e.ESCAPED=1]="ESCAPED",e[e.CSI_PARAM=2]="CSI_PARAM",e[e.CSI=3]="CSI",e[e.OSC=4]="OSC",e[e.CHARSET=5]="CHARSET",e[e.DCS=6]="DCS",e[e.IGNORE=7]="IGNORE"}(l=i.ParserState||(i.ParserState={}));var c=function(){function e(e,t){this._inputHandler=e,this._terminal=t,this._state=l.NORMAL}return e.prototype.parse=function(e){var t,i,c,u,d=e.length,f=this._terminal.buffer.x,p=this._terminal.buffer.y;for(this._terminal.debug&&this._terminal.log("data: "+e),this._position=0,this._terminal.surrogate_high&&(e=this._terminal.surrogate_high+e,this._terminal.surrogate_high="");this._position<d;this._position++){if(i=e[this._position],55296<=(c=e.charCodeAt(this._position))&&c<=56319){if(u=e.charCodeAt(this._position+1),isNaN(u)){this._terminal.surrogate_high=i;continue}c=1024*(c-55296)+(u-56320)+65536,i+=e.charAt(this._position+1)}if(!(56320<=c&&c<=57343))switch(this._state){case l.NORMAL:i in o?o[i](this,this._inputHandler):this._inputHandler.addChar(i,c);break;case l.ESCAPED:if(i in s){s[i](this,this._terminal);break}switch(i){case"(":case")":case"*":case"+":case"-":case".":switch(i){case"(":this._terminal.gcharset=0;break;case")":this._terminal.gcharset=1;break;case"*":this._terminal.gcharset=2;break;case"+":this._terminal.gcharset=3;break;case"-":this._terminal.gcharset=1;break;case".":this._terminal.gcharset=2}this._state=l.CHARSET;break;case"/":this._terminal.gcharset=3,this._state=l.CHARSET,this._position--;break;case"N":case"O":this._state=l.NORMAL;break;case"n":this._terminal.setgLevel(2),this._state=l.NORMAL;break;case"o":case"|":this._terminal.setgLevel(3),this._state=l.NORMAL;break;case"}":this._terminal.setgLevel(2),this._state=l.NORMAL;break;case"~":this._terminal.setgLevel(1),this._state=l.NORMAL;break;case"7":this._inputHandler.saveCursor(),this._state=l.NORMAL;break;case"8":this._inputHandler.restoreCursor(),this._state=l.NORMAL;break;case"#":this._state=l.NORMAL,this._position++;break;case"H":this._terminal.tabSet(),this._state=l.NORMAL;break;case"=":this._terminal.log("Serial port requested application keypad."),this._terminal.applicationKeypad=!0,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;case">":this._terminal.log("Switching back to normal keypad."),this._terminal.applicationKeypad=!1,this._terminal.viewport&&this._terminal.viewport.syncScrollArea(),this._state=l.NORMAL;break;default:this._state=l.NORMAL,this._terminal.error("Unknown ESC control: %s.",i)}break;case l.CHARSET:i in r.CHARSETS?(t=r.CHARSETS[i],"/"===i&&this.skipNextChar()):t=r.DEFAULT_CHARSET,this._terminal.setgCharset(this._terminal.gcharset,t),this._terminal.gcharset=null,this._state=l.NORMAL;break;case l.OSC:if(i===n.C0.ESC||i===n.C0.BEL){switch(i===n.C0.ESC&&this._position++,this._terminal.params.push(this._terminal.currentParam),this._terminal.params[0]){case 0:case 1:case 2:this._terminal.params[1]&&(this._terminal.title=this._terminal.params[1],this._terminal.handleTitle(this._terminal.title))}this._terminal.params=[],this._terminal.currentParam=0,this._state=l.NORMAL}else this._terminal.params.length?this._terminal.currentParam+=i:i>="0"&&i<="9"?this._terminal.currentParam=10*this._terminal.currentParam+i.charCodeAt(0)-48:";"===i&&(this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam="");break;case l.CSI_PARAM:if(i in a){a[i](this);break}this.finalizeParam(),this._state=l.CSI;case l.CSI:i in h?(this._terminal.debug&&this._terminal.log("CSI "+(this._terminal.prefix?this._terminal.prefix:"")+" "+(this._terminal.params?this._terminal.params.join(";"):"")+" "+(this._terminal.postfix?this._terminal.postfix:"")+" "+i),h[i](this._inputHandler,this._terminal.params,this._terminal.prefix,this._terminal.postfix,this)):this._terminal.error("Unknown CSI code: %s.",i),this._state=l.NORMAL,this._terminal.prefix="",this._terminal.postfix="";break;case l.DCS:if(i===n.C0.ESC||i===n.C0.BEL){i===n.C0.ESC&&this._position++;var g=void 0,m=void 0;switch(this._terminal.prefix){case"":break;case"$q":switch(m=!1,g=this._terminal.currentParam){case'"q':g='0"q';break;case'"p':g='61"p';break;case"r":g=this._terminal.buffer.scrollTop+1+";"+(this._terminal.buffer.scrollBottom+1)+"r";break;case"m":g="0m";break;default:this._terminal.error("Unknown DCS Pt: %s.",g),g=""}this._terminal.send(n.C0.ESC+"P"+ +m+"$r"+g+n.C0.ESC+"\\");break;case"+p":break;case"+q":this._terminal.send(n.C0.ESC+"P"+ +(m=!1)+"+r"+(g=this._terminal.currentParam)+n.C0.ESC+"\\");break;default:this._terminal.error("Unknown DCS prefix: %s.",this._terminal.prefix)}this._terminal.currentParam=0,this._terminal.prefix="",this._state=l.NORMAL}else this._terminal.currentParam?this._terminal.currentParam+=i:this._terminal.prefix||"$"===i||"+"===i?2===this._terminal.prefix.length?this._terminal.currentParam=i:this._terminal.prefix+=i:this._terminal.currentParam=i;break;case l.IGNORE:i!==n.C0.ESC&&i!==n.C0.BEL||(i===n.C0.ESC&&this._position++,this._state=l.NORMAL)}}return this._terminal.buffer.x===f&&this._terminal.buffer.y===p||this._terminal.emit("cursormove"),this._state},e.prototype.setState=function(e){this._state=e},e.prototype.setPrefix=function(e){this._terminal.prefix=e},e.prototype.setPostfix=function(e){this._terminal.postfix=e},e.prototype.setParam=function(e){this._terminal.currentParam=e},e.prototype.getParam=function(){return this._terminal.currentParam},e.prototype.finalizeParam=function(){this._terminal.params.push(this._terminal.currentParam),this._terminal.currentParam=0},e.prototype.skipNextChar=function(){this._position++},e}();i.Parser=c},{"./Charsets":5,"./EscapeSequences":7}],12:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o,s=e("./utils/MouseHelper"),a=e("./shared/utils/Browser"),l=e("./EventEmitter"),h=e("./SelectionModel"),c=e("./Buffer"),u=e("./handlers/AltClickHandler"),d=String.fromCharCode(160),f=new RegExp(d,"g");!function(e){e[e.NORMAL=0]="NORMAL",e[e.WORD=1]="WORD",e[e.LINE=2]="LINE"}(o||(o={}));var p=function(e){function t(t,i){var n=e.call(this)||this;return n._terminal=t,n._charMeasure=i,n._enabled=!0,n._initListeners(),n.enable(),n._model=new h.SelectionModel(t),n._activeSelectionMode=o.NORMAL,n}return r(t,e),Object.defineProperty(t.prototype,"_buffer",{get:function(){return this._terminal.buffers.active},enumerable:!0,configurable:!0}),t.prototype._initListeners=function(){var e=this;this._mouseMoveListener=function(t){return e._onMouseMove(t)},this._mouseUpListener=function(t){return e._onMouseUp(t)},this._trimListener=function(t){return e._onTrim(t)},this.initBuffersListeners()},t.prototype.initBuffersListeners=function(){var e=this;this._terminal.buffer.lines.on("trim",this._trimListener),this._terminal.buffers.on("activate",function(t){return e._onBufferActivate(t)})},t.prototype.disable=function(){this.clearSelection(),this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},Object.defineProperty(t.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var i=[];i.push(this._buffer.translateBufferLineToString(e[1],!0,e[0],e[1]===t[1]?t[0]:null));for(var n=e[1]+1;n<=t[1]-1;n++){var r=this._buffer.lines.get(n),o=this._buffer.translateBufferLineToString(n,!0);r.isWrapped?i[i.length-1]+=o:i.push(o)}return e[1]!==t[1]&&(r=this._buffer.lines.get(t[1]),o=this._buffer.translateBufferLineToString(t[1],!0,0,t[0]),r.isWrapped?i[i.length-1]+=o:i.push(o)),i.map(function(e){return e.replace(f," ")}).join(a.isMSWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),t.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh()},t.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame(function(){return t._refresh()})),a.isLinux&&e&&this.selectionText.length&&this.emit("newselection",this.selectionText)},t.prototype._refresh=function(){this._refreshAnimationFrame=null,this.emit("refresh",{start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd})},t.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),i=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!(!i||!n)&&(t[1]>i[1]&&t[1]<n[1]||i[1]===n[1]&&t[1]===i[1]&&t[0]>i[0]&&t[0]<n[0]||i[1]<n[1]&&t[1]===n[1]&&t[0]<n[0])},t.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=null,this.refresh(!0))},t.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._terminal.emit("selection")},t.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._terminal.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._terminal.cols,t],this.refresh(),this._terminal.emit("selection")},t.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},t.prototype._getMouseBufferCoords=function(e){var t=this._terminal.mouseHelper.getCoords(e,this._terminal.screenElement,this._charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows,!0);return t?(t[0]--,t[1]--,t[1]+=this._terminal.buffer.ydisp,t):null},t.prototype._getMouseEventScrollAmount=function(e){var t=s.MouseHelper.getCoordsRelativeToElement(e,this._terminal.screenElement)[1],i=this._terminal.rows*Math.ceil(this._charMeasure.height*this._terminal.options.lineHeight);return t>=0&&t<=i?0:(t>i&&(t-=i),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},t.prototype.shouldForceSelection=function(e){return a.isMac?e.altKey:e.shiftKey},t.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},t.prototype._addMouseDownListeners=function(){var e=this;this._terminal.element.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.addEventListener("mouseup",this._mouseUpListener),this._dragScrollIntervalTimer=setInterval(function(){return e._dragScroll()},50)},t.prototype._removeMouseDownListeners=function(){this._terminal.element.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.ownerDocument.removeEventListener("mouseup",this._mouseUpListener),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=null},t.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},t.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=o.NORMAL,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=null;var t=this._buffer.lines.get(this._model.selectionStart[1]);t&&(t.length>=this._model.selectionStart[0]||0===t[this._model.selectionStart[0]][c.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionStart[0]++)}},t.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=o.WORD,this._selectWordAt(t,!0))},t.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=o.LINE,this._selectLineAt(t[1]))},t.prototype._onMouseMove=function(e){e.stopImmediatePropagation();var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){if(this._activeSelectionMode===o.LINE?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._terminal.cols:this._activeSelectionMode===o.WORD&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),this._dragScrollAmount>0?this._model.selectionEnd[0]=this._terminal.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]<this._buffer.lines.length){var i=this._buffer.lines.get(this._model.selectionEnd[1])[this._model.selectionEnd[0]];i&&0===i[c.CHAR_DATA_WIDTH_INDEX]&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)},t.prototype._dragScroll=function(){this._dragScrollAmount&&(this._terminal.scrollLines(this._dragScrollAmount,!1),this._model.selectionEnd=this._dragScrollAmount>0?[this._terminal.cols-1,Math.min(this._terminal.buffer.ydisp+this._terminal.rows,this._terminal.buffer.lines.length-1)]:[0,this._terminal.buffer.ydisp],this.refresh())},t.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500?new u.AltClickHandler(e,this._terminal).move():this.hasSelection&&this._terminal.emit("selection")},t.prototype._onBufferActivate=function(e){this.clearSelection(),e.inactiveBuffer.lines.off("trim",this._trimListener),e.activeBuffer.lines.on("trim",this._trimListener)},t.prototype._convertViewportColToCharacterIndex=function(e,t){for(var i=t[0],n=0;t[0]>=n;n++){var r=e[n];0===r[c.CHAR_DATA_WIDTH_INDEX]?i--:r[c.CHAR_DATA_CHAR_INDEX].length>1&&t[0]!==n&&(i+=r[c.CHAR_DATA_CHAR_INDEX].length-1)}return i},t.prototype.setSelection=function(e,t,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=i,this.refresh()},t.prototype._getWordAt=function(e,t){if(e[0]>=this._terminal.cols)return null;var i=this._buffer.lines.get(e[1]);if(!i)return null;var n=this._buffer.translateBufferLineToString(e[1],!1),r=this._convertViewportColToCharacterIndex(i,e),o=r,s=e[0]-r,a=0,l=0,h=0,u=0;if(" "===n.charAt(r)){for(;r>0&&" "===n.charAt(r-1);)r--;for(;o<n.length&&" "===n.charAt(o+1);)o++}else{var d=e[0],f=e[0];for(0===i[d][c.CHAR_DATA_WIDTH_INDEX]&&(a++,d--),2===i[f][c.CHAR_DATA_WIDTH_INDEX]&&(l++,f++),i[f][c.CHAR_DATA_CHAR_INDEX].length>1&&(u+=i[f][c.CHAR_DATA_CHAR_INDEX].length-1,o+=i[f][c.CHAR_DATA_CHAR_INDEX].length-1);d>0&&r>0&&!this._isCharWordSeparator(i[d-1]);)0===(p=i[d-1])[c.CHAR_DATA_WIDTH_INDEX]?(a++,d--):p[c.CHAR_DATA_CHAR_INDEX].length>1&&(h+=p[c.CHAR_DATA_CHAR_INDEX].length-1,r-=p[c.CHAR_DATA_CHAR_INDEX].length-1),r--,d--;for(;f<i.length&&o+1<n.length&&!this._isCharWordSeparator(i[f+1]);){var p;2===(p=i[f+1])[c.CHAR_DATA_WIDTH_INDEX]?(l++,f++):p[c.CHAR_DATA_CHAR_INDEX].length>1&&(u+=p[c.CHAR_DATA_CHAR_INDEX].length-1,o+=p[c.CHAR_DATA_CHAR_INDEX].length-1),o++,f++}}o++;var g=r+s-a+h,m=Math.min(this._terminal.cols,o-r+a+l-h-u);return t||""!==n.slice(r,o).trim()?{start:g,length:m}:null},t.prototype._selectWordAt=function(e,t){var i=this._getWordAt(e,t);i&&(this._model.selectionStart=[i.start,e[1]],this._model.selectionStartLength=i.length)},t.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);t&&(this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,e[1]])},t.prototype._isCharWordSeparator=function(e){return 0!==e[c.CHAR_DATA_WIDTH_INDEX]&&" ()[]{}'\"".indexOf(e[c.CHAR_DATA_CHAR_INDEX])>=0},t.prototype._selectLineAt=function(e){this._model.selectionStart=[0,e],this._model.selectionStartLength=this._terminal.cols},t}(l.EventEmitter);i.SelectionManager=p},{"./Buffer":2,"./EventEmitter":8,"./SelectionModel":13,"./handlers/AltClickHandler":19,"./shared/utils/Browser":36,"./utils/MouseHelper":41}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e){this._terminal=e,this.clearSelection()}return e.prototype.clearSelection=function(){this.selectionStart=null,this.selectionEnd=null,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){return this.isSelectAllActive?[this._terminal.cols,this._terminal.buffer.ybase+this._terminal.rows-1]:this.selectionStart?!this.selectionEnd||this.areSelectionValuesReversed()?[this.selectionStart[0]+this.selectionStartLength,this.selectionStart[1]]:this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd:null},enumerable:!0,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();i.SelectionModel=n},{}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_BELL_SOUND="data:audio/wav;base64,UklGRigBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQQBAADpAFgCwAMlBZoG/wdmCcoKRAypDQ8PbRDBEQQTOxRtFYcWlBePGIUZXhoiG88bcBz7HHIdzh0WHlMeZx51HmkeUx4WHs8dah0AHXwc3hs9G4saxRnyGBIYGBcQFv8U4RPAEoYRQBACD70NWwwHC6gJOwjWBloF7gOBAhABkf8b/qv8R/ve+Xf4Ife79W/0JfPZ8Z/wde9N7ijtE+wU6xvqM+lb6H7nw+YX5mrlxuQz5Mzje+Ma49fioeKD4nXiYeJy4pHitOL04j/jn+MN5IPkFOWs5U3mDefM55/ogOl36m7rdOyE7abuyu8D8Unyj/Pg9D/2qfcb+Yn6/vuK/Qj/lAAlAg==";var n=function(){function e(e){this._terminal=e}return e.prototype.playBellSound=function(){var e=window.AudioContext||window.webkitAudioContext;if(!this._audioContext&&e&&(this._audioContext=new e),this._audioContext){var t=this._audioContext.createBufferSource(),i=this._audioContext;this._audioContext.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._terminal.options.bellSound)),function(e){t.buffer=e,t.connect(i.destination),t.start(0)})}else console.warn("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version")},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e}();i.SoundManager=n},{}],15:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.blankLine="Blank line",i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},{}],16:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("./BufferSet"),s=e("./Buffer"),a=e("./CompositionHelper"),l=e("./EventEmitter"),h=e("./Viewport"),c=e("./handlers/Clipboard"),u=e("./EscapeSequences"),d=e("./InputHandler"),f=e("./Parser"),p=e("./renderer/Renderer"),g=e("./Linkifier"),m=e("./SelectionManager"),_=e("./utils/CharMeasure"),v=e("./shared/utils/Browser"),y=e("./Strings"),b=e("./utils/MouseHelper"),C=e("./utils/Clone"),w=e("./SoundManager"),E=e("./renderer/ColorManager"),S=e("./input/MouseZoneManager"),T=e("./AccessibilityManager"),x=e("./utils/ScreenDprMonitor"),k={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']},N="undefined"!=typeof window?window.document:null,A={cols:80,rows:24,convertEol:!1,termName:"xterm",cursorBlink:!1,cursorStyle:"block",bellSound:w.DEFAULT_BELL_SOUND,bellStyle:"none",enableBold:!0,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,scrollback:1e3,screenKeys:!1,screenReaderMode:!1,debug:!1,macOptionIsMeta:!1,cancelEvents:!1,disableStdin:!1,useFlowControl:!1,allowTransparency:!1,tabStopWidth:8,theme:null,rightClickSelectsWord:v.isMac},I=function(e){function t(t){void 0===t&&(t={});var i=e.call(this)||this;return i.browser=v,i.options=C.clone(t),i._setup(),i}return r(t,e),t.prototype._setup=function(){var e=this;Object.keys(A).forEach(function(t){null==e.options[t]&&(e.options[t]=A[t]),e[t]=e.options[t]}),this._parent=N?N.body:null,this.cols=this.options.cols,this.rows=this.options.rows,this.options.handler&&this.on("data",this.options.handler),this.cursorState=0,this.cursorHidden=!1,this._sendDataQueue="",this._customKeyEventHandler=null,this.applicationKeypad=!1,this.applicationCursor=!1,this.originMode=!1,this.insertMode=!1,this.wraparoundMode=!0,this.bracketedPasteMode=!1,this.charset=null,this.gcharset=null,this.glevel=0,this.charsets=[null],this.defAttr=131840,this.curAttr=131840,this.params=[],this.currentParam=0,this.prefix="",this.postfix="",this.writeBuffer=[],this._writeInProgress=!1,this._xoffSentToCatchUp=!1,this._userScrolling=!1,this._inputHandler=new d.InputHandler(this),this._parser=new f.Parser(this._inputHandler,this),this.renderer=this.renderer||null,this.selectionManager=this.selectionManager||null,this.linkifier=this.linkifier||new g.Linkifier(this),this._mouseZoneManager=this._mouseZoneManager||null,this.soundManager=this.soundManager||new w.SoundManager(this),this.buffers=new o.BufferSet(this),this.selectionManager&&(this.selectionManager.clearSelection(),this.selectionManager.initBuffersListeners())},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return y},enumerable:!0,configurable:!0}),t.prototype.eraseAttr=function(){return-512&this.defAttr|511&this.curAttr},t.prototype.focus=function(){this.textarea&&this.textarea.focus()},Object.defineProperty(t.prototype,"isFocused",{get:function(){return N.activeElement===this.textarea},enumerable:!0,configurable:!0}),t.prototype.getOption=function(e){if(!(e in A))throw new Error('No option with key "'+e+'"');return"undefined"!=typeof this.options[e]?this.options[e]:this[e]},t.prototype.setOption=function(e,t){if(!(e in A))throw new Error('No option with key "'+e+'"');switch(e){case"bellStyle":t||(t="none");break;case"cursorStyle":t||(t="block");break;case"fontWeight":t||(t="normal");break;case"fontWeightBold":t||(t="bold");break;case"lineHeight":if(t<1)return void console.warn(e+" cannot be less than 1, value: "+t);case"tabStopWidth":if(t<1)return void console.warn(e+" cannot be less than 1, value: "+t);break;case"theme":if(this.renderer)return void this._setTheme(t);break;case"scrollback":if((t=Math.min(t,s.MAX_BUFFER_SIZE))<0)return void console.warn(e+" cannot be less than 0, value: "+t);if(this.options[e]!==t){var i=this.rows+t;if(this.buffer.lines.length>i){var n=this.buffer.lines.length-i,r=this.buffer.ydisp-n<0;this.buffer.lines.trimStart(n),this.buffer.ybase=Math.max(this.buffer.ybase-n,0),this.buffer.ydisp=Math.max(this.buffer.ydisp-n,0),r&&this.refresh(0,this.rows-1)}}}switch(this[e]=t,this.options[e]=t,e){case"fontFamily":case"fontSize":this.renderer.clear(),this.charMeasure.measure(this.options);break;case"enableBold":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":this.renderer.clear(),this.renderer.onResize(this.cols,this.rows),this.refresh(0,this.rows-1);case"scrollback":this.buffers.resize(this.cols,this.rows),this.viewport.syncScrollArea();break;case"screenReaderMode":t?this._accessibilityManager||(this._accessibilityManager=new T.AccessibilityManager(this)):this._accessibilityManager&&(this._accessibilityManager.dispose(),this._accessibilityManager=null);break;case"tabStopWidth":this.buffers.setupTabStops()}this.renderer&&this.renderer.onOptionsChanged()},t.prototype._onTextAreaFocus=function(){this.sendFocus&&this.send(u.C0.ESC+"[I"),this.element.classList.add("focus"),this.showCursor(),this.emit("focus")},t.prototype.blur=function(){return this.textarea.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this.send(u.C0.ESC+"[O"),this.element.classList.remove("focus"),this.emit("blur")},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),L(this.element,"copy",function(t){e.hasSelection()&&c.copyHandler(t,e,e.selectionManager)});var t=function(t){return c.pasteHandler(t,e)};L(this.textarea,"paste",t),L(this.element,"paste",t),v.isFirefox?L(this.element,"mousedown",function(t){2===t.button&&c.rightClickHandler(t,e.textarea,e.selectionManager,e.options.rightClickSelectsWord)}):L(this.element,"contextmenu",function(t){c.rightClickHandler(t,e.textarea,e.selectionManager,e.options.rightClickSelectsWord)}),v.isLinux&&L(this.element,"auxclick",function(t){1===t.button&&c.moveTextAreaUnderMouseCursor(t,e.textarea)})},t.prototype._bindKeys=function(){var e=this,t=this;L(this.element,"keydown",function(e){N.activeElement===this&&t._keyDown(e)},!0),L(this.element,"keypress",function(e){N.activeElement===this&&t._keyPress(e)},!0),L(this.element,"keyup",function(t){(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode})(t)||e.focus()},!0),L(this.textarea,"keydown",function(t){return e._keyDown(t)},!0),L(this.textarea,"keypress",function(t){return e._keyPress(t)},!0),L(this.textarea,"compositionstart",function(){return e._compositionHelper.compositionstart()}),L(this.textarea,"compositionupdate",function(t){return e._compositionHelper.compositionupdate(t)}),L(this.textarea,"compositionend",function(){return e._compositionHelper.compositionend()}),this.on("refresh",function(){return e._compositionHelper.updateCompositionElements()}),this.on("refresh",function(t){return e._queueLinkification(t.start,t.end)})},t.prototype.open=function(e){var t=this;if(this._parent=e||this._parent,!this._parent)throw new Error("Terminal requires a parent element.");this._context=this._parent.ownerDocument.defaultView,this._document=this._parent.ownerDocument,this._screenDprMonitor=new x.ScreenDprMonitor,this._screenDprMonitor.setListener(function(){return t.emit("dprchange",window.devicePixelRatio)}),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),this._parent.appendChild(this.element);var i=N.createDocumentFragment();this._viewportElement=N.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),i.appendChild(this._viewportElement),this._viewportScrollArea=N.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=N.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=N.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),i.appendChild(this.screenElement),this._mouseZoneManager=new S.MouseZoneManager(this),this.on("scroll",function(){return t._mouseZoneManager.clearAll()}),this.linkifier.attachToDom(this._mouseZoneManager),this.textarea=N.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",y.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.textarea.addEventListener("focus",function(){return t._onTextAreaFocus()}),this.textarea.addEventListener("blur",function(){return t._onTextAreaBlur()}),this._helperContainer.appendChild(this.textarea),this._compositionView=N.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=new a.CompositionHelper(this.textarea,this._compositionView,this),this._helperContainer.appendChild(this._compositionView),this.charMeasure=new _.CharMeasure(N,this._helperContainer),this.element.appendChild(i),this.renderer=new p.Renderer(this,this.options.theme),this.options.theme=null,this.viewport=new h.Viewport(this,this._viewportElement,this._viewportScrollArea,this.charMeasure),this.viewport.onThemeChanged(this.renderer.colorManager.colors),this.on("cursormove",function(){return t.renderer.onCursorMove()}),this.on("resize",function(){return t.renderer.onResize(t.cols,t.rows)}),this.on("blur",function(){return t.renderer.onBlur()}),this.on("focus",function(){return t.renderer.onFocus()}),this.on("dprchange",function(){return t.renderer.onWindowResize(window.devicePixelRatio)}),window.addEventListener("resize",function(){return t.renderer.onWindowResize(window.devicePixelRatio)}),this.charMeasure.on("charsizechanged",function(){return t.renderer.onResize(t.cols,t.rows)}),this.renderer.on("resize",function(e){return t.viewport.syncScrollArea()}),this.selectionManager=new m.SelectionManager(this,this.charMeasure),this.element.addEventListener("mousedown",function(e){return t.selectionManager.onMouseDown(e)}),this.selectionManager.on("refresh",function(e){return t.renderer.onSelectionChanged(e.start,e.end)}),this.selectionManager.on("newselection",function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}),this.on("scroll",function(){t.viewport.syncScrollArea(),t.selectionManager.refresh()}),this._viewportElement.addEventListener("scroll",function(){return t.selectionManager.refresh()}),this.mouseHelper=new b.MouseHelper(this.renderer),this.options.screenReaderMode&&(this._accessibilityManager=new T.AccessibilityManager(this)),this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._setTheme=function(e){var t=this.renderer.setTheme(e);this.viewport&&this.viewport.onThemeChanged(t)},t.applyAddon=function(e){e.apply(t)},t.prototype.bindMouse=function(){var e=this,t=this.element,i=this,n=32;function r(e){var t,r;if(t=function(e){var t,n,r;switch(e.overrideType||e.type){case"mousedown":t=null!=e.button?+e.button:null!=e.which?e.which-1:null,v.isMSIE&&(t=1===t?0:4===t?1:t);break;case"mouseup":t=3;break;case"DOMMouseScroll":t=e.detail<0?64:65;break;case"wheel":t=e.wheelDeltaY>0?64:65}return r=(e.shiftKey?4:0)|(e.metaKey?8:0)|(n=e.ctrlKey?16:0),i.vt200Mouse?r&=n:i.normalMouse||(r=0),32+(r<<2)+t}(e),r=i.mouseHelper.getRawByteCoords(e,i.screenElement,i.charMeasure,i.options.lineHeight,i.cols,i.rows))switch(a(t,r),e.overrideType||e.type){case"mousedown":n=t;break;case"mouseup":n=32}}function o(e){var t=n,r=i.mouseHelper.getRawByteCoords(e,i.screenElement,i.charMeasure,i.options.lineHeight,i.cols,i.rows);r&&a(t+=32,r)}function s(e,t){if(i.utfMouse){if(2047===t)return void e.push(0);t<127?e.push(t):(t>2047&&(t=2047),e.push(192|t>>6),e.push(128|63&t))}else{if(255===t)return void e.push(0);t>127&&(t=127),e.push(t)}}function a(e,t){if(i._vt300Mouse){e&=3,t.x-=32,t.y-=32;var n=u.C0.ESC+"[24";if(0===e)n+="1";else if(1===e)n+="3";else if(2===e)n+="5";else{if(3===e)return;n+="0"}i.send(n+="~["+t.x+","+t.y+"]\r")}else{if(i._decLocator)return e&=3,t.x-=32,t.y-=32,0===e?e=2:1===e?e=4:2===e?e=6:3===e&&(e=3),void i.send(u.C0.ESC+"["+e+";"+(3===e?4:0)+";"+t.y+";"+t.x+";"+t.page||"0&w");if(i.urxvtMouse)return t.x-=32,t.y-=32,t.x++,t.y++,void i.send(u.C0.ESC+"["+e+";"+t.x+";"+t.y+"M");if(i.sgrMouse)return t.x-=32,t.y-=32,void i.send(u.C0.ESC+"[<"+((3==(3&e)?-4&e:e)-32)+";"+t.x+";"+t.y+(3==(3&e)?"m":"M"));var r=[];s(r,e),s(r,t.x),s(r,t.y),i.send(u.C0.ESC+"[M"+String.fromCharCode.apply(String,r))}}L(t,"mousedown",function(t){if(t.preventDefault(),e.focus(),e.mouseEvents&&!e.selectionManager.shouldForceSelection(t)){if(r(t),e.vt200Mouse)return t.overrideType="mouseup",r(t),e.cancel(t);if(e.normalMouse&&L(e._document,"mousemove",o),!e.x10Mouse){var i=function(t){return r(t),e.normalMouse&&R(e._document,"mousemove",o),R(e._document,"mouseup",i),e.cancel(t)};L(e._document,"mouseup",i)}return e.cancel(t)}}),L(t,"wheel",function(t){if(e.mouseEvents)e.x10Mouse||e._vt300Mouse||e._decLocator||(r(t),t.preventDefault());else if(!e.buffer.hasScrollback){var i=e.viewport.getLinesScrolled(t);if(0===i)return;for(var n=u.C0.ESC+(e.applicationCursor?"O":"[")+(t.deltaY<0?"A":"B"),o="",s=0;s<Math.abs(i);s++)o+=n;e.send(o)}}),L(t,"wheel",function(t){if(!e.mouseEvents)return e.viewport.onWheel(t),e.cancel(t)}),L(t,"touchstart",function(t){if(!e.mouseEvents)return e.viewport.onTouchStart(t),e.cancel(t)}),L(t,"touchmove",function(t){if(!e.mouseEvents)return e.viewport.onTouchMove(t),e.cancel(t)})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.handler=function(){},this.write=function(){},this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},t.prototype.refresh=function(e,t){this.renderer&&this.renderer.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){this.linkifier&&this.linkifier.linkifyRows(e,t)},t.prototype.showCursor=function(){this.cursorState||(this.cursorState=1,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scroll=function(e){var t=this.blankLine(void 0,e),i=this.buffer.ybase+this.buffer.scrollTop,n=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var r=this.buffer.lines.length===this.buffer.lines.maxLength;n===this.buffer.lines.length-1?this.buffer.lines.push(t):this.buffer.lines.splice(n+1,0,t),r?this._userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this._userScrolling||this.buffer.ydisp++)}else this.buffer.lines.shiftElements(i+1,n-i+1-1,-1),this.buffer.lines.set(n,t);this._userScrolling||(this.buffer.ydisp=this.buffer.ybase),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom),this.emit("scroll",this.buffer.ydisp)},t.prototype.scrollLines=function(e,t){if(e<0){if(0===this.buffer.ydisp)return;this._userScrolling=!0}else e+this.buffer.ydisp>=this.buffer.ybase&&(this._userScrolling=!1);var i=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+e,this.buffer.ybase),0),i!==this.buffer.ydisp&&(t||this.emit("scroll",this.buffer.ydisp),this.refresh(0,this.rows-1))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!==t&&this.scrollLines(t)},t.prototype.write=function(e){var t=this;e&&(this.writeBuffer.push(e),this.options.useFlowControl&&!this._xoffSentToCatchUp&&this.writeBuffer.length>=5&&(this.send(u.C0.DC3),this._xoffSentToCatchUp=!0),!this._writeInProgress&&this.writeBuffer.length>0&&(this._writeInProgress=!0,setTimeout(function(){t._innerWrite()})))},t.prototype._innerWrite=function(){for(var e=this,t=this.writeBuffer.splice(0,300);t.length>0;){var i=t.shift();this._xoffSentToCatchUp&&0===t.length&&0===this.writeBuffer.length&&(this.send(u.C0.DC1),this._xoffSentToCatchUp=!1),this._refreshStart=this.buffer.y,this._refreshEnd=this.buffer.y;var n=this._parser.parse(i);this._parser.setState(n),this.updateRange(this.buffer.y),this.refresh(this._refreshStart,this._refreshEnd)}this.writeBuffer.length>0?setTimeout(function(){return e._innerWrite()},0):this._writeInProgress=!1},t.prototype.writeln=function(e){this.write(e+"\r\n")},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.registerLinkMatcher=function(e,t,i){var n=this.linkifier.registerLinkMatcher(e,t,i);return this.refresh(0,this.rows-1),n},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!0,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this.selectionManager&&this.selectionManager.hasSelection},t.prototype.getSelection=function(){return this.selectionManager?this.selectionManager.selectionText:""},t.prototype.clearSelection=function(){this.selectionManager&&this.selectionManager.clearSelection()},t.prototype.selectAll=function(){this.selectionManager&&this.selectionManager.selectAll()},t.prototype.selectLines=function(e,t){this.selectionManager&&this.selectionManager.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=this._evaluateKeyEscapeSequence(e);return t.scrollLines?(this.scrollLines(t.scrollLines),this.cancel(e,!0)):!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(this.emit("keydown",e),this.emit("key",t.key,e),this.showCursor(),this.handler(t.key),this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var i=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isMSWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?i:i&&(!t.keyCode||t.keyCode>47)},t.prototype._evaluateKeyEscapeSequence=function(e){var t={cancel:!1,key:void 0,scrollLines:void 0},i=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?t.key=this.applicationCursor?u.C0.ESC+"OA":u.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?t.key=this.applicationCursor?u.C0.ESC+"OD":u.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?t.key=this.applicationCursor?u.C0.ESC+"OC":u.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(t.key=this.applicationCursor?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:if(e.shiftKey){t.key=u.C0.BS;break}if(e.altKey){t.key=u.C0.ESC+u.C0.DEL;break}t.key=u.C0.DEL;break;case 9:if(e.shiftKey){t.key=u.C0.ESC+"[Z";break}t.key=u.C0.HT,t.cancel=!0;break;case 13:t.key=u.C0.CR,t.cancel=!0;break;case 27:t.key=u.C0.ESC,t.cancel=!0;break;case 37:i?(t.key=u.C0.ESC+"[1;"+(i+1)+"D",t.key===u.C0.ESC+"[1;3D"&&(t.key=this.browser.isMac?u.C0.ESC+"b":u.C0.ESC+"[1;5D")):t.key=this.applicationCursor?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:i?(t.key=u.C0.ESC+"[1;"+(i+1)+"C",t.key===u.C0.ESC+"[1;3C"&&(t.key=this.browser.isMac?u.C0.ESC+"f":u.C0.ESC+"[1;5C")):t.key=this.applicationCursor?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:i?(t.key=u.C0.ESC+"[1;"+(i+1)+"A",t.key===u.C0.ESC+"[1;3A"&&(t.key=u.C0.ESC+"[1;5A")):t.key=this.applicationCursor?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:i?(t.key=u.C0.ESC+"[1;"+(i+1)+"B",t.key===u.C0.ESC+"[1;3B"&&(t.key=u.C0.ESC+"[1;5B")):t.key=this.applicationCursor?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(t.key=u.C0.ESC+"[2~");break;case 46:t.key=i?u.C0.ESC+"[3;"+(i+1)+"~":u.C0.ESC+"[3~";break;case 36:t.key=i?u.C0.ESC+"[1;"+(i+1)+"H":this.applicationCursor?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:t.key=i?u.C0.ESC+"[1;"+(i+1)+"F":this.applicationCursor?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:e.shiftKey?t.scrollLines=-(this.rows-1):t.key=u.C0.ESC+"[5~";break;case 34:e.shiftKey?t.scrollLines=this.rows-1:t.key=u.C0.ESC+"[6~";break;case 112:t.key=i?u.C0.ESC+"[1;"+(i+1)+"P":u.C0.ESC+"OP";break;case 113:t.key=i?u.C0.ESC+"[1;"+(i+1)+"Q":u.C0.ESC+"OQ";break;case 114:t.key=i?u.C0.ESC+"[1;"+(i+1)+"R":u.C0.ESC+"OR";break;case 115:t.key=i?u.C0.ESC+"[1;"+(i+1)+"S":u.C0.ESC+"OS";break;case 116:t.key=i?u.C0.ESC+"[15;"+(i+1)+"~":u.C0.ESC+"[15~";break;case 117:t.key=i?u.C0.ESC+"[17;"+(i+1)+"~":u.C0.ESC+"[17~";break;case 118:t.key=i?u.C0.ESC+"[18;"+(i+1)+"~":u.C0.ESC+"[18~";break;case 119:t.key=i?u.C0.ESC+"[19;"+(i+1)+"~":u.C0.ESC+"[19~";break;case 120:t.key=i?u.C0.ESC+"[20;"+(i+1)+"~":u.C0.ESC+"[20~";break;case 121:t.key=i?u.C0.ESC+"[21;"+(i+1)+"~":u.C0.ESC+"[21~";break;case 122:t.key=i?u.C0.ESC+"[23;"+(i+1)+"~":u.C0.ESC+"[23~";break;case 123:t.key=i?u.C0.ESC+"[24;"+(i+1)+"~":u.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(this.browser.isMac&&!this.options.macOptionIsMeta||!e.altKey||e.metaKey)this.browser.isMac&&!e.altKey&&!e.ctrlKey&&e.metaKey&&65===e.keyCode&&this.selectAll();else{var n=k[e.keyCode],r=n&&n[e.shiftKey?1:0];r?t.key=u.C0.ESC+r:e.keyCode>=65&&e.keyCode<=90&&(t.key=u.C0.ESC+String.fromCharCode(e.ctrlKey?e.keyCode-64:e.keyCode+32))}else e.keyCode>=65&&e.keyCode<=90?t.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?t.key=String.fromCharCode(0):e.keyCode>=51&&e.keyCode<=55?t.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?t.key=String.fromCharCode(127):219===e.keyCode?t.key=String.fromCharCode(27):220===e.keyCode?t.key=String.fromCharCode(28):221===e.keyCode&&(t.key=String.fromCharCode(29))}return t},t.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},t.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},t.prototype._keyPress=function(e){var t;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null==e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this.emit("keypress",t,e),this.emit("key",t,e),this.showCursor(),this.handler(t),0))},t.prototype.send=function(e){var t=this;this._sendDataQueue||setTimeout(function(){t.handler(t._sendDataQueue),t._sendDataQueue=""},1),this._sendDataQueue+=e},t.prototype.bell=function(){var e=this;this.emit("bell"),this._soundBell()&&this.soundManager.playBellSound(),this._visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this._visualBellTimer),this._visualBellTimer=window.setTimeout(function(){e.element.classList.remove("visual-bell-active")},200))},t.prototype.log=function(e,t){this.options.debug&&this._context.console&&this._context.console.log&&this._context.console.log(e,t)},t.prototype.error=function(e,t){this.options.debug&&this._context.console&&this._context.console.error&&this._context.console.error(e,t)},t.prototype.resize=function(e,t){isNaN(e)||isNaN(t)||(e!==this.cols||t!==this.rows?(e<1&&(e=1),t<1&&(t=1),this.buffers.resize(e,t),this.cols=e,this.rows=t,this.buffers.setupTabStops(this.cols),this.charMeasure&&this.charMeasure.measure(this.options),this.refresh(0,this.rows-1),this.emit("resize",{cols:e,rows:t})):this.charMeasure.width&&this.charMeasure.height||this.charMeasure.measure(this.options))},t.prototype.updateRange=function(e){e<this._refreshStart&&(this._refreshStart=e),e>this._refreshEnd&&(this._refreshEnd=e)},t.prototype.maxRange=function(){this._refreshStart=0,this._refreshEnd=this.rows-1},t.prototype.eraseRight=function(e,t){var i=this.buffer.lines.get(this.buffer.ybase+t);if(i){for(var n=[this.eraseAttr()," ",1,32];e<this.cols;e++)i[e]=n;this.updateRange(t)}},t.prototype.eraseLeft=function(e,t){var i=this.buffer.lines.get(this.buffer.ybase+t);if(i){var n=[this.eraseAttr()," ",1,32];for(e++;e--;)i[e]=n;this.updateRange(t)}},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.blankLine());this.refresh(0,this.rows-1),this.emit("scroll",this.buffer.ydisp)}},t.prototype.eraseLine=function(e){this.eraseRight(0,e)},t.prototype.blankLine=function(e,t,i){var n=[e?this.eraseAttr():this.defAttr," ",1,32],r=[];t&&(r.isWrapped=t),i=i||this.cols;for(var o=0;o<i;o++)r[o]=n;return r},t.prototype.ch=function(e){return e?[this.eraseAttr()," ",1,32]:[this.defAttr," ",1,32]},t.prototype.is=function(e){return 0===(this.options.termName+"").indexOf(e)},t.prototype.handler=function(e){this.options.disableStdin||(this.selectionManager&&this.selectionManager.hasSelection&&this.selectionManager.clearSelection(),this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),this.emit("data",e))},t.prototype.handleTitle=function(e){this.emit("title",e)},t.prototype.index=function(){this.buffer.y++,this.buffer.y>this.buffer.scrollBottom&&(this.buffer.y--,this.scroll()),this.buffer.x>=this.cols&&this.buffer.x--},t.prototype.reverseIndex=function(){this.buffer.y===this.buffer.scrollTop?(this.buffer.lines.shiftElements(this.buffer.y+this.buffer.ybase,this.buffer.scrollBottom-this.buffer.scrollTop,1),this.buffer.lines.set(this.buffer.y+this.buffer.ybase,this.blankLine(!0)),this.updateRange(this.buffer.scrollTop),this.updateRange(this.buffer.scrollBottom)):this.buffer.y--},t.prototype.reset=function(){this.options.rows=this.rows,this.options.cols=this.cols;var e=this._customKeyEventHandler,t=this._inputHandler;this._setup(),this._customKeyEventHandler=e,this._inputHandler=t,this.refresh(0,this.rows-1),this.viewport&&this.viewport.syncScrollArea()},t.prototype.tabSet=function(){this.buffer.tabs[this.buffer.x]=!0},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype.matchColor=function(e,t,i){return function(e,t,i){var n=e<<16|t<<8|i;if(null!=D[n])return D[n];for(var r,o,s=1/0,a=-1,l=0;l<E.DEFAULT_ANSI_COLORS.length;l++){if(0===(o=M(e,t,i,(r=E.DEFAULT_ANSI_COLORS[l].rgba)>>>24,r>>>16&255,r>>>8&255))){a=l;break}o<s&&(s=o,a=l)}return D[n]=a}(e,t,i)},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t}(l.EventEmitter);i.Terminal=I;var L=function(e,t,i,n){Array.isArray(e)||(e=[e]),e.forEach(function(e){e.addEventListener(t,i,n||!1)})};function R(e,t,i,n){void 0===n&&(n=!1),e.removeEventListener(t,i,n)}var D={};function M(e,t,i,n,r,o){return Math.pow(30*(e-n),2)+Math.pow(59*(t-r),2)+Math.pow(11*(i-o),2)}},{"./AccessibilityManager":1,"./Buffer":2,"./BufferSet":3,"./CompositionHelper":6,"./EscapeSequences":7,"./EventEmitter":8,"./InputHandler":9,"./Linkifier":10,"./Parser":11,"./SelectionManager":12,"./SoundManager":14,"./Strings":15,"./Viewport":18,"./handlers/Clipboard":20,"./input/MouseZoneManager":21,"./renderer/ColorManager":23,"./renderer/Renderer":27,"./shared/utils/Browser":36,"./utils/CharMeasure":37,"./utils/Clone":39,"./utils/MouseHelper":41,"./utils/ScreenDprMonitor":43}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e.HOVER="linkhover",e.TOOLTIP="linktooltip",e.LEAVE="linkleave"}(i.LinkHoverEventTypes||(i.LinkHoverEventTypes={}))},{}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=15,r=function(){function e(e,t,i,r){var o=this;this._terminal=e,this._viewportElement=t,this._scrollArea=i,this._charMeasure=r,this.scrollBarWidth=0,this._currentRowHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._wheelPartialScroll=0,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||n,this._viewportElement.addEventListener("scroll",this._onScroll.bind(this)),setTimeout(function(){return o.syncScrollArea()},0)}return e.prototype.onThemeChanged=function(e){this._viewportElement.style.backgroundColor=e.background.css},e.prototype._refresh=function(){if(this._charMeasure.height>0){this._currentRowHeight=this._terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._terminal.renderer.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}},e.prototype.syncScrollArea=function(){this._lastRecordedBufferLength!==this._terminal.buffer.lines.length?(this._lastRecordedBufferLength=this._terminal.buffer.lines.length,this._refresh()):this._lastRecordedViewportHeight!==this._terminal.renderer.dimensions.canvasHeight?this._refresh():this._terminal.renderer.dimensions.scaledCellHeight/window.devicePixelRatio!==this._currentRowHeight&&this._refresh();var e=this._terminal.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==e&&(this._viewportElement.scrollTop=e)},e.prototype._onScroll=function(e){if(this._viewportElement.offsetParent){var t=Math.round(this._viewportElement.scrollTop/this._currentRowHeight);this._terminal.scrollLines(t-this._terminal.buffer.ydisp,!0)}},e.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);0!==t&&(this._viewportElement.scrollTop+=t,e.preventDefault())},e.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=e.deltaY;return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._terminal.rows),t},e.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=e.deltaY;return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(this._wheelPartialScroll+=t/=this._currentRowHeight+0,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._terminal.rows),t},e.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},e.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,e.preventDefault())},e}();i.Viewport=r},{}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r=e("../EscapeSequences");!function(e){e.Up="A",e.Down="B",e.Right="C",e.Left="D"}(n||(n={}));var o=function(){function e(e,t){var i;this._mouseEvent=e,this._terminal=t,this._lines=this._terminal.buffer.lines,this._startCol=this._terminal.buffer.x,this._startRow=this._terminal.buffer.y,i=this._terminal.mouseHelper.getCoords(this._mouseEvent,this._terminal.element,this._terminal.charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows,!1).map(function(e){return e-1}),this._endCol=i[0],this._endRow=i[1]}return e.prototype.move=function(){this._mouseEvent.altKey&&this._terminal.send(this._arrowSequences())},e.prototype._arrowSequences=function(){return this._terminal.buffer.hasScrollback?this._moveHorizontallyOnly():this._resetStartingRow()+this._moveToRequestedRow()+this._moveToRequestedCol()},e.prototype._resetStartingRow=function(){return 0===this._moveToRequestedRow().length?"":s(this._bufferLine(this._startCol,this._startRow,this._startCol,this._startRow-this._wrappedRowsForRow(this._startRow),!1).length,this._sequence(n.Left))},e.prototype._moveToRequestedRow=function(){var e=this._startRow-this._wrappedRowsForRow(this._startRow),t=this._endRow-this._wrappedRowsForRow(this._endRow);return s(Math.abs(e-t)-this._wrappedRowsCount(),this._sequence(this._verticalDirection()))},e.prototype._moveToRequestedCol=function(){var e;e=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow;var t=this._endRow,i=this._horizontalDirection();return s(this._bufferLine(this._startCol,e,this._endCol,t,i===n.Right).length,this._sequence(i))},e.prototype._moveHorizontallyOnly=function(){var e=this._horizontalDirection();return s(Math.abs(this._startCol-this._endCol),this._sequence(e))},e.prototype._wrappedRowsCount=function(){for(var e=0,t=this._startRow-this._wrappedRowsForRow(this._startRow),i=this._endRow-this._wrappedRowsForRow(this._endRow),r=0;r<Math.abs(t-i);r++){var o=this._verticalDirection()===n.Up?-1:1;this._lines.get(t+o*r).isWrapped&&e++}return e},e.prototype._wrappedRowsForRow=function(e){for(var t=0,i=this._lines.get(e).isWrapped;i&&e>=0&&e<this._terminal.rows;)t++,i=this._lines.get(--e).isWrapped;return t},e.prototype._horizontalDirection=function(){var e;return e=this._moveToRequestedRow().length>0?this._endRow-this._wrappedRowsForRow(this._endRow):this._startRow,this._startCol<this._endCol&&e<=this._endRow||this._startCol>=this._endCol&&e<this._endRow?n.Right:n.Left},e.prototype._verticalDirection=function(){return this._startRow>this._endRow?n.Up:n.Down},e.prototype._bufferLine=function(e,t,i,n,r){for(var o=e,s=t,a="";o!==i||s!==n;)o+=r?1:-1,r&&o>this._terminal.cols-1?(a+=this._terminal.buffer.translateBufferLineToString(s,!1,e,o),o=0,e=0,s++):!r&&o<0&&(a+=this._terminal.buffer.translateBufferLineToString(s,!1,0,e+1),e=o=this._terminal.cols-1,s--);return a+this._terminal.buffer.translateBufferLineToString(s,!1,e,o)},e.prototype._sequence=function(e){return r.C0.ESC+(this._terminal.applicationCursor?"O":"[")+e},e}();function s(e,t){e=Math.floor(e);for(var i="",n=0;n<e;n++)i+=t;return i}i.AltClickHandler=o},{"../EscapeSequences":7}],20:[function(e,t,i){"use strict";function n(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function o(e,t){t.style.position="fixed",t.style.width="20px",t.style.height="20px",t.style.left=e.clientX-10+"px",t.style.top=e.clientY-10+"px",t.style.zIndex="1000",t.focus(),setTimeout(function(){t.style.position=null,t.style.width=null,t.style.height=null,t.style.left=null,t.style.top=null,t.style.zIndex=null},200)}Object.defineProperty(i,"__esModule",{value:!0}),i.prepareTextForTerminal=n,i.bracketTextForPaste=r,i.copyHandler=function(e,t,i){t.browser.isMSIE?window.clipboardData.setData("Text",i.selectionText):e.clipboardData.setData("text/plain",i.selectionText),e.preventDefault()},i.pasteHandler=function(e,t){e.stopPropagation();var i=function(i){i=r(i=n(i),t.bracketedPasteMode),t.handler(i),t.textarea.value="",t.emit("paste",i),t.cancel(e)};t.browser.isMSIE?window.clipboardData&&i(window.clipboardData.getData("Text")):e.clipboardData&&i(e.clipboardData.getData("text/plain"))},i.moveTextAreaUnderMouseCursor=o,i.rightClickHandler=function(e,t,i,n){o(e,t),n&&!i.isClickInSelection(e)&&i.selectWordAtCursor(e),t.value=i.selectionText,t.select()}},{}],21:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e){var t=this;this._terminal=e,this._zones=[],this._areZonesActive=!1,this._tooltipTimeout=null,this._currentZone=null,this._lastHoverCoords=[null,null],this._terminal.element.addEventListener("mousedown",function(e){return t._onMouseDown(e)}),this._mouseMoveListener=function(e){return t._onMouseMove(e)},this._clickListener=function(e){return t._onClick(e)}}return e.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},e.prototype.clearAll=function(e,t){if(0!==this._zones.length){t||(e=0,t=this._terminal.rows-1);for(var i=0;i<this._zones.length;i++){var n=this._zones[i];(n.y1>e&&n.y1<=t+1||n.y2>e&&n.y2<=t+1||n.y1<e&&n.y2>t+1)&&(this._currentZone&&this._currentZone===n&&(this._currentZone.leaveCallback(),this._currentZone=null),this._zones.splice(i--,1))}0===this._zones.length&&this._deactivate()}},e.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._terminal.element.addEventListener("mousemove",this._mouseMoveListener),this._terminal.element.addEventListener("click",this._clickListener))},e.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._terminal.element.removeEventListener("mousemove",this._mouseMoveListener),this._terminal.element.removeEventListener("click",this._clickListener))},e.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},e.prototype._onHover=function(e){var t=this,i=this._findZoneEventAt(e);i!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=null,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),i&&(this._currentZone=i,i.hoverCallback&&i.hoverCallback(e),this._tooltipTimeout=setTimeout(function(){return t._onTooltip(e)},500)))},e.prototype._onTooltip=function(e){this._tooltipTimeout=null;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},e.prototype._onMouseDown=function(e){if(this._areZonesActive){var t=this._findZoneEventAt(e);t&&t.willLinkActivate(e)&&(e.preventDefault(),e.stopImmediatePropagation())}},e.prototype._onClick=function(e){var t=this._findZoneEventAt(e);t&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},e.prototype._findZoneEventAt=function(e){var t=this._terminal.mouseHelper.getCoords(e,this._terminal.screenElement,this._terminal.charMeasure,this._terminal.options.lineHeight,this._terminal.cols,this._terminal.rows);if(!t)return null;for(var i=t[0],n=t[1],r=0;r<this._zones.length;r++){var o=this._zones[r];if(o.y1===o.y2){if(n===o.y1&&i>=o.x1&&i<o.x2)return o}else if(n===o.y1&&i>=o.x1||n===o.y2&&i<o.x2||n>o.y1&&n<o.y2)return o}return null},e}();i.MouseZoneManager=n,i.MouseZone=function(e,t,i,n,r,o,s,a,l){this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.clickCallback=r,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=l}},{}],22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./atlas/Types"),r=e("../shared/atlas/Types"),o=e("./atlas/CharAtlas"),s=e("../Buffer"),a=function(){function e(e,t,i,n,r){this._container=e,this._alpha=n,this._colors=r,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype._initCanvas=function(){this._ctx=this._canvas.getContext("2d",{alpha:this._alpha}),this._alpha||this.clearAll()},e.prototype.onOptionsChanged=function(e){},e.prototype.onBlur=function(e){},e.prototype.onFocus=function(e){},e.prototype.onCursorMove=function(e){},e.prototype.onGridChanged=function(e,t,i){},e.prototype.onSelectionChanged=function(e,t,i){},e.prototype.onThemeChanged=function(e,t){this._refreshCharAtlas(e,t)},e.prototype.setTransparency=function(e,t){if(t!==this._alpha){var i=this._canvas;this._alpha=t,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,i),this._refreshCharAtlas(e,this._colors),this.onGridChanged(e,0,e.rows-1)}},e.prototype._refreshCharAtlas=function(e,t){var i=this;if(!(this._scaledCharWidth<=0&&this._scaledCharHeight<=0)){this._charAtlas=null;var n=o.acquireCharAtlas(e,t,this._scaledCharWidth,this._scaledCharHeight);n instanceof HTMLCanvasElement?this._charAtlas=n:n.then(function(e){return i._charAtlas=e})}},e.prototype.resize=function(e,t){this._scaledCellWidth=t.scaledCellWidth,this._scaledCellHeight=t.scaledCellHeight,this._scaledCharWidth=t.scaledCharWidth,this._scaledCharHeight=t.scaledCharHeight,this._scaledCharLeft=t.scaledCharLeft,this._scaledCharTop=t.scaledCharTop,this._canvas.width=t.scaledCanvasWidth,this._canvas.height=t.scaledCanvasHeight,this._canvas.style.width=t.canvasWidth+"px",this._canvas.style.height=t.canvasHeight+"px",this._alpha||this.clearAll(),this._refreshCharAtlas(e,this._colors)},e.prototype.fillCells=function(e,t,i,n){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight)},e.prototype.fillBottomLineAtCells=function(e,t,i){void 0===i&&(i=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},e.prototype.fillLeftLineAtCell=function(e,t){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio,this._scaledCellHeight)},e.prototype.strokeRectAtCell=function(e,t,i,n){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,n*this._scaledCellHeight-window.devicePixelRatio)},e.prototype.clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype.clearCells=function(e,t,i,n){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight))},e.prototype.fillCharTrueColor=function(e,t,i,n){this._ctx.font=this._getFont(e,!1),this._ctx.textBaseline="top",this._clipRow(e,n),this._ctx.fillText(t[s.CHAR_DATA_CHAR_INDEX],i*this._scaledCellWidth+this._scaledCharLeft,n*this._scaledCellHeight+this._scaledCharTop)},e.prototype.drawChar=function(e,t,i,o,s,a,l,h,c,u){var d=0;if(l<256?d=l+2:c&&e.options.enableBold&&(d=1),this._charAtlas&&i<256&&(d>1&&l<16&&(l<8||c)||l>=256)&&h>=256){var f=this._scaledCharWidth+r.CHAR_ATLAS_CELL_SPACING,p=this._scaledCharHeight+r.CHAR_ATLAS_CELL_SPACING;u&&(this._ctx.globalAlpha=n.DIM_OPACITY),c&&!e.options.enableBold&&d>1&&(d-=8),this._ctx.drawImage(this._charAtlas,i*f,d*p,f,this._scaledCharHeight,s*this._scaledCellWidth+this._scaledCharLeft,a*this._scaledCellHeight+this._scaledCharTop,f,this._scaledCharHeight)}else this._drawUncachedChar(e,t,o,l,s,a,c&&e.options.enableBold,u)},e.prototype._drawUncachedChar=function(e,t,i,r,o,s,a,l){this._ctx.save(),this._ctx.font=this._getFont(e,a),this._ctx.textBaseline="top",this._ctx.fillStyle=r===n.INVERTED_DEFAULT_COLOR?this._colors.background.css:r<256?this._colors.ansi[r].css:this._colors.foreground.css,this._clipRow(e,s),l&&(this._ctx.globalAlpha=n.DIM_OPACITY),this._ctx.fillText(t,o*this._scaledCellWidth+this._scaledCharLeft,s*this._scaledCellHeight+this._scaledCharTop),this._ctx.restore()},e.prototype._clipRow=function(e,t){this._ctx.beginPath(),this._ctx.rect(0,t*this._scaledCellHeight,e.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?e.options.fontWeightBold:e.options.fontWeight)+" "+e.options.fontSize*window.devicePixelRatio+"px "+e.options.fontFamily},e}();i.BaseRenderLayer=a},{"../Buffer":2,"../shared/atlas/Types":35,"./atlas/CharAtlas":31,"./atlas/Types":33}],23:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=l("#ffffff"),r=l("#000000"),o=l("#ffffff"),s=l("#000000"),a={css:"rgba(255, 255, 255, 0.3)",rgba:4294967159};function l(e){return{css:e,rgba:parseInt(e.slice(1),16)<<8|255}}function h(e){var t=e.toString(16);return t.length<2?"0"+t:t}i.DEFAULT_ANSI_COLORS=function(){for(var e=[l("#2e3436"),l("#cc0000"),l("#4e9a06"),l("#c4a000"),l("#3465a4"),l("#75507b"),l("#06989a"),l("#d3d7cf"),l("#555753"),l("#ef2929"),l("#8ae234"),l("#fce94f"),l("#729fcf"),l("#ad7fa8"),l("#34e2e2"),l("#eeeeec")],t=[0,95,135,175,215,255],i=0;i<216;i++){var n=t[i/36%6|0],r=t[i/6%6|0],o=t[i%6];e.push({css:"#"+h(n)+h(r)+h(o),rgba:(n<<24|r<<16|o<<8|255)>>>0})}for(i=0;i<24;i++){var s=8+10*i,a=h(s);e.push({css:"#"+a+a+a,rgba:(s<<24|s<<16|s<<8|255)>>>0})}return e}();var c=function(){function e(e,t){this.allowTransparency=t;var l=e.createElement("canvas");l.width=1,l.height=1,this._ctx=l.getContext("2d"),this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this.colors={foreground:n,background:r,cursor:o,cursorAccent:s,selection:a,ansi:i.DEFAULT_ANSI_COLORS.slice()}}return e.prototype.setTheme=function(e){this.colors.foreground=this._parseColor(e.foreground,n),this.colors.background=this._parseColor(e.background,r),this.colors.cursor=this._parseColor(e.cursor,o,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,s,!0),this.colors.selection=this._parseColor(e.selection,a,!0),this.colors.ansi[0]=this._parseColor(e.black,i.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,i.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,i.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,i.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,i.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,i.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,i.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,i.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,i.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,i.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,i.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,i.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,i.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,i.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,i.DEFAULT_ANSI_COLORS[15])},e.prototype._parseColor=function(e,t,i){if(void 0===i&&(i=this.allowTransparency),!e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var n=this._ctx.getImageData(0,0,1,1).data;return i||255===n[3]?{css:e,rgba:(n[0]<<24|n[1]<<16|n[2]<<8|n[3])>>>0}:(console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t)},e}();i.ColorManager=c},{}],24:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Buffer"),s=function(e){function t(t,i,n){var r=e.call(this,t,"cursor",i,!0,n)||this;return r._state={x:null,y:null,isFocused:null,style:null,width:null},r._cursorRenderers={bar:r._renderBarCursor.bind(r),block:r._renderBlockCursor.bind(r),underline:r._renderUnderlineCursor.bind(r)},r}return r(t,e),t.prototype.resize=function(t,i){e.prototype.resize.call(this,t,i),this._state={x:null,y:null,isFocused:null,style:null,width:null}},t.prototype.reset=function(e){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null,this.onOptionsChanged(e))},t.prototype.onBlur=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),e.refresh(e.buffer.y,e.buffer.y)},t.prototype.onFocus=function(e){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume(e):e.refresh(e.buffer.y,e.buffer.y)},t.prototype.onOptionsChanged=function(e){var t=this;e.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new a(e,function(){t._render(e,!0)})):(this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=null),e.refresh(e.buffer.y,e.buffer.y))},t.prototype.onCursorMove=function(e){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation(e)},t.prototype.onGridChanged=function(e,t,i){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(e,!1):this._cursorBlinkStateManager.restartBlinkAnimation(e)},t.prototype._render=function(e,t){if(e.cursorState&&!e.cursorHidden){var i=e.buffer.ybase+e.buffer.y,n=i-e.buffer.ydisp;if(n<0||n>=e.rows)this._clearCursor();else{var r=e.buffer.lines.get(i)[e.buffer.x];if(r){if(!e.isFocused)return this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._renderBlurCursor(e,e.buffer.x,n,r),this._ctx.restore(),this._state.x=e.buffer.x,this._state.y=n,this._state.isFocused=!1,this._state.style=e.options.cursorStyle,void(this._state.width=r[o.CHAR_DATA_WIDTH_INDEX]);if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===e.buffer.x&&this._state.y===n&&this._state.isFocused===e.isFocused&&this._state.style===e.options.cursorStyle&&this._state.width===r[o.CHAR_DATA_WIDTH_INDEX])return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[e.options.cursorStyle||"block"](e,e.buffer.x,n,r),this._ctx.restore(),this._state.x=e.buffer.x,this._state.y=n,this._state.isFocused=!1,this._state.style=e.options.cursorStyle,this._state.width=r[o.CHAR_DATA_WIDTH_INDEX]}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this.clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:null,y:null,isFocused:null,style:null,width:null})},t.prototype._renderBarCursor=function(e,t,i,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillLeftLineAtCell(t,i),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,i,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillCells(t,i,n[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.fillStyle=this._colors.cursorAccent.css,this.fillCharTrueColor(e,n,t,i),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,i,n){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this.fillBottomLineAtCells(t,i),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,i,n){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this.strokeRectAtCell(t,i,n[o.CHAR_DATA_WIDTH_INDEX],1),this._ctx.restore()},t}(e("./BaseRenderLayer").BaseRenderLayer);i.CursorRenderLayer=s;var a=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e.isFocused&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.restartBlinkAnimation=function(e){var t=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=null})))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=setTimeout(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=null,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=null}),t._blinkInterval=setInterval(function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=null,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame(function(){t._renderCallback(),t._animationFrame=null})},600)},e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=null),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=null),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.resume=function(e){this._animationTimeRestarted=null,this._restartInterval(),this.restartBlinkAnimation(e)},e}()},{"../Buffer":2,"./BaseRenderLayer":22}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var i=0;i<e;i++){this.cache.length<=i&&this.cache.push([]);for(var n=this.cache[i].length;n<t;n++)this.cache[i].push(null);this.cache[i].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=null},e}();i.GridCache=n},{}],26:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Types"),s=function(e){function t(t,i,n,r){var s=e.call(this,t,"link",i,!0,n)||this;return s._state=null,r.linkifier.on(o.LinkHoverEventTypes.HOVER,function(e){return s._onLinkHover(e)}),r.linkifier.on(o.LinkHoverEventTypes.LEAVE,function(e){return s._onLinkLeave(e)}),s}return r(t,e),t.prototype.resize=function(t,i){e.prototype.resize.call(this,t,i),this._state=null},t.prototype.reset=function(e){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this.clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this.clearCells(0,this._state.y1+1,this._state.cols,e),this.clearCells(0,this._state.y2,this._state.x2,1),this._state=null}},t.prototype._onLinkHover=function(e){if(this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this.fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this.fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this.fillBottomLineAtCells(0,t,e.cols);this.fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onLinkLeave=function(e){this._clearCurrentLink()},t}(e("./BaseRenderLayer").BaseRenderLayer);i.LinkRenderLayer=s},{"../Types":17,"./BaseRenderLayer":22}],27:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("./TextRenderLayer"),s=e("./SelectionRenderLayer"),a=e("./CursorRenderLayer"),l=e("./ColorManager"),h=e("./LinkRenderLayer"),c=e("../EventEmitter"),u=e("../utils/RenderDebouncer"),d=e("../utils/ScreenDprMonitor"),f=function(e){function t(t,i){var n=e.call(this)||this;n._terminal=t,n._isPaused=!1,n._needsFullRefresh=!1;var r=n._terminal.options.allowTransparency;return n.colorManager=new l.ColorManager(document,r),i&&n.colorManager.setTheme(i),n._renderLayers=[new o.TextRenderLayer(n._terminal.screenElement,0,n.colorManager.colors,r),new s.SelectionRenderLayer(n._terminal.screenElement,1,n.colorManager.colors),new h.LinkRenderLayer(n._terminal.screenElement,2,n.colorManager.colors,n._terminal),new a.CursorRenderLayer(n._terminal.screenElement,3,n.colorManager.colors)],n.dimensions={scaledCharWidth:null,scaledCharHeight:null,scaledCellWidth:null,scaledCellHeight:null,scaledCharLeft:null,scaledCharTop:null,scaledCanvasWidth:null,scaledCanvasHeight:null,canvasWidth:null,canvasHeight:null,actualCellWidth:null,actualCellHeight:null},n._devicePixelRatio=window.devicePixelRatio,n._updateDimensions(),n.onOptionsChanged(),n._renderDebouncer=new u.RenderDebouncer(n._terminal,n._renderRows.bind(n)),n._screenDprMonitor=new d.ScreenDprMonitor,n._screenDprMonitor.setListener(function(){return n.onWindowResize(window.devicePixelRatio)}),"IntersectionObserver"in window&&new IntersectionObserver(function(e){return n.onIntersectionChange(e[0])},{threshold:0}).observe(n._terminal.element),n}return r(t,e),t.prototype.onIntersectionChange=function(e){this._isPaused=0===e.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&this._terminal.refresh(0,this._terminal.rows-1)},t.prototype.onWindowResize=function(e){this._devicePixelRatio!==e&&(this._devicePixelRatio=e,this.onResize(this._terminal.cols,this._terminal.rows))},t.prototype.setTheme=function(e){var t=this;return this.colorManager.setTheme(e),this._renderLayers.forEach(function(e){e.onThemeChanged(t._terminal,t.colorManager.colors),e.reset(t._terminal)}),this._isPaused?this._needsFullRefresh=!0:this._terminal.refresh(0,this._terminal.rows-1),this.colorManager.colors},t.prototype.onResize=function(e,t){var i=this;this._updateDimensions(),this._renderLayers.forEach(function(e){return e.resize(i._terminal,i.dimensions)}),this._isPaused?this._needsFullRefresh=!0:this._terminal.refresh(0,this._terminal.rows-1),this._terminal.screenElement.style.width=this.dimensions.canvasWidth+"px",this._terminal.screenElement.style.height=this.dimensions.canvasHeight+"px",this.emit("resize",{width:this.dimensions.canvasWidth,height:this.dimensions.canvasHeight})},t.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows)},t.prototype.onBlur=function(){var e=this;this._runOperation(function(t){return t.onBlur(e._terminal)})},t.prototype.onFocus=function(){var e=this;this._runOperation(function(t){return t.onFocus(e._terminal)})},t.prototype.onSelectionChanged=function(e,t){var i=this;this._runOperation(function(n){return n.onSelectionChanged(i._terminal,e,t)})},t.prototype.onCursorMove=function(){var e=this;this._runOperation(function(t){return t.onCursorMove(e._terminal)})},t.prototype.onOptionsChanged=function(){var e=this;this._runOperation(function(t){return t.onOptionsChanged(e._terminal)})},t.prototype.clear=function(){var e=this;this._runOperation(function(t){return t.reset(e._terminal)})},t.prototype._runOperation=function(e){this._isPaused?this._needsFullRefresh=!0:this._renderLayers.forEach(function(t){return e(t)})},t.prototype.refreshRows=function(e,t){this._isPaused?this._needsFullRefresh=!0:this._renderDebouncer.refresh(e,t)},t.prototype._renderRows=function(e,t){var i=this;this._renderLayers.forEach(function(n){return n.onGridChanged(i._terminal,e,t)}),this._terminal.emit("refresh",{start:e,end:t})},t.prototype._updateDimensions=function(){this._terminal.charMeasure.width&&this._terminal.charMeasure.height&&(this.dimensions.scaledCharWidth=Math.floor(this._terminal.charMeasure.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._terminal.charMeasure.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._terminal.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._terminal.cols)},t}(c.EventEmitter);i.Renderer=f},{"../EventEmitter":8,"../utils/RenderDebouncer":42,"../utils/ScreenDprMonitor":43,"./ColorManager":23,"./CursorRenderLayer":24,"./LinkRenderLayer":26,"./SelectionRenderLayer":28,"./TextRenderLayer":29}],28:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=function(e){function t(t,i,n){var r=e.call(this,t,"selection",i,!0,n)||this;return r._state={start:null,end:null},r}return r(t,e),t.prototype.resize=function(t,i){e.prototype.resize.call(this,t,i),this._state={start:null,end:null}},t.prototype.reset=function(e){this._state.start&&this._state.end&&(this._state={start:null,end:null},this.clearAll())},t.prototype.onSelectionChanged=function(e,t,i){if(this._state.start!==t&&this._state.end!==i&&(this.clearAll(),t&&i)){var n=t[1]-e.buffer.ydisp,r=i[1]-e.buffer.ydisp,o=Math.max(n,0),s=Math.min(r,e.rows-1);if(!(o>=e.rows||s<0)){var a=n===o?t[0]:0,l=o===s?i[0]:e.cols;this._ctx.fillStyle=this._colors.selection.css,this.fillCells(a,o,l-a,1);var h=Math.max(s-o-1,0);this.fillCells(0,o+1,e.cols,h),o!==s&&this.fillCells(0,s,r===s?i[0]:e.cols,1),this._state.start=[t[0],t[1]],this._state.end=[i[0],i[1]]}}},t}(e("./BaseRenderLayer").BaseRenderLayer);i.SelectionRenderLayer=o},{"./BaseRenderLayer":22}],29:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=e("../Buffer"),s=e("./Types"),a=e("./atlas/Types"),l=e("./GridCache"),h=function(e){function t(t,i,n,r){var o=e.call(this,t,"text",i,r,n)||this;return o._characterOverlapCache={},o._state=new l.GridCache,o}return r(t,e),t.prototype.resize=function(t,i){e.prototype.resize.call(this,t,i);var n=this._getFont(t,!1);this._characterWidth===i.scaledCharWidth&&this._characterFont===n||(this._characterWidth=i.scaledCharWidth,this._characterFont=n,this._characterOverlapCache={}),this._state.clear(),this._state.resize(t.cols,t.rows)},t.prototype.reset=function(e){this._state.clear(),this.clearAll()},t.prototype.onGridChanged=function(e,t,i){if(0!==this._state.cache.length)for(var n=t;n<=i;n++){var r=e.buffer.lines.get(n+e.buffer.ydisp);this.clearCells(0,n,e.cols,1);for(var l=0;l<e.cols;l++){var h=r[l],c=h[o.CHAR_DATA_CODE_INDEX],u=h[o.CHAR_DATA_CHAR_INDEX],d=h[o.CHAR_DATA_ATTR_INDEX],f=h[o.CHAR_DATA_WIDTH_INDEX];if(0!==f){if(32===c&&l>0&&this._isOverlapping(r[l-1]))continue;var p=d>>18,g=511&d,m=p&s.FLAGS.INVERSE;if(c&&(32!==c||!(g>=256)||m)&&!(p&s.FLAGS.INVISIBLE)){0!==f&&this._isOverlapping(h)&&l<r.length-1&&32===r[l+1][o.CHAR_DATA_CODE_INDEX]&&(f=2);var _=d>>9&511;if(m){var v=g;g=_,256===(_=v)&&(_=a.INVERTED_DEFAULT_COLOR),257===g&&(g=a.INVERTED_DEFAULT_COLOR)}g<256&&(this._ctx.save(),this._ctx.fillStyle=g===a.INVERTED_DEFAULT_COLOR?this._colors.foreground.css:this._colors.ansi[g].css,this.fillCells(l,n,f,1),this._ctx.restore()),this._ctx.save(),p&s.FLAGS.BOLD&&(this._ctx.font=this._getFont(e,!0),_<8&&(_+=8)),p&s.FLAGS.UNDERLINE&&(this._ctx.fillStyle=_===a.INVERTED_DEFAULT_COLOR?this._colors.background.css:_<256?this._colors.ansi[_].css:this._colors.foreground.css,this.fillBottomLineAtCells(l,n)),this.drawChar(e,u,c,f,l,n,_,g,!!(p&s.FLAGS.BOLD),!!(p&s.FLAGS.DIM)),this._ctx.restore()}}}}},t.prototype.onOptionsChanged=function(e){this.setTransparency(e,e.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e[o.CHAR_DATA_WIDTH_INDEX])return!1;if(e[o.CHAR_DATA_CODE_INDEX]<256)return!1;var t=e[o.CHAR_DATA_CHAR_INDEX];if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var i=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=i,i},t}(e("./BaseRenderLayer").BaseRenderLayer);i.TextRenderLayer=h},{"../Buffer":2,"./BaseRenderLayer":22,"./GridCache":25,"./Types":30,"./atlas/Types":33}],30:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(e){e[e.BOLD=1]="BOLD",e[e.UNDERLINE=2]="UNDERLINE",e[e.BLINK=4]="BLINK",e[e.INVERSE=8]="INVERSE",e[e.INVISIBLE=16]="INVISIBLE",e[e.DIM=32]="DIM"}(i.FLAGS||(i.FLAGS={}))},{}],31:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("../../shared/atlas/CharAtlasGenerator"),r=e("./CharAtlasUtils"),o=[];i.acquireCharAtlas=function(e,t,i,s){for(var a=r.generateConfig(i,s,e,t),l=0;l<o.length;l++){var h=(c=o[l]).ownedBy.indexOf(e);if(h>=0){if(r.configEquals(c.config,a))return c.bitmap;1===c.ownedBy.length?o.splice(l,1):c.ownedBy.splice(h,1);break}}for(l=0;l<o.length;l++){var c;if(r.configEquals((c=o[l]).config,a))return c.ownedBy.push(e),c.bitmap}var u={bitmap:n.generateCharAtlas(window,function(e,t){var i=document.createElement("canvas");return i.width=e,i.height=t,i},a),config:a,ownedBy:[e]};return o.push(u),u.bitmap}},{"../../shared/atlas/CharAtlasGenerator":34,"./CharAtlasUtils":32}],32:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.generateConfig=function(e,t,i,n){var r={foreground:n.foreground,background:n.background,cursor:null,cursorAccent:null,selection:null,ansi:n.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:i.options.fontFamily,fontSize:i.options.fontSize,fontWeight:i.options.fontWeight,fontWeightBold:i.options.fontWeightBold,allowTransparency:i.options.allowTransparency,colors:r}},i.configEquals=function(e,t){for(var i=0;i<e.colors.ansi.length;i++)if(e.colors.ansi[i].rgba!==t.colors.ansi[i].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background}},{}],33:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.INVERTED_DEFAULT_COLOR=-1,i.DIM_OPACITY=.5},{}],34:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./Types"),r=e("../utils/Browser");function o(e,t){return e+" "+t.fontSize*t.devicePixelRatio+"px "+t.fontFamily}i.generateCharAtlas=function(e,t,i){var s=i.scaledCharWidth+n.CHAR_ATLAS_CELL_SPACING,a=i.scaledCharHeight+n.CHAR_ATLAS_CELL_SPACING,l=t(255*s,18*a),h=l.getContext("2d",{alpha:i.allowTransparency});h.fillStyle=i.colors.background.css,h.fillRect(0,0,l.width,l.height),h.save(),h.fillStyle=i.colors.foreground.css,h.font=o(i.fontWeight,i),h.textBaseline="top";for(var c=0;c<256;c++)h.save(),h.beginPath(),h.rect(c*s,0,s,a),h.clip(),h.fillText(String.fromCharCode(c),c*s,0),h.restore();for(h.save(),h.font=o(i.fontWeightBold,i),c=0;c<256;c++)h.save(),h.beginPath(),h.rect(c*s,a,s,a),h.clip(),h.fillText(String.fromCharCode(c),c*s,a),h.restore();h.restore(),h.font=o(i.fontWeight,i);for(var u=0;u<16;u++){8===u&&(h.font=o(i.fontWeightBold,i));var d=(u+2)*a;for(c=0;c<256;c++)h.save(),h.beginPath(),h.rect(c*s,d,s,a),h.clip(),h.fillStyle=i.colors.ansi[u].css,h.fillText(String.fromCharCode(c),c*s,d),h.restore()}if(h.restore(),!("createImageBitmap"in e)||r.isFirefox)return l instanceof HTMLCanvasElement?l:new Promise(function(e){return e(l.transferToImageBitmap())});var f=h.getImageData(0,0,l.width,l.height);return function(e,t,i,n){for(var r=0;r<e.data.length;r+=4)e.data[r]===t&&e.data[r+1]===i&&e.data[r+2]===n&&(e.data[r+3]=0)}(f,i.colors.background.rgba>>>24,i.colors.background.rgba>>>16&255,i.colors.background.rgba>>>8&255),e.createImageBitmap(f)}},{"../utils/Browser":36,"./Types":35}],35:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR_ATLAS_CELL_SPACING=1},{}],36:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n="undefined"==typeof navigator,r=n?"node":navigator.userAgent,o=n?"node":navigator.platform;function s(e,t){return e.indexOf(t)>=0}i.isFirefox=!!~r.indexOf("Firefox"),i.isMSIE=!!~r.indexOf("MSIE")||!!~r.indexOf("Trident"),i.isMac=s(["Macintosh","MacIntel","MacPPC","Mac68K"],o),i.isIpad="iPad"===o,i.isIphone="iPhone"===o,i.isMSWindows=s(["Windows","Win16","Win32","WinCE"],o),i.isLinux=o.indexOf("Linux")>=0},{}],37:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=function(e){function t(t,i){var n=e.call(this)||this;return n._document=t,n._parentElement=i,n._measureElement=n._document.createElement("span"),n._measureElement.classList.add("xterm-char-measure-element"),n._measureElement.textContent="W",n._measureElement.setAttribute("aria-hidden","true"),n._parentElement.appendChild(n._measureElement),n}return r(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){this._measureElement.style.fontFamily=e.fontFamily,this._measureElement.style.fontSize=e.fontSize+"px";var t=this._measureElement.getBoundingClientRect();0!==t.width&&0!==t.height&&(this._width===t.width&&this._height===t.height||(this._width=t.width,this._height=Math.ceil(t.height),this.emit("charsizechanged")))},t}(e("../EventEmitter").EventEmitter);i.CharMeasure=o},{"../EventEmitter":8}],38:[function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var o=function(e){function t(t){var i=e.call(this)||this;return i._maxLength=t,i._array=new Array(i._maxLength),i._startIndex=0,i._length=0,i}return r(t,e),Object.defineProperty(t.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),i=0;i<Math.min(e,this.length);i++)t[i]=this._array[this._getCyclicIndex(i)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!0,configurable:!0}),t.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},t.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},t.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex++,this._startIndex===this._maxLength&&(this._startIndex=0),this.emit("trim",1)):this._length++},t.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},t.prototype.splice=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}if(i&&i.length){for(r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+i.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<i.length;r++)this._array[this._getCyclicIndex(e+r)]=i[r];if(this._length+i.length>this.maxLength){var o=this._length+i.length-this.maxLength;this._startIndex+=o,this._length=this.maxLength,this.emit("trim",o)}else this._length+=i.length}},t.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.emit("trim",e)},t.prototype.shiftElements=function(e,t,i){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(var n=t-1;n>=0;n--)this.set(e+n+i,this.get(e+n));var r=e+t+i-this._length;if(r>0)for(this._length+=r;this._length>this.maxLength;)this._length--,this._startIndex++,this.emit("trim",1)}else for(n=0;n<t;n++)this.set(e+n+i,this.get(e+n))}},t.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this.maxLength},t}(e("../EventEmitter").EventEmitter);i.CircularList=o},{"../EventEmitter":8}],39:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.clone=function(e,t){if(void 0===t&&(t=5),"object"!=typeof e)return e;if(null===e)return null;var n=Array.isArray(e)?[]:{};for(var r in e)n[r]=t<=1?e[r]:i.clone(e[r],t-1);return n}},{}],40:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableListener=function(e,t,i,n){return e.addEventListener(t,i,n),{dispose:function(){i&&(e.removeEventListener(t,i,n),e=null,i=null)}}}},{}],41:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e){this._renderer=e}return e.getCoordsRelativeToElement=function(e,t){if(null==e.pageX)return null;for(var i=t,n=e.pageX,r=e.pageY;t;)n-=t.offsetLeft,r-=t.offsetTop,t=t.offsetParent;for(t=i;t&&t!==t.ownerDocument.body;)n+=t.scrollLeft,r+=t.scrollTop,t=t.parentElement;return[n,r]},e.prototype.getCoords=function(t,i,n,r,o,s,a){if(!n.width||!n.height)return null;var l=e.getCoordsRelativeToElement(t,i);return l?(l[0]=Math.ceil((l[0]+(a?this._renderer.dimensions.actualCellWidth/2:0))/this._renderer.dimensions.actualCellWidth),l[1]=Math.ceil(l[1]/this._renderer.dimensions.actualCellHeight),l[0]=Math.min(Math.max(l[0],1),o+(a?1:0)),l[1]=Math.min(Math.max(l[1],1),s),l):null},e.prototype.getRawByteCoords=function(e,t,i,n,r,o){var s=this.getCoords(e,t,i,n,r,o),a=s[0],l=s[1];return{x:a+=32,y:l+=32}},e}();i.MouseHelper=n},{}],42:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e,t){this._terminal=e,this._callback=t,this._animationFrame=null}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=null)},e.prototype.refresh=function(e,t){var i=this;e=e||0,t=t||this._terminal.rows-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame(function(){return i._innerRefresh()}))},e.prototype._innerRefresh=function(){this._rowStart=Math.max(this._rowStart,0),this._rowEnd=Math.min(this._rowEnd,this._terminal.rows-1),this._callback(this._rowStart,this._rowEnd),this._rowStart=null,this._rowEnd=null,this._animationFrame=null},e}();i.RenderDebouncer=n},{}],43:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr()},this._updateDpr()},e.prototype._updateDpr=function(){this._resolutionMediaMatchList&&this._resolutionMediaMatchList.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener)},e.prototype.clearListener=function(){this._listener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._listener=null,this._outerListener=null)},e}();i.ScreenDprMonitor=n},{}],44:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=e("./Terminal");t.exports=n.Terminal},{"./Terminal":16}]},{},[44])(44)}),function(q){var H,I,J,K,L,M,u,s={},v={},w={},N={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{isParent:"isParent",children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},x=[function(e){var t=e.treeObj,i=f.event;t.bind(i.NODECREATED,function(t,i,n){j.apply(e.callback.onNodeCreated,[t,i,n])}),t.bind(i.CLICK,function(t,i,n,r,o){j.apply(e.callback.onClick,[i,n,r,o])}),t.bind(i.EXPAND,function(t,i,n){j.apply(e.callback.onExpand,[t,i,n])}),t.bind(i.COLLAPSE,function(t,i,n){j.apply(e.callback.onCollapse,[t,i,n])}),t.bind(i.ASYNC_SUCCESS,function(t,i,n,r){j.apply(e.callback.onAsyncSuccess,[t,i,n,r])}),t.bind(i.ASYNC_ERROR,function(t,i,n,r,o,s){j.apply(e.callback.onAsyncError,[t,i,n,r,o,s])}),t.bind(i.REMOVE,function(t,i,n){j.apply(e.callback.onRemove,[t,i,n])}),t.bind(i.SELECTED,function(t,i,n){j.apply(e.callback.onSelected,[i,n])}),t.bind(i.UNSELECTED,function(t,i,n){j.apply(e.callback.onUnSelected,[i,n])})}],y=[function(e){var t=f.event;e.treeObj.unbind(t.NODECREATED).unbind(t.CLICK).unbind(t.EXPAND).unbind(t.COLLAPSE).unbind(t.ASYNC_SUCCESS).unbind(t.ASYNC_ERROR).unbind(t.REMOVE).unbind(t.SELECTED).unbind(t.UNSELECTED)}],z=[function(t){var i=e.getCache(t);i||e.setCache(t,i={}),i.nodes=[],i.doms=[]}],A=[function(t,i,n,r,o,s){if(n){var a=e.getRoot(t),l=e.nodeChildren(t,n);n.level=i,n.tId=t.treeId+"_"+ ++a.zId,n.parentTId=r?r.tId:null,n.open="string"==typeof n.open?j.eqs(n.open,"true"):!!n.open,i=e.nodeIsParent(t,n),j.isArray(l)&&!(!1===i||"string"==typeof i&&j.eqs(i,"false"))?(e.nodeIsParent(t,n,!0),n.zAsync=!0):(i=e.nodeIsParent(t,n,i),n.open=!(!i||t.async.enable)&&n.open,n.zAsync=!i),n.isFirstNode=o,n.isLastNode=s,n.getParentNode=function(){return e.getNodeCache(t,n.parentTId)},n.getPreNode=function(){return e.getPreNode(t,n)},n.getNextNode=function(){return e.getNextNode(t,n)},n.getIndex=function(){return e.getNodeIndex(t,n)},n.getPath=function(){return e.getNodePath(t,n)},n.isAjaxing=!1,e.fixPIdKeyValue(t,n)}}],t=[function(t){var i=t.target,n=e.getSetting(t.data.treeId),r="",o=null,s="",a="",l=null,h=null,c=null;if(j.eqs(t.type,"mousedown")?a="mousedown":j.eqs(t.type,"mouseup")?a="mouseup":j.eqs(t.type,"contextmenu")?a="contextmenu":j.eqs(t.type,"click")?j.eqs(i.tagName,"span")&&null!==i.getAttribute("treeNode"+f.id.SWITCH)?(r=j.getNodeMainDom(i).id,s="switchNode"):(c=j.getMDom(n,i,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(r=j.getNodeMainDom(c).id,s="clickNode"):j.eqs(t.type,"dblclick")&&(a="dblclick",c=j.getMDom(n,i,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(r=j.getNodeMainDom(c).id,s="switchNode"),a.length>0&&0==r.length&&(c=j.getMDom(n,i,[{tagName:"a",attrName:"treeNode"+f.id.A}]))&&(r=j.getNodeMainDom(c).id),r.length>0)switch(o=e.getNodeCache(n,r),s){case"switchNode":e.nodeIsParent(n,o)&&(j.eqs(t.type,"click")||j.eqs(t.type,"dblclick")&&j.apply(n.view.dblClickExpand,[n.treeId,o],n.view.dblClickExpand))?l=H:s="";break;case"clickNode":l=I}switch(a){case"mousedown":h=J;break;case"mouseup":h=K;break;case"dblclick":h=L;break;case"contextmenu":h=M}return{stop:!1,node:o,nodeEventType:s,nodeEventCallback:l,treeEventType:a,treeEventCallback:h}}],B=[function(t){var i=e.getRoot(t);i||e.setRoot(t,i={}),e.nodeChildren(t,i,[]),i.expandTriggerFlag=!1,i.curSelectedList=[],i.noSelection=!0,i.createdNodes=[],i.zId=0,i._ver=(new Date).getTime()}],C=[],D=[],E=[],F=[],G=[],e={addNodeCache:function(t,i){e.getCache(t).nodes[e.getNodeCacheId(i.tId)]=i},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){D.push(e)},addBeforeA:function(e){C.push(e)},addInnerAfterA:function(e){F.push(e)},addInnerBeforeA:function(e){E.push(e)},addInitBind:function(e){x.push(e)},addInitUnBind:function(e){y.push(e)},addInitCache:function(e){z.push(e)},addInitNode:function(e){A.push(e)},addInitProxy:function(e,i){i?t.splice(0,0,e):t.push(e)},addInitRoot:function(e){B.push(e)},addNodesData:function(t,n,r,o){var s=e.nodeChildren(t,n);s?r>=s.length&&(r=-1):(s=e.nodeChildren(t,n,[]),r=-1),s.length>0&&0===r?(s[0].isFirstNode=!1,i.setNodeLineIcos(t,s[0])):s.length>0&&r<0&&(s[s.length-1].isLastNode=!1,i.setNodeLineIcos(t,s[s.length-1])),e.nodeIsParent(t,n,!0),r<0?e.nodeChildren(t,n,s.concat(o)):(t=[r,0].concat(o),s.splice.apply(s,t))},addSelectedNode:function(t,i){var n=e.getRoot(t);e.isSelectedNode(t,i)||n.curSelectedList.push(i)},addCreatedNode:function(t,i){(t.callback.onNodeCreated||t.view.addDiyDom)&&e.getRoot(t).createdNodes.push(i)},addZTreeTools:function(e){G.push(e)},exSetting:function(e){q.extend(!0,N,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,i){for(var n=0,r=D.length;n<r;n++)D[n].apply(this,arguments)},getBeforeA:function(e,t,i){for(var n=0,r=C.length;n<r;n++)C[n].apply(this,arguments)},getInnerAfterA:function(e,t,i){for(var n=0,r=F.length;n<r;n++)F[n].apply(this,arguments)},getInnerBeforeA:function(e,t,i){for(var n=0,r=E.length;n<r;n++)E[n].apply(this,arguments)},getCache:function(e){return w[e.treeId]},getNodeIndex:function(t,i){if(!i)return null;for(var n=i.parentTId?i.getParentNode():e.getRoot(t),r=0,o=(n=e.nodeChildren(t,n)).length-1;r<=o;r++)if(n[r]===i)return r;return-1},getNextNode:function(t,i){if(!i)return null;for(var n=i.parentTId?i.getParentNode():e.getRoot(t),r=0,o=(n=e.nodeChildren(t,n)).length-1;r<=o;r++)if(n[r]===i)return r==o?null:n[r+1];return null},getNodeByParam:function(t,i,n,r){if(!i||!n)return null;for(var o=0,s=i.length;o<s;o++){var a=i[o];if(a[n]==r)return i[o];if(a=e.nodeChildren(t,a),a=e.getNodeByParam(t,a,n,r))return a}return null},getNodeCache:function(t,i){return i&&w[t.treeId].nodes[e.getNodeCacheId(i)]||null},getNodePath:function(e,t){return t?((i=t.parentTId?t.getParentNode().getPath():[])&&i.push(t),i):null;var i},getNodes:function(t){return e.nodeChildren(t,e.getRoot(t))},getNodesByParam:function(t,i,n,r){if(!i||!n)return[];for(var o=[],s=0,a=i.length;s<a;s++){var l=i[s];l[n]==r&&o.push(l),l=e.nodeChildren(t,l),o=o.concat(e.getNodesByParam(t,l,n,r))}return o},getNodesByParamFuzzy:function(t,i,n,r){if(!i||!n)return[];for(var o=[],s=(r=r.toLowerCase(),0),a=i.length;s<a;s++){var l=i[s];"string"==typeof l[n]&&i[s][n].toLowerCase().indexOf(r)>-1&&o.push(l),l=e.nodeChildren(t,l),o=o.concat(e.getNodesByParamFuzzy(t,l,n,r))}return o},getNodesByFilter:function(t,i,n,r,o){if(!i)return r?null:[];for(var s=r?null:[],a=0,l=i.length;a<l;a++){var h=i[a];if(j.apply(n,[h,o],!1)){if(r)return h;s.push(h)}if(h=e.nodeChildren(t,h),h=e.getNodesByFilter(t,h,n,r,o),r&&h)return h;s=r?h:s.concat(h)}return s},getPreNode:function(t,i){if(!i)return null;for(var n=i.parentTId?i.getParentNode():e.getRoot(t),r=0,o=(n=e.nodeChildren(t,n)).length;r<o;r++)if(n[r]===i)return 0==r?null:n[r-1];return null},getRoot:function(e){return e?v[e.treeId]:null},getRoots:function(){return v},getSetting:function(e){return s[e]},getSettings:function(){return s},getZTreeTools:function(e){return(e=this.getRoot(this.getSetting(e)))?e.treeTools:null},initCache:function(e){for(var t=0,i=z.length;t<i;t++)z[t].apply(this,arguments)},initNode:function(e,t,i,n,r,o){for(var s=0,a=A.length;s<a;s++)A[s].apply(this,arguments)},initRoot:function(e){for(var t=0,i=B.length;t<i;t++)B[t].apply(this,arguments)},isSelectedNode:function(t,i){for(var n=e.getRoot(t),r=0,o=n.curSelectedList.length;r<o;r++)if(i===n.curSelectedList[r])return!0;return!1},nodeChildren:function(e,t,i){return t?(e=e.data.key.children,"undefined"!=typeof i&&(t[e]=i),t[e]):null},nodeIsParent:function(e,t,i){return!!t&&(e=e.data.key.isParent,"undefined"!=typeof i&&("string"==typeof i&&(i=j.eqs(i,"true")),t[e]=!!i),t[e])},nodeName:function(e,t,i){return e=e.data.key.name,"undefined"!=typeof i&&(t[e]=i),""+t[e]},nodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},removeNodeCache:function(t,i){var n=e.nodeChildren(t,i);if(n)for(var r=0,o=n.length;r<o;r++)e.removeNodeCache(t,n[r]);e.getCache(t).nodes[e.getNodeCacheId(i.tId)]=null},removeSelectedNode:function(t,i){for(var n=e.getRoot(t),r=0,o=n.curSelectedList.length;r<o;r++)i!==n.curSelectedList[r]&&e.getNodeCache(t,n.curSelectedList[r].tId)||(n.curSelectedList.splice(r,1),t.treeObj.trigger(f.event.UNSELECTED,[t.treeId,i]),r--,o--)},setCache:function(e,t){w[e.treeId]=t},setRoot:function(e,t){v[e.treeId]=t},setZTreeTools:function(e,t){for(var i=0,n=G.length;i<n;i++)G[i].apply(this,arguments)},transformToArrayFormat:function(t,i){function n(i){r.push(i),(i=e.nodeChildren(t,i))&&(r=r.concat(e.transformToArrayFormat(t,i)))}if(!i)return[];var r=[];if(j.isArray(i))for(var o=0,s=i.length;o<s;o++)n(i[o]);else n(i);return r},transformTozTreeFormat:function(t,i){var n,r,o=t.data.simpleData.idKey,s=t.data.simpleData.pIdKey;if(!o||""==o||!i)return[];if(j.isArray(i)){var a=[],l={};for(n=0,r=i.length;n<r;n++)l[i[n][o]]=i[n];for(n=0,r=i.length;n<r;n++){var h=l[i[n][s]];if(h&&i[n][o]!=i[n][s]){var c=e.nodeChildren(t,h);c||(c=e.nodeChildren(t,h,[])),c.push(i[n])}else a.push(i[n])}return a}return[i]}},n={bindEvent:function(e){for(var t=0,i=x.length;t<i;t++)x[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,i=y.length;t<i;t++)y[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},i=e.treeObj;e.view.txtSelectedEnable||i.bind("selectstart",u).css({"-moz-user-select":"-moz-none"}),i.bind("click",t,n.proxy),i.bind("dblclick",t,n.proxy),i.bind("mouseover",t,n.proxy),i.bind("mouseout",t,n.proxy),i.bind("mousedown",t,n.proxy),i.bind("mouseup",t,n.proxy),i.bind("contextmenu",t,n.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",u).unbind("click",n.proxy).unbind("dblclick",n.proxy).unbind("mouseover",n.proxy).unbind("mouseout",n.proxy).unbind("mousedown",n.proxy).unbind("mouseup",n.proxy).unbind("contextmenu",n.proxy)},doProxy:function(e){for(var i=[],n=0,r=t.length;n<r;n++){var o=t[n].apply(this,arguments);if(i.push(o),o.stop)break}return i},proxy:function(t){var i=e.getSetting(t.data.treeId);if(!j.uCanDo(i,t))return!0;for(var r=!0,o=0,s=(i=n.doProxy(t)).length;o<s;o++){var a=i[o];a.nodeEventCallback&&(r=a.nodeEventCallback.apply(a,[t,a.node])&&r),a.treeEventCallback&&(r=a.treeEventCallback.apply(a,[t,a.node])&&r)}return r}};H=function(t,n){var r=e.getSetting(t.data.treeId);if(n.open){if(0==j.apply(r.callback.beforeCollapse,[r.treeId,n],!0))return!0}else if(0==j.apply(r.callback.beforeExpand,[r.treeId,n],!0))return!0;return e.getRoot(r).expandTriggerFlag=!0,i.switchNode(r,n),!0},I=function(t,n){var r=e.getSetting(t.data.treeId),o=r.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&e.isSelectedNode(r,n)?0:r.view.autoCancelSelected&&(t.ctrlKey||t.metaKey)&&r.view.selectedMulti?2:1;return 0==j.apply(r.callback.beforeClick,[r.treeId,n,o],!0)||(0===o?i.cancelPreSelectedNode(r,n):i.selectNode(r,n,2===o),r.treeObj.trigger(f.event.CLICK,[t,r.treeId,n,o]),!0)},J=function(t,i){var n=e.getSetting(t.data.treeId);return j.apply(n.callback.beforeMouseDown,[n.treeId,i],!0)&&j.apply(n.callback.onMouseDown,[t,n.treeId,i]),!0},K=function(t,i){var n=e.getSetting(t.data.treeId);return j.apply(n.callback.beforeMouseUp,[n.treeId,i],!0)&&j.apply(n.callback.onMouseUp,[t,n.treeId,i]),!0},L=function(t,i){var n=e.getSetting(t.data.treeId);return j.apply(n.callback.beforeDblClick,[n.treeId,i],!0)&&j.apply(n.callback.onDblClick,[t,n.treeId,i]),!0},M=function(t,i){var n=e.getSetting(t.data.treeId);return j.apply(n.callback.beforeRightClick,[n.treeId,i],!0)&&j.apply(n.callback.onRightClick,[t,n.treeId,i]),"function"!=typeof n.callback.onRightClick},u=function(e){return"input"===(e=e.originalEvent.srcElement.nodeName.toLowerCase())||"textarea"===e};var j={apply:function(e,t,i){return"function"==typeof e?e.apply(O,t||[]):i},canAsync:function(t,i){var n=e.nodeChildren(t,i),r=e.nodeIsParent(t,i);return t.async.enable&&i&&r&&!(i.zAsync||n&&n.length>0)},clone:function(e){if(null===e)return null;var t,i=j.isArray(e)?[]:{};for(t in e)i[t]=e[t]instanceof Date?new Date(e[t].getTime()):"object"==typeof e[t]?j.clone(e[t]):e[t];return i},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},$:function(e,t,i){return t&&"string"!=typeof t&&(i=t,t=""),"string"==typeof e?q(e,i?i.treeObj.get(0).ownerDocument:null):q("#"+e.tId+t,i?i.treeObj:null)},getMDom:function(e,t,i){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var n=0,r=i.length;t.tagName&&n<r;n++)if(j.eqs(t.tagName,i[n].tagName)&&null!==t.getAttribute(i[n].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return q(e).parent("li").get(0)||q(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return q(e).closest("#"+t).length>0},uCanDo:function(){return!0}},i={addNodes:function(t,n,r,o,s){var a=e.nodeIsParent(t,n);if(!t.data.keep.leaf||!n||a)if(j.isArray(o)||(o=[o]),t.data.simpleData.enable&&(o=e.transformTozTreeFormat(t,o)),n){a=l(n,f.id.SWITCH,t);var h=l(n,f.id.ICON,t),c=l(n,f.id.UL,t);n.open||(i.replaceSwitchClass(n,a,f.folder.CLOSE),i.replaceIcoClass(n,h,f.folder.CLOSE),n.open=!1,c.css({display:"none"})),e.addNodesData(t,n,r,o),i.createNodes(t,n.level+1,o,n,r),s||i.expandCollapseParentNode(t,n,!0)}else e.addNodesData(t,e.getRoot(t),r,o),i.createNodes(t,0,o,null,r)},appendNodes:function(t,n,r,o,s,a,l){if(!r)return[];var h,c,u=[],d=o||e.getRoot(t);(!(d=e.nodeChildren(t,d))||s>=d.length-r.length)&&(s=-1);for(var f=0,p=r.length;f<p;f++){var g=r[f];a&&(e.initNode(t,n,g,o,h=(0===s||d.length==r.length)&&0==f,c=s<0&&f==r.length-1,l),e.addNodeCache(t,g)),h=e.nodeIsParent(t,g),c=[];var m=e.nodeChildren(t,g);m&&m.length>0&&(c=i.appendNodes(t,n+1,m,g,-1,a,l&&g.open)),l&&(i.makeDOMNodeMainBefore(u,t,g),i.makeDOMNodeLine(u,t,g),e.getBeforeA(t,g,u),i.makeDOMNodeNameBefore(u,t,g),e.getInnerBeforeA(t,g,u),i.makeDOMNodeIcon(u,t,g),e.getInnerAfterA(t,g,u),i.makeDOMNodeNameAfter(u,t,g),e.getAfterA(t,g,u),h&&g.open&&i.makeUlHtml(t,g,u,c.join("")),i.makeDOMNodeMainAfter(u,t,g),e.addCreatedNode(t,g))}return u},appendParentULDom:function(t,n){var r=[],o=l(n,t);!o.get(0)&&n.parentTId&&(i.appendParentULDom(t,n.getParentNode()),o=l(n,t));var s=l(n,f.id.UL,t);s.get(0)&&s.remove(),s=e.nodeChildren(t,n),s=i.appendNodes(t,n.level+1,s,n,-1,!1,!0),i.makeUlHtml(t,n,r,s.join("")),o.append(r.join(""))},asyncNode:function(a,b,c,d){var g,h;if(g=e.nodeIsParent(a,b),b&&!g)return j.apply(d),!1;if(b&&b.isAjaxing)return!1;if(0==j.apply(a.callback.beforeAsync,[a.treeId,b],!0))return j.apply(d),!1;b&&(b.isAjaxing=!0,l(b,f.id.ICON,a).attr({style:"",class:f.className.BUTTON+" "+f.className.ICO_LOADING}));var k={},m=j.apply(a.async.autoParam,[a.treeId,b],a.async.autoParam);for(g=0,h=m.length;b&&g<h;g++){var r=m[g].split("="),o=r;r.length>1&&(o=r[1],r=r[0]),k[o]=b[r]}if(m=j.apply(a.async.otherParam,[a.treeId,b],a.async.otherParam),j.isArray(m))for(g=0,h=m.length;g<h;g+=2)k[m[g]]=m[g+1];else for(var n in m)k[n]=m[n];var P=e.getRoot(a)._ver;return q.ajax({contentType:a.async.contentType,cache:!1,type:a.async.type,url:j.apply(a.async.url,[a.treeId,b],a.async.url),data:a.async.contentType.indexOf("application/json")>-1?JSON.stringify(k):k,dataType:a.async.dataType,success:function(h){if(P==e.getRoot(a)._ver){var k=[];try{k=h&&0!=h.length?"string"==typeof h?eval("("+h+")"):h:[]}catch(e){k=h}b&&(b.isAjaxing=null,b.zAsync=!0),i.setNodeLineIcos(a,b),k&&""!==k?(k=j.apply(a.async.dataFilter,[a.treeId,b,k],k),i.addNodes(a,b,-1,k?j.clone(k):[],!!c)):i.addNodes(a,b,-1,[],!!c),a.treeObj.trigger(f.event.ASYNC_SUCCESS,[a.treeId,b,h]),j.apply(d)}},error:function(t,n,r){P==e.getRoot(a)._ver&&(b&&(b.isAjaxing=null),i.setNodeLineIcos(a,b),a.treeObj.trigger(f.event.ASYNC_ERROR,[a.treeId,b,t,n,r]))}}),!0},cancelPreSelectedNode:function(t,i,n){var r,o,s=e.getRoot(t).curSelectedList;for(r=s.length-1;r>=0;r--)if(i===(o=s[r])||!i&&(!n||n!==o)){if(l(o,f.id.A,t).removeClass(f.node.CURSELECTED),i){e.removeSelectedNode(t,i);break}s.splice(r,1),t.treeObj.trigger(f.event.UNSELECTED,[t.treeId,o])}},createNodeCallback:function(t){if(t.callback.onNodeCreated||t.view.addDiyDom)for(var i=e.getRoot(t);i.createdNodes.length>0;){var n=i.createdNodes.shift();j.apply(t.view.addDiyDom,[t.treeId,n]),t.callback.onNodeCreated&&t.treeObj.trigger(f.event.NODECREATED,[t.treeId,n])}},createNodes:function(t,n,r,o,s){if(r&&0!=r.length){var a,h,c=e.getRoot(t),u=!o||o.open||!!l(e.nodeChildren(t,o)[0],t).get(0);c.createdNodes=[],n=i.appendNodes(t,n,r,o,s,!0,u),o?(o=l(o,f.id.UL,t)).get(0)&&(a=o):a=t.treeObj,a&&(s>=0&&(h=a.children()[s]),s>=0&&h?q(h).before(n.join("")):a.append(n.join(""))),i.createNodeCallback(t)}},destroy:function(t){t&&(e.initCache(t),e.initRoot(t),n.unbindTree(t),n.unbindEvent(t),t.treeObj.empty(),delete s[t.treeId])},expandCollapseNode:function(t,n,r,o,s){var a,h=e.getRoot(t);if(n){var c=e.nodeChildren(t,n),u=e.nodeIsParent(t,n);if(h.expandTriggerFlag&&(a=s,s=function(){a&&a(),t.treeObj.trigger(n.open?f.event.EXPAND:f.event.COLLAPSE,[t.treeId,n])},h.expandTriggerFlag=!1),!n.open&&u&&(!l(n,f.id.UL,t).get(0)||c&&c.length>0&&!l(c[0],t).get(0))&&(i.appendParentULDom(t,n),i.createNodeCallback(t)),n.open==r)j.apply(s,[]);else{r=l(n,f.id.UL,t),h=l(n,f.id.SWITCH,t);var d=l(n,f.id.ICON,t);u?(n.open=!n.open,n.iconOpen&&n.iconClose&&d.attr("style",i.makeNodeIcoStyle(t,n)),n.open?(i.replaceSwitchClass(n,h,f.folder.OPEN),i.replaceIcoClass(n,d,f.folder.OPEN),0==o||""==t.view.expandSpeed?(r.show(),j.apply(s,[])):c&&c.length>0?r.slideDown(t.view.expandSpeed,s):(r.show(),j.apply(s,[]))):(i.replaceSwitchClass(n,h,f.folder.CLOSE),i.replaceIcoClass(n,d,f.folder.CLOSE),0!=o&&""!=t.view.expandSpeed&&c&&c.length>0?r.slideUp(t.view.expandSpeed,s):(r.hide(),j.apply(s,[])))):j.apply(s,[])}}else j.apply(s,[])},expandCollapseParentNode:function(e,t,n,r,o){t&&(t.parentTId?(i.expandCollapseNode(e,t,n,r),t.parentTId&&i.expandCollapseParentNode(e,t.getParentNode(),n,r,o)):i.expandCollapseNode(e,t,n,r,o))},expandCollapseSonNode:function(t,n,r,o,s){var a=e.getRoot(t),l=(a=e.nodeChildren(t,n||a),!n&&o),h=e.getRoot(t).expandTriggerFlag;if(e.getRoot(t).expandTriggerFlag=!1,a)for(var c=0,u=a.length;c<u;c++)a[c]&&i.expandCollapseSonNode(t,a[c],r,l);e.getRoot(t).expandTriggerFlag=h,i.expandCollapseNode(t,n,r,o,s)},isSelectedNode:function(t,i){if(!i)return!1;var n,r=e.getRoot(t).curSelectedList;for(n=r.length-1;n>=0;n--)if(i===r[n])return!0;return!1},makeDOMNodeIcon:function(t,n,r){var o=e.nodeName(n,r);o=n.view.nameIsHTML?o:o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.push("<span id='",r.tId,f.id.ICON,"' title='' treeNode",f.id.ICON," class='",i.makeNodeIcoClass(n,r),"' style='",i.makeNodeIcoStyle(n,r),"'></span><span id='",r.tId,f.id.SPAN,"' class='",f.className.NAME,"'>",o,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,f.id.SWITCH,"' title='' class='",i.makeNodeLineClass(t,n),"' treeNode",f.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,i){e.push("<li id='",i.tId,"' class='",f.className.LEVEL,i.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e){e.push("</a>")},makeDOMNodeNameBefore:function(t,n,r){var o,s=e.nodeTitle(n,r),a=i.makeNodeUrl(n,r),l=i.makeNodeFontCss(n,r),h=[];for(o in l)h.push(o,":",l[o],";");t.push("<a id='",r.tId,f.id.A,"' class='",f.className.LEVEL,r.level,"' treeNode",f.id.A,' onclick="',r.click||"",'" ',null!=a&&a.length>0?"href='"+a+"'":""," target='",i.makeNodeTarget(r),"' style='",h.join(""),"'"),j.apply(n.view.showTitle,[n.treeId,r],n.view.showTitle)&&s&&t.push("title='",s.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),t.push(">")},makeNodeFontCss:function(e,t){var i=j.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return i&&"function"!=typeof i?i:{}},makeNodeIcoClass:function(t,i){var n=["ico"];if(!i.isAjaxing){var r=e.nodeIsParent(t,i);n[0]=(i.iconSkin?i.iconSkin+"_":"")+n[0],n.push(r?i.open?f.folder.OPEN:f.folder.CLOSE:f.folder.DOCU)}return f.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(t,i){var n=[];if(!i.isAjaxing){var r=e.nodeIsParent(t,i)&&i.iconOpen&&i.iconClose?i.open?i.iconOpen:i.iconClose:i[t.data.key.icon];r&&n.push("background:url(",r,") 0 0 no-repeat;"),(0==t.view.showIcon||!j.apply(t.view.showIcon,[t.treeId,i],!0))&&n.push("width:0px;height:0px;")}return n.join("")},makeNodeLineClass:function(t,n){var r=[];return r.push(t.view.showLine?0==n.level&&n.isFirstNode&&n.isLastNode?f.line.ROOT:0==n.level&&n.isFirstNode?f.line.ROOTS:n.isLastNode?f.line.BOTTOM:f.line.CENTER:f.line.NOLINE),e.nodeIsParent(t,n)?r.push(n.open?f.folder.OPEN:f.folder.CLOSE):r.push(f.folder.DOCU),i.makeNodeLineClassEx(n)+r.join("_")},makeNodeLineClassEx:function(e){return f.className.BUTTON+" "+f.className.LEVEL+e.level+" "+f.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var i=e.data.key.url;return t[i]?t[i]:null},makeUlHtml:function(e,t,n,r){n.push("<ul id='",t.tId,f.id.UL,"' class='",f.className.LEVEL,t.level," ",i.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(r),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?f.line.LINE:""},removeChildNodes:function(t,n){if(n){var r=e.nodeChildren(t,n);if(r){for(var o=0,s=r.length;o<s;o++)e.removeNodeCache(t,r[o]);e.removeSelectedNode(t),delete n[t.data.key.children],t.data.keep.parent?l(n,f.id.UL,t).empty():(e.nodeIsParent(t,n,!1),n.open=!1,r=l(n,f.id.SWITCH,t),o=l(n,f.id.ICON,t),i.replaceSwitchClass(n,r,f.folder.DOCU),i.replaceIcoClass(n,o,f.folder.DOCU),l(n,f.id.UL,t).remove())}}},scrollIntoView:function(e,t){if(t)if("undefined"==typeof Element){var i=e.treeObj.get(0).getBoundingClientRect(),n=t.getBoundingClientRect();(n.top<i.top||n.bottom>i.bottom||n.right>i.right||n.left<i.left)&&t.scrollIntoView()}else Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){for(var t,i=this,n=function e(t,i,r,o){return{left:t,top:i,width:r,height:o,right:t+r,bottom:i+o,translate:function(n,s){return e(n+t,s+i,r,o)},relativeFromTo:function(s,a){var l=t,h=i;if((s=s.offsetParent)===(a=a.offsetParent))return n;for(;s;s=s.offsetParent)l+=s.offsetLeft+s.clientLeft,h+=s.offsetTop+s.clientTop;for(;a;a=a.offsetParent)l-=a.offsetLeft+a.clientLeft,h-=a.offsetTop+a.clientTop;return e(l,h,r,o)}}}(this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight);j.isElement(t=i.parentNode);){var r=t.offsetLeft+t.clientLeft,o=t.offsetTop+t.clientTop;n=n.relativeFromTo(i,t).translate(-r,-o),t.scrollLeft=!1===e||n.left<=t.scrollLeft+t.clientWidth&&t.scrollLeft<=n.right-t.clientWidth+t.clientWidth?Math.min(n.left,Math.max(n.right-t.clientWidth,t.scrollLeft)):(n.right-t.clientWidth+n.left)/2,t.scrollTop=!1===e||n.top<=t.scrollTop+t.clientHeight&&t.scrollTop<=n.bottom-t.clientHeight+t.clientHeight?Math.min(n.top,Math.max(n.bottom-t.clientHeight,t.scrollTop)):(n.bottom-t.clientHeight+n.top)/2,n=n.translate(r-t.scrollLeft,o-t.scrollTop),i=t}}),t.scrollIntoViewIfNeeded()},setFirstNode:function(t,i){var n=e.nodeChildren(t,i);n.length>0&&(n[0].isFirstNode=!0)},setLastNode:function(t,i){var n=e.nodeChildren(t,i);n.length>0&&(n[n.length-1].isLastNode=!0)},removeNode:function(t,n){var r=e.getRoot(t),o=n.parentTId?n.getParentNode():r;if(n.isFirstNode=!1,n.isLastNode=!1,n.getPreNode=function(){return null},n.getNextNode=function(){return null},e.getNodeCache(t,n.tId)){l(n,t).remove(),e.removeNodeCache(t,n),e.removeSelectedNode(t,n);for(var s=e.nodeChildren(t,o),a=0,h=s.length;a<h;a++)if(s[a].tId==n.tId){s.splice(a,1);break}var c;if(i.setFirstNode(t,o),i.setLastNode(t,o),a=s.length,t.data.keep.parent||0!=a){if(t.view.showLine&&a>0){var u=s[a-1];a=l(u,f.id.UL,t),h=l(u,f.id.SWITCH,t),c=l(u,f.id.ICON,t),o==r?1==s.length?i.replaceSwitchClass(u,h,f.line.ROOT):(r=l(s[0],f.id.SWITCH,t),i.replaceSwitchClass(s[0],r,f.line.ROOTS),i.replaceSwitchClass(u,h,f.line.BOTTOM)):i.replaceSwitchClass(u,h,f.line.BOTTOM),a.removeClass(f.line.LINE)}}else e.nodeIsParent(t,o,!1),o.open=!1,delete o[t.data.key.children],a=l(o,f.id.UL,t),h=l(o,f.id.SWITCH,t),c=l(o,f.id.ICON,t),i.replaceSwitchClass(o,h,f.folder.DOCU),i.replaceIcoClass(o,c,f.folder.DOCU),a.css("display","none")}},replaceIcoClass:function(e,t,i){if(t&&!e.isAjaxing&&void 0!=(e=t.attr("class"))){switch(e=e.split("_"),i){case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:e[e.length-1]=i}t.attr("class",e.join("_"))}},replaceSwitchClass:function(e,t,n){if(t){var r=t.attr("class");if(void 0!=r){switch(r=r.split("_"),n){case f.line.ROOT:case f.line.ROOTS:case f.line.CENTER:case f.line.BOTTOM:case f.line.NOLINE:r[0]=i.makeNodeLineClassEx(e)+n;break;case f.folder.OPEN:case f.folder.CLOSE:case f.folder.DOCU:r[1]=n}t.attr("class",r.join("_")),n!==f.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(t,n,r){r||i.cancelPreSelectedNode(t,null,n),l(n,f.id.A,t).addClass(f.node.CURSELECTED),e.addSelectedNode(t,n),t.treeObj.trigger(f.event.SELECTED,[t.treeId,n])},setNodeFontCss:function(e,t){var n=l(t,f.id.A,e),r=i.makeNodeFontCss(e,t);r&&n.css(r)},setNodeLineIcos:function(t,n){if(n){var r=l(n,f.id.SWITCH,t),o=l(n,f.id.UL,t),s=l(n,f.id.ICON,t),a=i.makeUlLineClass(t,n);0==a.length?o.removeClass(f.line.LINE):o.addClass(a),r.attr("class",i.makeNodeLineClass(t,n)),e.nodeIsParent(t,n)?r.removeAttr("disabled"):r.attr("disabled","disabled"),s.removeAttr("style"),s.attr("style",i.makeNodeIcoStyle(t,n)),s.attr("class",i.makeNodeIcoClass(t,n))}},setNodeName:function(t,i){var n=e.nodeTitle(t,i),r=l(i,f.id.SPAN,t);r.empty(),t.view.nameIsHTML?r.html(e.nodeName(t,i)):r.text(e.nodeName(t,i)),j.apply(t.view.showTitle,[t.treeId,i],t.view.showTitle)&&l(i,f.id.A,t).attr("title",n||"")},setNodeTarget:function(e,t){l(t,f.id.A,e).attr("target",i.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=l(t,f.id.A,e),r=i.makeNodeUrl(e,t);null==r||0==r.length?n.removeAttr("href"):n.attr("href",r)},switchNode:function(e,t){t.open||!j.canAsync(e,t)?i.expandCollapseNode(e,t,!t.open):e.async.enable?i.asyncNode(e,t)||i.expandCollapseNode(e,t,!t.open):t&&i.expandCollapseNode(e,t,!t.open)}};q.fn.zTree={consts:{className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_z:{tools:j,view:i,event:n,data:e},getZTreeObj:function(t){return(t=e.getZTreeTools(t))?t:null},destroy:function(t){if(t&&t.length>0)i.destroy(e.getSetting(t));else for(var n in s)i.destroy(s[n])},init:function(t,r,o){var a=j.clone(N);q.extend(!0,a,r),a.treeId=t.attr("id"),a.treeObj=t,a.treeObj.empty(),s[a.treeId]=a,"undefined"==typeof document.body.style.maxHeight&&(a.view.expandSpeed=""),e.initRoot(a),t=e.getRoot(a),o=o?j.clone(j.isArray(o)?o:[o]):[],e.nodeChildren(a,t,a.data.simpleData.enable?e.transformTozTreeFormat(a,o):o),e.initCache(a),n.unbindTree(a),n.bindTree(a),n.unbindEvent(a),n.bindEvent(a);var h={setting:a,addNodes:function(t,n,r,o){function s(){i.addNodes(a,t,n,h,1==o)}t||(t=null);var l=e.nodeIsParent(a,t);if(t&&!l&&a.data.keep.leaf)return null;if(l=parseInt(n,10),isNaN(l)?(o=!!r,r=n,n=-1):n=l,!r)return null;var h=j.clone(j.isArray(r)?r:[r]);return j.canAsync(a,t)?i.asyncNode(a,t,o,s):s(),h},cancelSelectedNode:function(e){i.cancelPreSelectedNode(a,e)},destroy:function(){i.destroy(a)},expandAll:function(e){return i.expandCollapseSonNode(a,null,e=!!e,!0),e},expandNode:function(t,n,r,o,s){function h(){var e=l(t,a).get(0);e&&!1!==o&&i.scrollIntoView(a,e)}return t&&e.nodeIsParent(a,t)?(!0!==n&&!1!==n&&(n=!t.open),(s=!!s)&&n&&0==j.apply(a.callback.beforeExpand,[a.treeId,t],!0)?null:s&&!n&&0==j.apply(a.callback.beforeCollapse,[a.treeId,t],!0)?null:(n&&t.parentTId&&i.expandCollapseParentNode(a,t.getParentNode(),n,!1),n!==t.open||r?(e.getRoot(a).expandTriggerFlag=s,!j.canAsync(a,t)&&r?i.expandCollapseSonNode(a,t,n,!0,h):(t.open=!n,i.switchNode(this.setting,t),h()),n):null)):null},getNodes:function(){return e.getNodes(a)},getNodeByParam:function(t,i,n){return t?e.getNodeByParam(a,n?e.nodeChildren(a,n):e.getNodes(a),t,i):null},getNodeByTId:function(t){return e.getNodeCache(a,t)},getNodesByParam:function(t,i,n){return t?e.getNodesByParam(a,n?e.nodeChildren(a,n):e.getNodes(a),t,i):null},getNodesByParamFuzzy:function(t,i,n){return t?e.getNodesByParamFuzzy(a,n?e.nodeChildren(a,n):e.getNodes(a),t,i):null},getNodesByFilter:function(t,i,n,r){return i=!!i,t&&"function"==typeof t?e.getNodesByFilter(a,n?e.nodeChildren(a,n):e.getNodes(a),t,i,r):i?null:[]},getNodeIndex:function(t){if(!t)return null;for(var i=t.parentTId?t.getParentNode():e.getRoot(a),n=0,r=(i=e.nodeChildren(a,i)).length;n<r;n++)if(i[n]==t)return n;return-1},getSelectedNodes:function(){for(var t=[],i=e.getRoot(a).curSelectedList,n=0,r=i.length;n<r;n++)t.push(i[n]);return t},isSelectedNode:function(t){return e.isSelectedNode(a,t)},reAsyncChildNodesPromise:function(e,t,i){return new Promise(function(n,r){try{h.reAsyncChildNodes(e,t,i,function(){n(e)})}catch(e){r(e)}})},reAsyncChildNodes:function(t,n,r,o){if(this.setting.async.enable){var s=!t;if(s&&(t=e.getRoot(a)),"refresh"==n){for(var h=0,c=(n=e.nodeChildren(a,t))?n.length:0;h<c;h++)e.removeNodeCache(a,n[h]);e.removeSelectedNode(a),e.nodeChildren(a,t,[]),s?this.setting.treeObj.empty():l(t,f.id.UL,a).empty()}i.asyncNode(this.setting,s?null:t,!!r,o)}},refresh:function(){this.setting.treeObj.empty();var t=e.getRoot(a),n=e.nodeChildren(a,t);e.initRoot(a),e.nodeChildren(a,t,n),e.initCache(a),i.createNodes(a,0,e.nodeChildren(a,t),null,-1)},removeChildNodes:function(t){if(!t)return null;var n=e.nodeChildren(a,t);return i.removeChildNodes(a,t),n||null},removeNode:function(e,t){e&&((t=!!t)&&0==j.apply(a.callback.beforeRemove,[a.treeId,e],!0)||(i.removeNode(a,e),t&&this.setting.treeObj.trigger(f.event.REMOVE,[a.treeId,e])))},selectNode:function(e,t,n){if(e&&j.uCanDo(a)){if(t=a.view.selectedMulti&&t,e.parentTId)i.expandCollapseParentNode(a,e.getParentNode(),!0,!1,function(){if(!n){var t=l(e,a).get(0);i.scrollIntoView(a,t)}});else if(!n)try{l(e,a).focus().blur()}catch(e){}i.selectNode(a,e,t)}},transformTozTreeNodes:function(t){return e.transformTozTreeFormat(a,t)},transformToArray:function(t){return e.transformToArrayFormat(a,t)},updateNode:function(e){e&&l(e,a).get(0)&&j.uCanDo(a)&&(i.setNodeName(a,e),i.setNodeTarget(a,e),i.setNodeUrl(a,e),i.setNodeLineIcos(a,e),i.setNodeFontCss(a,e))}};return t.treeTools=h,e.setZTreeTools(a,h),(o=e.nodeChildren(a,t))&&o.length>0?i.createNodes(a,0,o,null,-1):a.async.enable&&a.async.url&&""!==a.async.url&&i.asyncNode(a),h}};var O=q.fn.zTree,l=j.$,f=O.consts}(jQuery),function(e){var t,i,n,r={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},o={check:{enable:!1,autoCheckTrigger:!1,chkStyle:r.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:r.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}};t=function(e,t){if(!0===t.chkDisabled)return!1;var i=h.getSetting(e.data.treeId);if(0==s.apply(i.callback.beforeCheck,[i.treeId,t],!0))return!0;var n=h.nodeChecked(i,t);return h.nodeChecked(i,t,!n),l.checkNodeRelation(i,t),n=c(t,a.id.CHECK,i),l.setChkClass(i,n,t),l.repairParentChkClassWithSelf(i,t),i.treeObj.trigger(a.event.CHECK,[e,i.treeId,t]),!0},i=function(e,t){if(!0===t.chkDisabled)return!1;var i=h.getSetting(e.data.treeId),n=c(t,a.id.CHECK,i);return t.check_Focus=!0,l.setChkClass(i,n,t),!0},n=function(e,t){if(!0===t.chkDisabled)return!1;var i=h.getSetting(e.data.treeId),n=c(t,a.id.CHECK,i);return t.check_Focus=!1,l.setChkClass(i,n,t),!0},e.extend(!0,e.fn.zTree.consts,r),e.extend(!0,e.fn.zTree._z,{tools:{},view:{checkNodeRelation:function(e,t){var i,n,r;if(n=a.radio,i=h.nodeChecked(e,t),e.check.chkStyle==n.STYLE){var o=h.getRadioCheckedList(e);if(i)if(e.check.radioType==n.TYPE_ALL){for(n=o.length-1;n>=0;n--){var s=h.nodeChecked(e,i=o[n]);s&&i!=t&&(h.nodeChecked(e,i,!1),o.splice(n,1),l.setChkClass(e,c(i,a.id.CHECK,e),i),i.parentTId!=t.parentTId&&l.repairParentChkClassWithSelf(e,i))}o.push(t)}else for(o=t.parentTId?t.getParentNode():h.getRoot(e),n=0,r=(o=h.nodeChildren(e,o)).length;n<r;n++)(s=h.nodeChecked(e,i=o[n]))&&i!=t&&(h.nodeChecked(e,i,!1),l.setChkClass(e,c(i,a.id.CHECK,e),i));else if(e.check.radioType==n.TYPE_ALL)for(n=0,r=o.length;n<r;n++)if(t==o[n]){o.splice(n,1);break}}else o=h.nodeChildren(e,t),i&&(!o||0==o.length||e.check.chkboxType.Y.indexOf("s")>-1)&&l.setSonNodeCheckBox(e,t,!0),!i&&(!o||0==o.length||e.check.chkboxType.N.indexOf("s")>-1)&&l.setSonNodeCheckBox(e,t,!1),i&&e.check.chkboxType.Y.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!0),!i&&e.check.chkboxType.N.indexOf("p")>-1&&l.setParentNodeCheckBox(e,t,!1)},makeChkClass:function(e,t){var i=a.checkbox,n=a.radio,r=h.nodeChecked(e,t);return n=e.check.chkStyle+"_"+(r?i.TRUE:i.FALSE)+"_"+(!0===t.chkDisabled?i.DISABLED:t.halfCheck?i.PART:e.check.chkStyle==n.STYLE?t.check_Child_State<1?i.FULL:i.PART:r?2===t.check_Child_State||-1===t.check_Child_State?i.FULL:i.PART:t.check_Child_State<1?i.FULL:i.PART),a.className.BUTTON+" "+i.DEFAULT+" "+(t.check_Focus&&!0!==t.chkDisabled?n+"_"+i.FOCUS:n)},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===a.checkbox.STYLE)for(var i=h.getRoot(e),n=0,r=(i=h.nodeChildren(e,i)).length;n<r;n++){var o=i[n];!0!==o.nocheck&&!0!==o.chkDisabled&&h.nodeChecked(e,o,t),l.setSonNodeCheckBox(e,o,t)}},repairChkClass:function(e,t){if(t&&(h.makeChkFlag(e,t),!0!==t.nocheck)){var i=c(t,a.id.CHECK,e);l.setChkClass(e,i,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var i=t.getParentNode();l.repairChkClass(e,i),l.repairParentChkClass(e,i)}},repairParentChkClassWithSelf:function(e,t){if(t){var i=h.nodeChildren(e,t);l.repairParentChkClass(e,i&&i.length>0?i[0]:t)}},repairSonChkDisabled:function(e,t,i,n){if(t&&(t.chkDisabled!=i&&(t.chkDisabled=i),l.repairChkClass(e,t),(t=h.nodeChildren(e,t))&&n))for(var r=0,o=t.length;r<o;r++)l.repairSonChkDisabled(e,t[r],i,n)},repairParentChkDisabled:function(e,t,i,n){t&&(t.chkDisabled!=i&&n&&(t.chkDisabled=i),l.repairChkClass(e,t),l.repairParentChkDisabled(e,t.getParentNode(),i,n))},setChkClass:function(e,t,i){t&&(!0===i.nocheck?t.hide():t.show(),t.attr("class",l.makeChkClass(e,i)))},setParentNodeCheckBox:function(e,t,i,n){var r=c(t,a.id.CHECK,e);if(n||(n=t),h.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(h.nodeChecked(e,t,i),l.setChkClass(e,r,t),e.check.autoCheckTrigger&&t!=n&&e.treeObj.trigger(a.event.CHECK,[null,e.treeId,t])),t.parentTId){if(r=!0,!i)for(var o=h.nodeChildren(e,t.getParentNode()),s=0,u=o.length;s<u;s++){var d=o[s],f=h.nodeChecked(e,d);if(!0!==d.nocheck&&!0!==d.chkDisabled&&f||(!0===d.nocheck||!0===d.chkDisabled)&&d.check_Child_State>0){r=!1;break}}r&&l.setParentNodeCheckBox(e,t.getParentNode(),i,n)}},setSonNodeCheckBox:function(e,t,i,n){if(t){var r=c(t,a.id.CHECK,e);n||(n=t);var o=!1,s=h.nodeChildren(e,t);if(s)for(var u=0,d=s.length;u<d;u++){var f=s[u];l.setSonNodeCheckBox(e,f,i,n),!0===f.chkDisabled&&(o=!0)}t!=h.getRoot(e)&&!0!==t.chkDisabled&&(o&&!0!==t.nocheck&&h.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(h.nodeChecked(e,t,i),o||(t.check_Child_State=s&&s.length>0?i?2:0:-1)):t.check_Child_State=-1,l.setChkClass(e,r,t),e.check.autoCheckTrigger&&t!=n&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(a.event.CHECK,[null,e.treeId,t]))}}},event:{},data:{getRadioCheckedList:function(e){for(var t=h.getRoot(e).radioCheckedList,i=0,n=t.length;i<n;i++)h.getNodeCache(e,t[i].tId)||(t.splice(i,1),i--,n--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var i=h.nodeChecked(e,t);return{checked:i,half:t.halfCheck?t.halfCheck:e.check.chkStyle==a.radio.STYLE?2===t.check_Child_State:i?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,i,n){if(!t)return[];for(var r=i&&e.check.chkStyle==a.radio.STYLE&&e.check.radioType==a.radio.TYPE_ALL,o=(n=n||[],0),s=t.length;o<s;o++){var l=t[o],c=h.nodeChildren(e,l),u=h.nodeChecked(e,l);if(!0!==l.nocheck&&!0!==l.chkDisabled&&u==i&&(n.push(l),r))break;if(h.getTreeCheckedNodes(e,c,i,n),r&&n.length>0)break}return n},getTreeChangeCheckedNodes:function(e,t,i){if(!t)return[];i=i||[];for(var n=0,r=t.length;n<r;n++){var o=t[n],s=h.nodeChildren(e,o),a=h.nodeChecked(e,o);!0!==o.nocheck&&!0!==o.chkDisabled&&a!=o.checkedOld&&i.push(o),h.getTreeChangeCheckedNodes(e,s,i)}return i},makeChkFlag:function(e,t){if(t){var i=-1,n=h.nodeChildren(e,t);if(n)for(var r=0,o=n.length;r<o;r++){var s=n[r],l=h.nodeChecked(e,s),c=-1;if(e.check.chkStyle==a.radio.STYLE){if(2==(c=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck?2:l?2:s.check_Child_State>0?2:0)){i=2;break}0==c&&(i=0)}else if(e.check.chkStyle==a.checkbox.STYLE){if(1===(c=!0===s.nocheck||!0===s.chkDisabled?s.check_Child_State:!0===s.halfCheck?1:l?-1===s.check_Child_State||2===s.check_Child_State?2:1:s.check_Child_State>0?1:0)){i=1;break}if(2===c&&i>-1&&r>0&&c!==i){i=1;break}if(2===i&&c>-1&&c<2){i=1;break}c>-1&&(i=c)}}t.check_Child_State=i}}}});var s=(e=e.fn.zTree)._z.tools,a=e.consts,l=e._z.view,h=e._z.data,c=s.$;h.nodeChecked=function(e,t,i){return!!t&&(e=e.data.key.checked,"undefined"!=typeof i&&("string"==typeof i&&(i=s.eqs(checked,"true")),t[e]=!!i),t[e])},h.exSetting(o),h.addInitBind(function(e){e.treeObj.bind(a.event.CHECK,function(t,i,n,r){t.srcEvent=i,s.apply(e.callback.onCheck,[t,n,r])})}),h.addInitUnBind(function(e){e.treeObj.unbind(a.event.CHECK)}),h.addInitCache(function(){}),h.addInitNode(function(e,t,i,n){i&&(t=h.nodeChecked(e,i),t=h.nodeChecked(e,i,t),i.checkedOld=t,"string"==typeof i.nocheck&&(i.nocheck=s.eqs(i.nocheck,"true")),i.nocheck=!!i.nocheck||e.check.nocheckInherit&&n&&!!n.nocheck,"string"==typeof i.chkDisabled&&(i.chkDisabled=s.eqs(i.chkDisabled,"true")),i.chkDisabled=!!i.chkDisabled||e.check.chkDisabledInherit&&n&&!!n.chkDisabled,"string"==typeof i.halfCheck&&(i.halfCheck=s.eqs(i.halfCheck,"true")),i.halfCheck=!!i.halfCheck,i.check_Child_State=-1,i.check_Focus=!1,i.getCheckStatus=function(){return h.getCheckStatus(e,i)},e.check.chkStyle==a.radio.STYLE&&e.check.radioType==a.radio.TYPE_ALL&&t&&h.getRoot(e).radioCheckedList.push(i))}),h.addInitProxy(function(e){var r=e.target,o=h.getSetting(e.data.treeId),l="",c=null,u="",d=null;if(s.eqs(e.type,"mouseover")?o.check.enable&&s.eqs(r.tagName,"span")&&null!==r.getAttribute("treeNode"+a.id.CHECK)&&(l=s.getNodeMainDom(r).id,u="mouseoverCheck"):s.eqs(e.type,"mouseout")?o.check.enable&&s.eqs(r.tagName,"span")&&null!==r.getAttribute("treeNode"+a.id.CHECK)&&(l=s.getNodeMainDom(r).id,u="mouseoutCheck"):s.eqs(e.type,"click")&&o.check.enable&&s.eqs(r.tagName,"span")&&null!==r.getAttribute("treeNode"+a.id.CHECK)&&(l=s.getNodeMainDom(r).id,u="checkNode"),l.length>0)switch(c=h.getNodeCache(o,l),u){case"checkNode":d=t;break;case"mouseoverCheck":d=i;break;case"mouseoutCheck":d=n}return{stop:"checkNode"===u,node:c,nodeEventType:u,nodeEventCallback:d,treeEventType:"",treeEventCallback:null}},!0),h.addInitRoot(function(e){h.getRoot(e).radioCheckedList=[]}),h.addBeforeA(function(e,t,i){e.check.enable&&(h.makeChkFlag(e,t),i.push("<span ID='",t.tId,a.id.CHECK,"' class='",l.makeChkClass(e,t),"' treeNode",a.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))}),h.addZTreeTools(function(e,t){t.checkNode=function(t,i,n,r){var o=h.nodeChecked(e,t);!0===t.chkDisabled||(!0!==i&&!1!==i&&(i=!o),r=!!r,o===i&&!n||r&&0==s.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0)||!s.uCanDo(this.setting)||!this.setting.check.enable||!0===t.nocheck)||(h.nodeChecked(e,t,i),i=c(t,a.id.CHECK,this.setting),(n||this.setting.check.chkStyle===a.radio.STYLE)&&l.checkNodeRelation(this.setting,t),l.setChkClass(this.setting,i,t),l.repairParentChkClassWithSelf(this.setting,t),r&&this.setting.treeObj.trigger(a.event.CHECK,[null,this.setting.treeId,t]))},t.checkAllNodes=function(e){l.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(t){t=!1!==t;var i=h.nodeChildren(e,h.getRoot(this.setting));return h.getTreeCheckedNodes(this.setting,i,t)},t.getChangeCheckedNodes=function(){var t=h.nodeChildren(e,h.getRoot(this.setting));return h.getTreeChangeCheckedNodes(this.setting,t)},t.setChkDisabled=function(e,t,i,n){i=!!i,l.repairSonChkDisabled(this.setting,e,t=!!t,!!n),l.repairParentChkDisabled(this.setting,e.getParentNode(),t,i)};var i=t.updateNode;t.updateNode=function(e,n){if(i&&i.apply(t,arguments),e&&this.setting.check.enable&&c(e,this.setting).get(0)&&s.uCanDo(this.setting)){var r=c(e,a.id.CHECK,this.setting);(1==n||this.setting.check.chkStyle===a.radio.STYLE)&&l.checkNodeRelation(this.setting,e),l.setChkClass(this.setting,r,e),l.repairParentChkClassWithSelf(this.setting,e)}}});var u=l.createNodes;l.createNodes=function(e,t,i,n,r){u&&u.apply(l,arguments),i&&l.repairParentChkClassWithSelf(e,n)};var d=l.removeNode;l.removeNode=function(e,t){var i=t.getParentNode();d&&d.apply(l,arguments),t&&i&&(l.repairChkClass(e,i),l.repairParentChkClass(e,i))};var f=l.appendNodes;l.appendNodes=function(e,t,i,n,r,o,s){var a="";return f&&(a=f.apply(l,arguments)),n&&h.makeChkFlag(e,n),a}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},i={onHoverOverNode:function(e,t){var n=a.getSetting(e.data.treeId),r=a.getRoot(n);r.curHoverNode!=t&&i.onHoverOutNode(e),r.curHoverNode=t,s.addHoverDom(n,t)},onHoverOutNode:function(e){e=a.getSetting(e.data.treeId);var t=a.getRoot(e);t.curHoverNode&&!a.isSelectedNode(e,t.curHoverNode)&&(s.removeTreeDom(e,t.curHoverNode),t.curHoverNode=null)},onMousedownNode:function(i,n){function h(i){if(0==g.dragFlag&&Math.abs(M-i.clientX)<p.edit.drag.minMoveSize&&Math.abs(O-i.clientY)<p.edit.drag.minMoveSize)return!0;var n,h,u,d;if(x.css("cursor","pointer"),0==g.dragFlag){if(0==r.apply(p.callback.beforeDrag,[p.treeId,y],!0))return c(i),!0;for(n=0,h=y.length;n<h;n++)0==n&&(g.dragNodeShowBefore=[]),a.nodeIsParent(p,u=y[n])&&u.open?(s.expandCollapseNode(p,u,!u.open),g.dragNodeShowBefore[u.tId]=!0):g.dragNodeShowBefore[u.tId]=!1;g.dragFlag=1,m.showHoverDom=!1,r.showIfameMask(p,!0),d=!0;var f=-1;if(y.length>1)for(u=[],n=0,h=(j=y[0].parentTId?a.nodeChildren(p,y[0].getParentNode()):a.getNodes(p)).length;n<h;n++)if(void 0!==g.dragNodeShowBefore[j[n].tId]&&(d&&f>-1&&f+1!==n&&(d=!1),u.push(j[n]),f=n),y.length===u.length){y=u;break}for(d&&(E=y[0].getPreNode(),S=y[y.length-1].getNextNode()),b=l("<ul class='zTreeDragUL'></ul>",p),n=0,h=y.length;n<h;n++)(u=y[n]).editNameFlag=!1,s.selectNode(p,u,n>0),s.removeTreeDom(p,u),n>p.edit.drag.maxShowNodeNum-1||((d=l("<li id='"+u.tId+"_tmp'></li>",p)).append(l(u,o.id.A,p).clone()),d.css("padding","0"),d.children("#"+u.tId+o.id.A).removeClass(o.node.CURSELECTED),b.append(d),n==p.edit.drag.maxShowNodeNum-1&&(d=l("<li id='"+u.tId+"_moretmp'><a>  ...  </a></li>",p),b.append(d)));b.attr("id",y[0].tId+o.id.UL+"_tmp"),b.addClass(p.treeObj.attr("class")),b.appendTo(x),(C=l("<span class='tmpzTreeMove_arrow'></span>",p)).attr("id","zTreeMove_arrow_tmp"),C.appendTo(x),p.treeObj.trigger(o.event.DRAG,[i,p.treeId,y])}if(1==g.dragFlag){for(var _ in w&&C.attr("id")==i.target.id&&R&&i.clientX+T.scrollLeft()+2>e("#"+R+o.id.A,w).offset().left?(u=e("#"+R+o.id.A,w),i.target=u.length>0?u.get(0):i.target):w&&(w.removeClass(o.node.TMPTARGET_TREE),R&&e("#"+R+o.id.A,w).removeClass(o.node.TMPTARGET_NODE+"_"+o.move.TYPE_PREV).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),R=w=null,k=!1,N=p,u=a.getSettings())u[_].treeId&&u[_].edit.enable&&u[_].treeId!=p.treeId&&(i.target.id==u[_].treeId||e(i.target).parents("#"+u[_].treeId).length>0)&&(k=!0,N=u[_]);_=T.scrollTop(),d=T.scrollLeft(),f=N.treeObj.offset(),n=N.treeObj.get(0).scrollHeight,u=N.treeObj.get(0).scrollWidth,h=i.clientY+_-f.top;var v=N.treeObj.height()+f.top-i.clientY-_,A=i.clientX+d-f.left,H=N.treeObj.width()+f.left-i.clientX-d,j=(f=h<p.edit.drag.borderMax&&h>p.edit.drag.borderMin,v<p.edit.drag.borderMax&&v>p.edit.drag.borderMin),B=A<p.edit.drag.borderMax&&A>p.edit.drag.borderMin,F=H<p.edit.drag.borderMax&&H>p.edit.drag.borderMin,W=(v=h>p.edit.drag.borderMin&&v>p.edit.drag.borderMin&&A>p.edit.drag.borderMin&&H>p.edit.drag.borderMin,A=f&&N.treeObj.scrollTop()<=0,H=j&&N.treeObj.scrollTop()+N.treeObj.height()+10>=n,B&&N.treeObj.scrollLeft()<=0),q=F&&N.treeObj.scrollLeft()+N.treeObj.width()+10>=u;if(i.target&&r.isChildOrSelf(i.target,N.treeId)){for(var U=i.target;U&&U.tagName&&!r.eqs(U.tagName,"li")&&U.id!=N.treeId;)U=U.parentNode;var z=!0;for(n=0,h=y.length;n<h;n++){if(U.id===(u=y[n]).tId){z=!1;break}if(l(u,p).find("#"+U.id).length>0){z=!1;break}}z&&i.target&&r.isChildOrSelf(i.target,U.id+o.id.A)&&(w=e(U),R=U.id)}if(u=y[0],v&&r.isChildOrSelf(i.target,N.treeId)&&(!w&&(i.target.id==N.treeId||A||H||W||q)&&(k||!k&&u.parentTId)&&(w=N.treeObj),f?N.treeObj.scrollTop(N.treeObj.scrollTop()-10):j&&N.treeObj.scrollTop(N.treeObj.scrollTop()+10),B?N.treeObj.scrollLeft(N.treeObj.scrollLeft()-10):F&&N.treeObj.scrollLeft(N.treeObj.scrollLeft()+10),w&&w!=N.treeObj&&w.offset().left<N.treeObj.offset().left&&N.treeObj.scrollLeft(N.treeObj.scrollLeft()+w.offset().left-N.treeObj.offset().left)),b.css({top:i.clientY+_+3+"px",left:i.clientX+d+3+"px"}),n=d=0,w&&w.attr("id")!=N.treeId){var V=null==R?null:a.getNodeCache(N,R);f=(i.ctrlKey||i.metaKey)&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy,h=!(!E||R!==E.tId),B=!(!S||R!==S.tId),j=u.parentTId&&u.parentTId==R,u=(f||!B)&&r.apply(N.edit.drag.prev,[N.treeId,y,V],!!N.edit.drag.prev),h=(f||!h)&&r.apply(N.edit.drag.next,[N.treeId,y,V],!!N.edit.drag.next),f=(f||!j)&&!(N.data.keep.leaf&&!a.nodeIsParent(p,V))&&r.apply(N.edit.drag.inner,[N.treeId,y,V],!!N.edit.drag.inner),j=function(){w=null,R="",D=o.move.TYPE_INNER,C.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)},u||h||f?(B=e("#"+R+o.id.A,w),F=V.isLastNode?null:e("#"+V.getNextNode().tId+o.id.A,w.next()),v=B.offset().top,A=B.offset().left,H=u?f?.25:h?.5:1:-1,W=h?f?.75:u?.5:0:-1,_=(i.clientY+_-v)/B.height(),(1==H||_<=H&&_>=-.2)&&u?(d=1-C.width(),n=v-C.height()/2,D=o.move.TYPE_PREV):(0==W||_>=W&&_<=1.2)&&h?(d=1-C.width(),n=null==F||a.nodeIsParent(p,V)&&V.open?v+B.height()-C.height()/2:F.offset().top-C.height()/2,D=o.move.TYPE_NEXT):f?(d=5-C.width(),n=v,D=o.move.TYPE_INNER):j(),w&&(C.css({display:"block",top:n+"px",left:A+d+"px"}),B.addClass(o.node.TMPTARGET_NODE+"_"+D),I==R&&L==D||(P=(new Date).getTime()),V&&a.nodeIsParent(p,V)&&D==o.move.TYPE_INNER&&(_=!0,window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==V.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===V.tId&&(_=!1),_)&&(window.zTreeMoveTimer=setTimeout(function(){D==o.move.TYPE_INNER&&V&&a.nodeIsParent(p,V)&&!V.open&&(new Date).getTime()-P>N.edit.drag.autoOpenTime&&r.apply(N.callback.beforeDragOpen,[N.treeId,V],!0)&&(s.switchNode(N,V),N.edit.drag.autoExpandTrigger&&N.treeObj.trigger(o.event.EXPAND,[N.treeId,V]))},N.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=V.tId))):j()}else D=o.move.TYPE_INNER,w&&r.apply(N.edit.drag.inner,[N.treeId,y,null],!!N.edit.drag.inner)?w.addClass(o.node.TMPTARGET_TREE):w=null,C.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);I=R,L=D,p.treeObj.trigger(o.event.DRAGMOVE,[i,p.treeId,y])}return!1}function c(i){if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),L=I=null,T.unbind("mousemove",h),T.unbind("mouseup",c),T.unbind("selectstart",u),x.css("cursor",""),w&&(w.removeClass(o.node.TMPTARGET_TREE),R&&e("#"+R+o.id.A,w).removeClass(o.node.TMPTARGET_NODE+"_"+o.move.TYPE_PREV).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(o.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),r.showIfameMask(p,!1),m.showHoverDom=!0,0!=g.dragFlag){var n,d,f;for(g.dragFlag=0,n=0,d=y.length;n<d;n++)a.nodeIsParent(p,f=y[n])&&g.dragNodeShowBefore[f.tId]&&!f.open&&(s.expandCollapseNode(p,f,!f.open),delete g.dragNodeShowBefore[f.tId]);b&&b.remove(),C&&C.remove();var _=(i.ctrlKey||i.metaKey)&&p.edit.drag.isMove&&p.edit.drag.isCopy||!p.edit.drag.isMove&&p.edit.drag.isCopy;if(!_&&w&&R&&y[0].parentTId&&R==y[0].parentTId&&D==o.move.TYPE_INNER&&(w=null),w){var v=null==R?null:a.getNodeCache(N,R);if(0==r.apply(p.callback.beforeDrop,[N.treeId,y,v,D,_],!0))s.selectNodes(A,y);else{var E=_?r.clone(y):y;n=function(){if(k){if(!_)for(var e=0,t=y.length;e<t;e++)s.removeNode(p,y[e]);D==o.move.TYPE_INNER?s.addNodes(N,v,-1,E):s.addNodes(N,v.getParentNode(),D==o.move.TYPE_PREV?v.getIndex():v.getIndex()+1,E)}else if(_&&D==o.move.TYPE_INNER)s.addNodes(N,v,-1,E);else if(_)s.addNodes(N,v.getParentNode(),D==o.move.TYPE_PREV?v.getIndex():v.getIndex()+1,E);else if(D!=o.move.TYPE_NEXT)for(e=0,t=E.length;e<t;e++)s.moveNode(N,v,E[e],D,!1);else for(e=-1,t=E.length-1;e<t;t--)s.moveNode(N,v,E[t],D,!1);s.selectNodes(N,E),e=l(E[0],p).get(0),s.scrollIntoView(p,e),p.treeObj.trigger(o.event.DROP,[i,N.treeId,E,v,D,_])},D==o.move.TYPE_INNER&&r.canAsync(N,v)?s.asyncNode(N,v,!1,n):n()}}else s.selectNodes(A,y),p.treeObj.trigger(o.event.DROP,[i,p.treeId,y,null,null,null])}}function u(){return!1}var d,f,p=a.getSetting(i.data.treeId),g=a.getRoot(p),m=a.getRoots();if(2==i.button||!p.edit.enable||!p.edit.drag.isCopy&&!p.edit.drag.isMove)return!0;var _=i.target,v=a.getRoot(p).curSelectedList,y=[];if(a.isSelectedNode(p,n))for(d=0,f=v.length;d<f;d++){if(v[d].editNameFlag&&r.eqs(_.tagName,"input")&&null!==_.getAttribute("treeNode"+o.id.INPUT))return!0;if(y.push(v[d]),y[0].parentTId!==v[d].parentTId){y=[n];break}}else y=[n];s.editNodeBlur=!0,s.cancelCurEditNode(p);var b,C,w,E,S,T=e(p.treeObj.get(0).ownerDocument),x=e(p.treeObj.get(0).ownerDocument.body),k=!1,N=p,A=p,I=null,L=null,R=null,D=o.move.TYPE_INNER,M=i.clientX,O=i.clientY,P=(new Date).getTime();return r.uCanDo(p)&&T.bind("mousemove",h),T.bind("mouseup",c),T.bind("selectstart",u),i.preventDefault&&i.preventDefault(),!0}};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,{tools:{getAbs:function(e){return[(e=e.getBoundingClientRect()).left+(document.body.scrollLeft+document.documentElement.scrollLeft),e.top+(document.body.scrollTop+document.documentElement.scrollTop)]},inputFocus:function(e){e.get(0)&&(e.focus(),r.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}},showIfameMask:function(e,t){for(var i=a.getRoot(e);i.dragMaskList.length>0;)i.dragMaskList[0].remove(),i.dragMaskList.shift();if(t)for(var n=l("iframe",e),o=0,s=n.length;o<s;o++){var h=n.get(o),c=r.getAbs(h);(h=l("<div id='zTreeMask_"+o+"' class='zTreeMask' style='top:"+c[1]+"px; left:"+c[0]+"px; width:"+h.offsetWidth+"px; height:"+h.offsetHeight+"px;'></div>",e)).appendTo(l("body",e)),i.dragMaskList.push(h)}}},view:{addEditBtn:function(e,t){if(!(t.editNameFlag||l(t,o.id.EDIT,e).length>0)&&r.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var i=l(t,o.id.A,e),n="<span class='"+o.className.BUTTON+" edit' id='"+t.tId+o.id.EDIT+"' title='"+r.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+o.id.EDIT+" style='display:none;'></span>";i.append(n),l(t,o.id.EDIT,e).bind("click",function(){return!(!r.uCanDo(e)||0==r.apply(e.callback.beforeEditName,[e.treeId,t],!0)||(s.editNode(e,t),1))}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||l(t,o.id.REMOVE,e).length>0)&&r.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var i=l(t,o.id.A,e),n="<span class='"+o.className.BUTTON+" remove' id='"+t.tId+o.id.REMOVE+"' title='"+r.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+o.id.REMOVE+" style='display:none;'></span>";i.append(n),l(t,o.id.REMOVE,e).bind("click",function(){return!(!r.uCanDo(e)||0==r.apply(e.callback.beforeRemove,[e.treeId,t],!0)||(s.removeNode(e,t),e.treeObj.trigger(o.event.REMOVE,[e.treeId,t]),1))}).bind("mousedown",function(){return!0}).show()}},addHoverDom:function(e,t){a.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(s.addEditBtn(e,t),s.addRemoveBtn(e,t)),r.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,i){var n=a.getRoot(e),h=n.curEditNode;if(h){var c=n.curEditInput;if(t=t||(i?a.nodeName(e,h):c.val()),!1===r.apply(e.callback.beforeRename,[e.treeId,h,t,i],!0))return!1;a.nodeName(e,h,t),l(h,o.id.A,e).removeClass(o.node.CURSELECTED_EDIT),c.unbind(),s.setNodeName(e,h),h.editNameFlag=!1,n.curEditNode=null,n.curEditInput=null,s.selectNode(e,h,!1),e.treeObj.trigger(o.event.RENAME,[e.treeId,h,i])}return n.noSelection=!0},editNode:function(e,t){var i=a.getRoot(e);if(s.editNodeBlur=!1,a.isSelectedNode(e,t)&&i.curEditNode==t&&t.editNameFlag)setTimeout(function(){r.inputFocus(i.curEditInput)},0);else{t.editNameFlag=!0,s.removeTreeDom(e,t),s.cancelCurEditNode(e),s.selectNode(e,t,!1),l(t,o.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+o.id.INPUT+"' treeNode"+o.id.INPUT+" >");var n=l(t,o.id.INPUT,e);n.attr("value",a.nodeName(e,t)),e.edit.editNameSelectAll?r.inputSelect(n):r.inputFocus(n),n.bind("blur",function(){s.editNodeBlur||s.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(s.editNodeBlur=!0,s.cancelCurEditNode(e)):"27"==t.keyCode&&s.cancelCurEditNode(e,null,!0)}).bind("click",function(){return!1}).bind("dblclick",function(){return!1}),l(t,o.id.A,e).addClass(o.node.CURSELECTED_EDIT),i.curEditInput=n,i.noSelection=!1,i.curEditNode=t}},moveNode:function(e,t,i,n,r,h){var c=a.getRoot(e);if(t!=i&&(!e.data.keep.leaf||!t||a.nodeIsParent(e,t)||n!=o.move.TYPE_INNER)){var u,d,f=i.parentTId?i.getParentNode():c;(m=null===t||t==c)&&null===t&&(t=c),m&&(n=o.move.TYPE_INNER),c=t.parentTId?t.getParentNode():c,n!=o.move.TYPE_PREV&&n!=o.move.TYPE_NEXT&&(n=o.move.TYPE_INNER),n==o.move.TYPE_INNER&&(m?i.parentTId=null:(a.nodeIsParent(e,t)||(a.nodeIsParent(e,t,!0),t.open=!!t.open,s.setNodeLineIcos(e,t)),i.parentTId=t.tId)),m?u=m=e.treeObj:(h||n!=o.move.TYPE_INNER?h||s.expandCollapseNode(e,t.getParentNode(),!0,!1):s.expandCollapseNode(e,t,!0,!1),m=l(t,e),u=l(t,o.id.UL,e),m.get(0)&&!u.get(0)&&(s.makeUlHtml(e,t,u=[],""),m.append(u.join(""))),u=l(t,o.id.UL,e)),(p=l(i,e)).get(0)?m.get(0)||p.remove():p=s.appendNodes(e,i.level,[i],null,-1,!1,!0).join(""),u.get(0)&&n==o.move.TYPE_INNER?u.append(p):m.get(0)&&n==o.move.TYPE_PREV?m.before(p):m.get(0)&&n==o.move.TYPE_NEXT&&m.after(p),u=-1;var p=0,g=null,m=null,_=i.level,v=a.nodeChildren(e,f),y=a.nodeChildren(e,c),b=a.nodeChildren(e,t);if(i.isFirstNode)u=0,v.length>1&&((g=v[1]).isFirstNode=!0);else if(i.isLastNode)(g=v[(u=v.length-1)-1]).isLastNode=!0;else for(c=0,d=v.length;c<d;c++)if(v[c].tId==i.tId){u=c;break}if(u>=0&&v.splice(u,1),n!=o.move.TYPE_INNER)for(c=0,d=y.length;c<d;c++)y[c].tId==t.tId&&(p=c);n==o.move.TYPE_INNER?(b||(b=a.nodeChildren(e,t,[])),b.length>0&&((m=b[b.length-1]).isLastNode=!1),b.splice(b.length,0,i),i.isLastNode=!0,i.isFirstNode=1==b.length):t.isFirstNode&&n==o.move.TYPE_PREV?(y.splice(p,0,i),(m=t).isFirstNode=!1,i.parentTId=t.parentTId,i.isFirstNode=!0,i.isLastNode=!1):t.isLastNode&&n==o.move.TYPE_NEXT?(y.splice(p+1,0,i),(m=t).isLastNode=!1,i.parentTId=t.parentTId,i.isFirstNode=!1,i.isLastNode=!0):(y.splice(n==o.move.TYPE_PREV?p:p+1,0,i),i.parentTId=t.parentTId,i.isFirstNode=!1,i.isLastNode=!1),a.fixPIdKeyValue(e,i),a.setSonNodeLevel(e,i.getParentNode(),i),s.setNodeLineIcos(e,i),s.repairNodeLevelClass(e,i,_),!e.data.keep.parent&&v.length<1?(a.nodeIsParent(e,f,!1),f.open=!1,t=l(f,o.id.UL,e),n=l(f,o.id.SWITCH,e),c=l(f,o.id.ICON,e),s.replaceSwitchClass(f,n,o.folder.DOCU),s.replaceIcoClass(f,c,o.folder.DOCU),t.css("display","none")):g&&s.setNodeLineIcos(e,g),m&&s.setNodeLineIcos(e,m),e.check&&e.check.enable&&s.repairChkClass&&(s.repairChkClass(e,f),s.repairParentChkClassWithSelf(e,f),f!=i.parent&&s.repairParentChkClassWithSelf(e,i)),h||s.expandCollapseParentNode(e,i.getParentNode(),!0,r)}},removeEditBtn:function(e,t){l(t,o.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){l(t,o.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,s.removeEditBtn(e,t),s.removeRemoveBtn(e,t),r.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,i){if(i!==t.level){var n=l(t,e),r=l(t,o.id.A,e);e=l(t,o.id.UL,e),t=o.className.LEVEL+t.level,n.removeClass(i=o.className.LEVEL+i),n.addClass(t),r.removeClass(i),r.addClass(t),e.removeClass(i),e.addClass(t)}},selectNodes:function(e,t){for(var i=0,n=t.length;i<n;i++)s.selectNode(e,t[i],i>0)}},event:{},data:{setSonNodeLevel:function(e,t,i){if(i){var n=a.nodeChildren(e,i);if(i.level=t?t.level+1:0,n){t=0;for(var r=n.length;t<r;t++)n[t]&&a.setSonNodeLevel(e,i,n[t])}}}}});var n=e.fn.zTree,r=n._z.tools,o=n.consts,s=n._z.view,a=n._z.data,l=r.$;a.exSetting({edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}}),a.addInitBind(function(e){var t=e.treeObj,i=o.event;t.bind(i.RENAME,function(t,i,n,o){r.apply(e.callback.onRename,[t,i,n,o])}),t.bind(i.DRAG,function(t,i,n,o){r.apply(e.callback.onDrag,[i,n,o])}),t.bind(i.DRAGMOVE,function(t,i,n,o){r.apply(e.callback.onDragMove,[i,n,o])}),t.bind(i.DROP,function(t,i,n,o,s,a,l){r.apply(e.callback.onDrop,[i,n,o,s,a,l])})}),a.addInitUnBind(function(e){var t=o.event;(e=e.treeObj).unbind(t.RENAME),e.unbind(t.DRAG),e.unbind(t.DRAGMOVE),e.unbind(t.DROP)}),a.addInitCache(function(){}),a.addInitNode(function(e,t,i){i&&(i.isHover=!1,i.editNameFlag=!1)}),a.addInitProxy(function(e){var t=e.target,n=a.getSetting(e.data.treeId),s=e.relatedTarget,l="",h=null,c="",u=null,d=null;if(r.eqs(e.type,"mouseover")?(d=r.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+o.id.A}]))&&(l=r.getNodeMainDom(d).id,c="hoverOverNode"):r.eqs(e.type,"mouseout")?(d=r.getMDom(n,s,[{tagName:"a",attrName:"treeNode"+o.id.A}]))||(l="remove",c="hoverOutNode"):r.eqs(e.type,"mousedown")&&(d=r.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+o.id.A}]))&&(l=r.getNodeMainDom(d).id,c="mousedownNode"),l.length>0)switch(h=a.getNodeCache(n,l),c){case"mousedownNode":u=i.onMousedownNode;break;case"hoverOverNode":u=i.onHoverOverNode;break;case"hoverOutNode":u=i.onHoverOutNode}return{stop:!1,node:h,nodeEventType:c,nodeEventCallback:u,treeEventType:"",treeEventCallback:null}}),a.addInitRoot(function(e){e=a.getRoot(e);var t=a.getRoots();e.curEditNode=null,e.curEditInput=null,e.curHoverNode=null,e.dragFlag=0,e.dragNodeShowBefore=[],e.dragMaskList=[],t.showHoverDom=!0}),a.addZTreeTools(function(e,t){t.cancelEditName=function(e){a.getRoot(this.setting).curEditNode&&s.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(t,i,n,l){if(!i)return null;var h=a.nodeIsParent(e,t);if(t&&!h&&this.setting.data.keep.leaf&&n===o.move.TYPE_INNER)return null;var c=this,u=r.clone(i);return t||(t=null,n=o.move.TYPE_INNER),n==o.move.TYPE_INNER?(i=function(){s.addNodes(c.setting,t,-1,[u],l)},r.canAsync(this.setting,t)?s.asyncNode(this.setting,t,l,i):i()):(s.addNodes(this.setting,t.parentNode,-1,[u],l),s.moveNode(this.setting,t,u,n,!1,l)),u},t.editName=function(e){e&&e.tId&&e===a.getNodeCache(this.setting,e.tId)&&(e.parentTId&&s.expandCollapseParentNode(this.setting,e.getParentNode(),!0),s.editNode(this.setting,e))},t.moveNode=function(t,i,n,h){function c(){s.moveNode(d.setting,t,i,n,!1,h)}if(!i)return i;var u=a.nodeIsParent(e,t);if(t&&!u&&this.setting.data.keep.leaf&&n===o.move.TYPE_INNER)return null;if(t&&(i.parentTId==t.tId&&n==o.move.TYPE_INNER||l(i,this.setting).find("#"+t.tId).length>0))return null;t||(t=null);var d=this;return r.canAsync(this.setting,t)&&n===o.move.TYPE_INNER?s.asyncNode(this.setting,t,h,c):c(),i},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}});var h=s.cancelPreSelectedNode;s.cancelPreSelectedNode=function(e,t){for(var i=a.getRoot(e).curSelectedList,n=0,r=i.length;n<r&&(t&&t!==i[n]||(s.removeTreeDom(e,i[n]),!t));n++);h&&h.apply(s,arguments)};var c=s.createNodes;s.createNodes=function(e,t,i,n,r){c&&c.apply(s,arguments),i&&s.repairParentChkClassWithSelf&&s.repairParentChkClassWithSelf(e,n)};var u=s.makeNodeUrl;s.makeNodeUrl=function(e,t){return e.edit.enable?null:u.apply(s,arguments)};var d=s.removeNode;s.removeNode=function(e,t){var i=a.getRoot(e);i.curEditNode===t&&(i.curEditNode=null),d&&d.apply(s,arguments)};var f=s.selectNode;s.selectNode=function(e,t,i){var n=a.getRoot(e);return!(a.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag||(f&&f.apply(s,arguments),s.addHoverDom(e,t),0))};var p=r.uCanDo;r.uCanDo=function(e,t){var i=a.getRoot(e);return!(!t||!(r.eqs(t.type,"mouseover")||r.eqs(t.type,"mouseout")||r.eqs(t.type,"mousedown")||r.eqs(t.type,"mouseup")))||(i.curEditNode&&(s.editNodeBlur=!1,i.curEditInput.focus()),!i.curEditNode&&(!p||p.apply(s,arguments)))}}(jQuery),function(e){e.extend(!0,e.fn.zTree._z,{view:{clearOldFirstNode:function(e,t){for(var i=t.getNextNode();i;){if(i.isFirstNode){i.isFirstNode=!1,n.setNodeLineIcos(e,i);break}if(i.isLastNode)break;i=i.getNextNode()}},clearOldLastNode:function(e,t,i){for(t=t.getPreNode();t;){if(t.isLastNode){t.isLastNode=!1,i&&n.setNodeLineIcos(e,t);break}if(t.isFirstNode)break;t=t.getPreNode()}},makeDOMNodeMainBefore:function(e,t,n){t=r.isHidden(t,n),e.push("<li ",t?"style='display:none;' ":"","id='",n.tId,"' class='",i.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(e,t){r.isHidden(e,t,!1),r.initShowForExCheck(e,t),o(t,e).show()},showNodes:function(e,t,i){if(t&&0!=t.length){var o,s,a={};for(o=0,s=t.length;o<s;o++){var l=t[o];if(!a[l.parentTId]){var h=l.getParentNode();a[l.parentTId]=null===h?r.getRoot(e):l.getParentNode()}n.showNode(e,l,i)}for(var c in a)t=r.nodeChildren(e,a[c]),n.setFirstNodeForShow(e,t),n.setLastNodeForShow(e,t)}},hideNode:function(e,t){r.isHidden(e,t,!0),t.isFirstNode=!1,t.isLastNode=!1,r.initHideForExCheck(e,t),n.cancelPreSelectedNode(e,t),o(t,e).hide()},hideNodes:function(e,t,i){if(t&&0!=t.length){var o,s,a={};for(o=0,s=t.length;o<s;o++){var l=t[o];if((l.isFirstNode||l.isLastNode)&&!a[l.parentTId]){var h=l.getParentNode();a[l.parentTId]=null===h?r.getRoot(e):l.getParentNode()}n.hideNode(e,l,i)}for(var c in a)t=r.nodeChildren(e,a[c]),n.setFirstNodeForHide(e,t),n.setLastNodeForHide(e,t)}},setFirstNode:function(e,t){var i=r.nodeChildren(e,t),o=r.isHidden(e,i[0],!1);i.length>0&&!o?i[0].isFirstNode=!0:i.length>0&&n.setFirstNodeForHide(e,i)},setLastNode:function(e,t){var i=r.nodeChildren(e,t),o=r.isHidden(e,i[0]);i.length>0&&!o?i[i.length-1].isLastNode=!0:i.length>0&&n.setLastNodeForHide(e,i)},setFirstNodeForHide:function(e,t){var i,o,s;for(o=0,s=t.length;o<s&&!(i=t[o]).isFirstNode;o++){if(!r.isHidden(e,i)&&!i.isFirstNode){i.isFirstNode=!0,n.setNodeLineIcos(e,i);break}i=null}return i},setFirstNodeForShow:function(e,t){var i,o,s,a,l;for(o=0,s=t.length;o<s;o++){var h=r.isHidden(e,i=t[o]);if(!a&&!h&&i.isFirstNode){a=i;break}if(a||h||i.isFirstNode){if(a&&i.isFirstNode){i.isFirstNode=!1,l=i,n.setNodeLineIcos(e,i);break}}else i.isFirstNode=!0,a=i,n.setNodeLineIcos(e,i)}return{new:a,old:l}},setLastNodeForHide:function(e,t){var i,o;for(o=t.length-1;o>=0&&!(i=t[o]).isLastNode;o--){if(!r.isHidden(e,i)&&!i.isLastNode){i.isLastNode=!0,n.setNodeLineIcos(e,i);break}i=null}return i},setLastNodeForShow:function(e,t){var i,o,s,a;for(o=t.length-1;o>=0;o--){var l=r.isHidden(e,i=t[o]);if(!s&&!l&&i.isLastNode){s=i;break}if(s||l||i.isLastNode){if(s&&i.isLastNode){i.isLastNode=!1,a=i,n.setNodeLineIcos(e,i);break}}else i.isLastNode=!0,s=i,n.setNodeLineIcos(e,i)}return{new:s,old:a}}},data:{initHideForExCheck:function(e,t){r.isHidden(e,t)&&e.check&&e.check.enable&&("undefined"==typeof t._nocheck&&(t._nocheck=!!t.nocheck,t.nocheck=!0),t.check_Child_State=-1,n.repairParentChkClassWithSelf&&n.repairParentChkClassWithSelf(e,t))},initShowForExCheck:function(e,t){if(!r.isHidden(e,t)&&e.check&&e.check.enable){if("undefined"!=typeof t._nocheck&&(t.nocheck=t._nocheck,delete t._nocheck),n.setChkClass){var s=o(t,i.id.CHECK,e);n.setChkClass(e,s,t)}n.repairParentChkClassWithSelf&&n.repairParentChkClassWithSelf(e,t)}}}});var t=(e=e.fn.zTree)._z.tools,i=e.consts,n=e._z.view,r=e._z.data,o=t.$;r.isHidden=function(e,i,n){return!!i&&(e=e.data.key.isHidden,"undefined"!=typeof n&&("string"==typeof n&&(n=t.eqs(checked,"true")),i[e]=!!n),i[e])},r.exSetting({data:{key:{isHidden:"isHidden"}}}),r.addInitNode(function(e,t,i){t=r.isHidden(e,i),r.isHidden(e,i,t),r.initHideForExCheck(e,i)}),r.addBeforeA(function(){}),r.addZTreeTools(function(e,t){t.showNodes=function(t,i){n.showNodes(e,t,i)},t.showNode=function(t,i){t&&n.showNodes(e,[t],i)},t.hideNodes=function(t,i){n.hideNodes(e,t,i)},t.hideNode=function(t,i){t&&n.hideNodes(e,[t],i)};var i=t.checkNode;i&&(t.checkNode=function(n,o,s,a){(!n||!r.isHidden(e,n))&&i.apply(t,arguments)})});var s=r.initNode;r.initNode=function(e,t,i,o,a,l,h){var c=(o||r.getRoot(e))[e.data.key.children];r.tmpHideFirstNode=n.setFirstNodeForHide(e,c),r.tmpHideLastNode=n.setLastNodeForHide(e,c),h&&(n.setNodeLineIcos(e,r.tmpHideFirstNode),n.setNodeLineIcos(e,r.tmpHideLastNode)),l=r.tmpHideLastNode===i,s&&s.apply(r,arguments),h&&l&&n.clearOldLastNode(e,i,h)};var a=r.makeChkFlag;a&&(r.makeChkFlag=function(e,t){(!t||!r.isHidden(e,t))&&a.apply(r,arguments)});var l=r.getTreeCheckedNodes;l&&(r.getTreeCheckedNodes=function(e,t,i,n){if(t&&t.length>0){var o=t[0].getParentNode();if(o&&r.isHidden(e,o))return[]}return l.apply(r,arguments)});var h=r.getTreeChangeCheckedNodes;h&&(r.getTreeChangeCheckedNodes=function(e,t,i){if(t&&t.length>0){var n=t[0].getParentNode();if(n&&r.isHidden(e,n))return[]}return h.apply(r,arguments)});var c=n.expandCollapseSonNode;c&&(n.expandCollapseSonNode=function(e,t,i,o,s){(!t||!r.isHidden(e,t))&&c.apply(n,arguments)});var u=n.setSonNodeCheckBox;u&&(n.setSonNodeCheckBox=function(e,t,i,o){(!t||!r.isHidden(e,t))&&u.apply(n,arguments)});var d=n.repairParentChkClassWithSelf;d&&(n.repairParentChkClassWithSelf=function(e,t){(!t||!r.isHidden(e,t))&&d.apply(n,arguments)})}(jQuery);